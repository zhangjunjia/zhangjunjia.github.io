{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/lib/anime.min.js","path":"lib/anime.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/algolia-search.js","path":"js/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/local-search.js","path":"js/local-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1}],"Cache":[{"_id":"themes/next/.editorconfig","hash":"731c650ddad6eb0fc7c3d4a91cad1698fe7ad311","modified":1578728919549},{"_id":"themes/next/.eslintrc.json","hash":"d3c11de434171d55d70daadd3914bc33544b74b8","modified":1578728919550},{"_id":"themes/next/.gitattributes","hash":"3e00e1fb043438cd820d94ee3dc9ffb6718996f3","modified":1578728919551},{"_id":"themes/next/.gitignore","hash":"d9021ac0041b511356fc7044cb02c6e0e567d706","modified":1578728919569},{"_id":"themes/next/.stylintrc","hash":"6259e2a0b65d46865ab89564b88fc67638668295","modified":1578728919570},{"_id":"themes/next/LICENSE.md","hash":"0a9c7399f102b4eb0a6950dd31264be421557c7d","modified":1578728919572},{"_id":"themes/next/.travis.yml","hash":"379f31a140ce41e441442add6f673bf397d863ea","modified":1578728919571},{"_id":"themes/next/README.md","hash":"cf80e405a426235ae6239d8370a841ff21b99d79","modified":1578728919573},{"_id":"themes/next/crowdin.yml","hash":"4a53f5985e545c635cb56b2a57ed290cb8cf8942","modified":1578728919576},{"_id":"themes/next/_config.yml","hash":"5f719e44165b90dd7cf9ba13e5624c900ef3a289","modified":1586667659458},{"_id":"themes/next/gulpfile.js","hash":"c4cffe4df4ba406d9ab347bc52a0c8059c5050b1","modified":1578728919606},{"_id":"themes/next/package.json","hash":"e8703def66d244ef9c355f052e4e3968b1edef4f","modified":1578728919714},{"_id":"source/categories/index.md","hash":"13b9783de01fb0290fe80ea11384e9026b61c0d3","modified":1586661911317},{"_id":"source/_posts/2015-11-14-hbase-java-api-example.markdown","hash":"cfe780097f4633fe629ad39c79b4cfc2bd23ce39","modified":1578713215197},{"_id":"source/_posts/2015-10-27-multi-agent.markdown","hash":"2628c5f88fc3562c3db791ae61ed158e71836c21","modified":1578713215196},{"_id":"source/_posts/2015-11-21-computer-systems.markdown","hash":"9dba885566e7a8536c546fb6bb2d8db3c8cbb47e","modified":1586663345442},{"_id":"source/_posts/2015-11-23-cplusplus-primer-v5.markdown","hash":"72bb72c539d6ba73167a6a474847aafd0c8c0432","modified":1586662825373},{"_id":"source/_posts/2015-12-20-maven-howto.markdown","hash":"2f0879c435720e106b8ef018ed0ce52792f5d224","modified":1586662833465},{"_id":"source/_posts/2016-01-23-sth-about-spring-boot.markdown","hash":"f68413a71f95e0858282183af93a4e11b79449a3","modified":1578713215199},{"_id":"source/_posts/2016-05-05-svn-that-i-used.markdown","hash":"46d352271bec849d299129a36efb8e035957bf22","modified":1586662573401},{"_id":"source/_posts/2016-04-22-advanced-linux-programing.markdown","hash":"26a2950195f5dc1cc6722b737a2d49892abef1b8","modified":1586662880727},{"_id":"source/_posts/2016-05-09-after-my-machine-was-attacked.markdown","hash":"3dee4794ea50541f8452d51858def41d674f5f35","modified":1586662554184},{"_id":"source/_posts/2016-05-09-lvm-that-i-used.markdown","hash":"8023e33e587b21e8d94ee7dbd90db79d48257a8a","modified":1586662588805},{"_id":"source/_posts/2016-05-11-2015-work-summary.markdown","hash":"9a0e276d0b5cc982a6aa8ad280d3546cb0620476","modified":1586662197006},{"_id":"source/_posts/2016-05-11-hbase-incremental-backup.markdown","hash":"fc99ceb6114580e5fb5eb8bed7c86b01ebc54df4","modified":1578713215202},{"_id":"source/_posts/2016-06-22-svn-hooks.markdown","hash":"3cea1853fdcd223318e1fe90d228c1e1ac593c85","modified":1586662607274},{"_id":"source/_posts/2016-06-22-autossh-helper.markdown","hash":"4f72363e5bdc0c15cce093d924d1225ec4aa7198","modified":1586662600666},{"_id":"source/_posts/2016-06-29-bugzilla-in-docker.markdown","hash":"9aa4568748a8619e0604b8f72e6ebb210dd296ec","modified":1586662623177},{"_id":"source/_posts/2016-06-28-ant-war-task.markdown","hash":"ebe32e070b8324a199c6fa3e63b6e8f7522f6a2f","modified":1586662616364},{"_id":"source/_posts/2016-07-04-generate-core-file.markdown","hash":"f004451b3e38605237041065c484c0acf9a26ca9","modified":1578713215204},{"_id":"source/_posts/2016-08-02-qa-of-unp.markdown","hash":"cf700a5cc49e89a7822195f9ae0f5575172829fe","modified":1586662922363},{"_id":"source/_posts/2016-08-02-summary-of-const.markdown","hash":"cfe9cf268e644ff754d28a20d7bdd77094e3ce76","modified":1586662930548},{"_id":"source/_posts/2016-08-05-about-sigpipe.markdown","hash":"898294c7692dce5b9c48afe2bc6bbc41c033b7c6","modified":1586662672274},{"_id":"source/_posts/2016-08-13-c-sendmail.markdown","hash":"da752ff6b956610e4ad6b30f92d8052ec33f087c","modified":1578713215206},{"_id":"source/_posts/2016-08-17-tomcat-multi-virtual-host.markdown","hash":"098c89bb5a36eb28499160c7b521424b7997cf23","modified":1586662680805},{"_id":"source/_posts/2017-04-20-rx-8025.md","hash":"e37d93ed65c5ac7d8e5b700331bcf2249054353e","modified":1578713215207},{"_id":"source/_posts/2017-05-04-puzzle-of-c-pointer.md","hash":"16c072ee257a1ae0990021498cb188e3409a8ccd","modified":1586662955218},{"_id":"source/_posts/2017-07-07-sth-about-fread.md","hash":"316d89df9977e8c40ca0ac8d9aefbb82492b68d4","modified":1586662965513},{"_id":"source/_posts/2017-05-09-power-adjustment.md","hash":"e5b70d08960abcb142947aee13524a0b18cf7b35","modified":1578713215208},{"_id":"source/_posts/2017-07-28-left-shift.md","hash":"901574b8855309d7c7ee9fe8ffde8bd29e5e3dea","modified":1586662712883},{"_id":"source/_posts/2018-06-07-core-java-equals.md","hash":"2aba0c2cd6ef93ab5e85783d8bf4c3ea6b6c3a38","modified":1586662972998},{"_id":"source/_posts/2018-06-14-close-wait-issue.md","hash":"096b465f9b1e370722e2159aeddaeef935626fed","modified":1586662981077},{"_id":"source/_posts/2018-06-16-too-many-open-files.md","hash":"1d10debf8796e4a443f01f50454a17a35f7a6b9d","modified":1586662987794},{"_id":"source/_posts/2018-07-07-jvmtop-profile.md","hash":"43638ee8c775ab10e08e3e0dbfec614652531caa","modified":1586663002244},{"_id":"source/_posts/2018-09-12-use-jmc-jfr-jprofile.md","hash":"8fe61d447d7bdb0f10f5cd0834795f1adb6cdfdc","modified":1586662310261},{"_id":"source/_posts/2018-09-13-basic-concept-of-mysql-1.md","hash":"3884fb373af6c1c279d52f62488997403cac6b0c","modified":1586662319775},{"_id":"source/_posts/2018-09-20-tcp-state.md","hash":"020e5aa82b82c9dbefe25db799f220fb98a57a23","modified":1586662330804},{"_id":"source/_posts/2019-03-16-mysql-mmm-mha.md","hash":"ad2b93f68edfb72d28493c20c462faa85c9046bf","modified":1586662341022},{"_id":"source/_posts/2019-03-31-beyond-resharding.md","hash":"de8a93ee7a3f77d81c72d1e4c204abb005c2ef04","modified":1586662352835},{"_id":"source/_posts/2019-08-21-redlock-algorithm.md","hash":"02b407f6953f9a47992a3c2d1c5f3eb12b1d958b","modified":1586663044753},{"_id":"source/_posts/2019-03-31-beyond-sharding.md","hash":"00f0087730b40e180d33af273b9b01906b670f30","modified":1586662367223},{"_id":"source/_posts/2019-12-27-algorithm-04-summary.md","hash":"bdd61acebab1e7a0141c354b3661a271f7a6aaa8","modified":1586662398202},{"_id":"source/_posts/2019-12-27-juejin-juc-blog-note.md","hash":"87cb8c0c00b65c89c1d6b8e1733d9d83d58b5abf","modified":1586663216264},{"_id":"source/_posts/2019-12-27-b-tree.md","hash":"ab6537aa88edb65e3c4cfaeebebd165cc9c6bdb3","modified":1586662419161},{"_id":"source/_posts/2019-12-27-stock-dp.md","hash":"34ef89ca0059c7d317ac34ae29eb9c1f7dac1559","modified":1586662438204},{"_id":"source/_posts/2020-01-12-kafka-geekbang-note.md","hash":"953432e8040d3a2b89e981dfdb324485082a9432","modified":1586663037927},{"_id":"source/_posts/2020-01-14-chenhao-resilience-design.md","hash":"84941c40719051c8d610042665379ef89bbb4a20","modified":1586663261667},{"_id":"source/tags/index.md","hash":"a391f6d8eb202f685c169aaba74239cf36177daa","modified":1578713215218},{"_id":"source/_posts/2020-01-15-chenhao-manage-design.md","hash":"c53a36b30b9c2db97e8b0d1de6a9a950e4f1cf65","modified":1586663453809},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1578728919493},{"_id":"themes/next/.git/config","hash":"f1969a9b2e1128a528f7b846c2bc39a7f0984cdf","modified":1578728919517},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1578728863466},{"_id":"themes/next/.git/index","hash":"43d97b8e643aec9f244f3e347db3950751abe122","modified":1578835020362},{"_id":"themes/next/.git/packed-refs","hash":"cf2dc998f7786405387cba46249303921c58a2be","modified":1578728919472},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"778b7e052993ed59f21ed266ba7119ee2e5253fb","modified":1578728919553},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"ccfa6aa32847ce5d1f8262d563da04cd0fda25dc","modified":1578728919554},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"f0f8ee38ebcf16122941d73b8fd23559fe39b9eb","modified":1578728919559},{"_id":"themes/next/.github/config.yml","hash":"d2f6c321fa0bff36b9c3c64e33ca6e4ccd186c50","modified":1578728919559},{"_id":"themes/next/.github/issue-close-app.yml","hash":"b14756e65546eb9ecc9d4393f0c9a84a3dac1824","modified":1578728919563},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"533fbe6b2f87d7e7ec6949063bb7ea7eb4fbe52d","modified":1578728919564},{"_id":"themes/next/.github/lock.yml","hash":"3ce3d0a26030a1cd52b273cc6a6d444d7c8d85c2","modified":1578728919565},{"_id":"themes/next/.github/mergeable.yml","hash":"1c1cb77a62df1e3654b151c2da34b4a10d351170","modified":1578728919566},{"_id":"themes/next/.github/release-drafter.yml","hash":"09c3352b2d643acdc6839601ceb38abc38ab97c5","modified":1578728919567},{"_id":"themes/next/.github/stale.yml","hash":"b2b762645d3c3e373e0b2c861bf2ddf7f303c577","modified":1578728919568},{"_id":"themes/next/.github/support.yml","hash":"7ce2722d6904c31a086444c422dc49b6aa310651","modified":1578728919568},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"5ace79ff1859d985339fdf6d74b779f60c91a27a","modified":1578728919580},{"_id":"themes/next/docs/AGPL3.md","hash":"f463f95b169d64983f59fa6f3e4b6760290a0e6b","modified":1578728919579},{"_id":"themes/next/docs/AUTHORS.md","hash":"cde7cc095ac31b421a573042cf61060f90d9ad0d","modified":1578728919581},{"_id":"themes/next/docs/DATA-FILES.md","hash":"0b00116843669a162093591973f4099b50ba3f24","modified":1578728919582},{"_id":"themes/next/docs/INSTALLATION.md","hash":"07ea00bee149a1bdc9073e903ee6b411e9f2f818","modified":1578728919583},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"356ada9837300bcdd1711321dabc309887e23730","modified":1578728919584},{"_id":"themes/next/docs/LICENSE.txt","hash":"ae5ad07e4f4106bad55535dba042221539e6c7f9","modified":1578728919585},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"f3f7ad28644b976fa513c1abd813f6ec66f0bff2","modified":1578728919587},{"_id":"themes/next/docs/MATH.md","hash":"6f6faf58f86b03b9344ef857ae34de97fc336590","modified":1578728919586},{"_id":"themes/next/languages/de.yml","hash":"c8fee1aae903fe3c2b6b052a8c2f04c844a1bb4f","modified":1578728919608},{"_id":"themes/next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1578728919610},{"_id":"themes/next/languages/en.yml","hash":"388fb5186919ac20c493628fbaa5cc635780a7d4","modified":1578728919610},{"_id":"themes/next/languages/fa.yml","hash":"662f08d076e9bbe7bc67901b56716760211259c5","modified":1578728919612},{"_id":"themes/next/languages/es.yml","hash":"e7d1533fe1b2f5946896348b7347c056e9558ef4","modified":1578728919611},{"_id":"themes/next/languages/fr.yml","hash":"7175a8c3ba83befef9620dfd22e40bb1cfcb9c9e","modified":1578728919613},{"_id":"themes/next/languages/hu.yml","hash":"96e7f749e88a2dde315b1421f4a121b73c71cea6","modified":1578728919614},{"_id":"themes/next/languages/it.yml","hash":"1ac08187ba87d34c367eb72f30517f4d25839fb9","modified":1578728919616},{"_id":"themes/next/languages/id.yml","hash":"21278ebca6994cda2e9761a89af574b7511f7b5f","modified":1578728919615},{"_id":"themes/next/languages/ja.yml","hash":"7d1e73011143437376d09093b2118ef010930fc1","modified":1578728919617},{"_id":"themes/next/languages/nl.yml","hash":"4b8a884271ed2a85391306c827ca56837bb9bcbe","modified":1578728919619},{"_id":"themes/next/languages/ko.yml","hash":"f6cd61bedfab340a322cacea8d112311f3ecf584","modified":1578728919618},{"_id":"themes/next/languages/pt-BR.yml","hash":"1f1b81d27753381257c0b958053a9d510b4e31df","modified":1578728919620},{"_id":"themes/next/languages/pt.yml","hash":"376f87ef8b5c798176aba7571ff0588e35f8c825","modified":1578728919621},{"_id":"themes/next/languages/tr.yml","hash":"cedbbf336959a927bd7710f12504db90b63c81e0","modified":1578728919624},{"_id":"themes/next/languages/uk.yml","hash":"f02c673d48e597894f155d0b85fc75e6ed4d1d31","modified":1578728919624},{"_id":"themes/next/languages/ru.yml","hash":"8b73c200342ba9c4fe96540aceb5afe8d709f53e","modified":1578728919623},{"_id":"themes/next/languages/vi.yml","hash":"ce6acf1049d93cc73f5f77df2e1070420b4c2435","modified":1578728919626},{"_id":"themes/next/languages/zh-CN.yml","hash":"a03e6796faa00c0390cc541049e3dcf6ad38a697","modified":1578728919626},{"_id":"themes/next/languages/zh-HK.yml","hash":"759ea4759cc76a97cfec350ac2ceb53447fff76c","modified":1578728919627},{"_id":"themes/next/languages/zh-TW.yml","hash":"995c94e5be02b909476c3c41c18e66af7c0db02c","modified":1578728919628},{"_id":"themes/next/layout/_layout.swig","hash":"d672c71eb13a8e6ed5cd4721fc8b4aa7fea9cdde","modified":1578728919630},{"_id":"themes/next/layout/category.swig","hash":"9febc49ff6f476fd0261c75aecbc67cc24c11667","modified":1578728919710},{"_id":"themes/next/layout/archive.swig","hash":"607d27c867a35dee55b4b49baae366a63f418688","modified":1578728919709},{"_id":"themes/next/layout/index.swig","hash":"014202a6e316096f85f8c1489568d31212c5f1b2","modified":1578728919711},{"_id":"themes/next/layout/page.swig","hash":"8322d902a8d870e6d0b0bc25750141c51749bf8b","modified":1578728919712},{"_id":"themes/next/layout/post.swig","hash":"d75078e7acd9ead60dee9bec05b2b4f60e121177","modified":1578728919712},{"_id":"themes/next/layout/tag.swig","hash":"eedd3a19aa5222184ea6ee628fa46dfa0654ece8","modified":1578728919713},{"_id":"themes/next/scripts/renderer.js","hash":"e3658eea97b1183ee2e9f676231e53f7994741f6","modified":1578728919740},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1578728863470},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1578728863468},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1578728863472},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1578728863474},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1578728863476},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1578728863478},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1578728863480},{"_id":"themes/next/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1578728863481},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1578728863484},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1578728863486},{"_id":"themes/next/.git/logs/HEAD","hash":"50d503e92f809997aafeb3e974e245e6f4186608","modified":1578728919500},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1578728863490},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.md","hash":"51997fd06bb9dd4904421c66f651c0cf22a9fd78","modified":1578728919555},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.md","hash":"474a00d9cdb3bd9e8cfb0578aa45f1ae222a98a9","modified":1578728919556},{"_id":"themes/next/.github/ISSUE_TEMPLATE/question.md","hash":"3a9c971a5afaf92dbfb78579e3be8ac44b5d2dae","modified":1578728919558},{"_id":"themes/next/.github/ISSUE_TEMPLATE/other.md","hash":"12a2bc8c3f6c68f0517971167d2da37c66555fef","modified":1578728919557},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"54e6a067ed95268eab6be2ba040a7e9b1907928e","modified":1578728919589},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"a9cfe5ac9ef727a8650b2b6584482751a26b1460","modified":1578728919590},{"_id":"themes/next/docs/ru/README.md","hash":"3a1ee172d10547d235ff28e8d3599504663bd53b","modified":1578728919592},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"510cfd27e37e3a611649a3d1a84cc52fd4da5936","modified":1578728919593},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"fcbe8e8d7ad39028936ba341f4154e4f9234d8b2","modified":1578728919595},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"2897d970d90f299818b9c1492741724883edd60f","modified":1578728919598},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7e6f227f2aaf30f400d4c065650a4e3d0d61b9e1","modified":1578728919597},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"2d868cd271d78b08775e28c5b976de8836da4455","modified":1578728919599},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"716111dd36d276f463c707dfcc9937fea2a1cf7a","modified":1578728919600},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"db6c6b5af8423c8134ed1cc689f61a10bdb240f0","modified":1578728919603},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"a23e9466edb1b5fed54d86a353ebb490967b5cc4","modified":1578728919602},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"b1fddd9a1561ad5d2dee882ce2d229b2aa8b4684","modified":1578728919605},{"_id":"themes/next/docs/zh-CN/README.md","hash":"801da9bbe7122423994d8601fc62ad184a8ce9ed","modified":1578728919604},{"_id":"themes/next/layout/_macro/post.swig","hash":"f4c4b687341dc14bbc3afcdc80bc04ee0fb8699c","modified":1578728919632},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"db25de9ceaa1ec5650ff15cf4aee4399ed8f9c42","modified":1578728919631},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"be603e35bea3431b133fcd4b9626993dcfb85c06","modified":1578728919633},{"_id":"themes/next/layout/_partials/comments.swig","hash":"ed7b2574d1fa57611dc887124a4df273b8d3d71c","modified":1578728919635},{"_id":"themes/next/layout/_partials/footer.swig","hash":"fc6e2d193fea16d1cf7cd5c83b2c294491d19d31","modified":1578728919636},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"2de77d533c91532a8a4052000244d0c1693370df","modified":1578728919647},{"_id":"themes/next/layout/_partials/widgets.swig","hash":"5392dcbb504266f0f61d5b8219914068ef9cdc25","modified":1578728919657},{"_id":"themes/next/layout/_scripts/index.swig","hash":"1822eaf55bbb4bec88871c324fc18ad95580ccb4","modified":1578728919659},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"7b9e0f776a5be6c3f95bc7f394e1424ba02ba93b","modified":1578728919660},{"_id":"themes/next/layout/_scripts/pjax.swig","hash":"f1c4611c543eddf364dce68dd9825f3df958aab3","modified":1578728919663},{"_id":"themes/next/layout/_scripts/three.swig","hash":"6b092c6d882b2dfa5273e1b3f60b244cb7c29fcd","modified":1578728919669},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"244ca2d74ee0d497c87572c6a26b43c62a952673","modified":1578728919671},{"_id":"themes/next/layout/_third-party/baidu-push.swig","hash":"bd9ba0bf60cc3008ee14339fa395ee6af188e879","modified":1578728919678},{"_id":"themes/next/layout/_third-party/index.swig","hash":"c6b63cbc80938e6e09578b8c67e01adf13a9e3bd","modified":1578728919688},{"_id":"themes/next/layout/_third-party/quicklink.swig","hash":"fef4bfec70cb877c23c7a6b096d35b1579d0e2b2","modified":1578728919694},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"206644ff2c769226a58a9039eda9206302460626","modified":1578728919695},{"_id":"themes/next/scripts/events/index.js","hash":"d263d0814d65ec38eec56ae004b6506533bd936d","modified":1578728919716},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"ad321db012cea520066deb0639335e9bc0dcc343","modified":1578728919731},{"_id":"themes/next/scripts/filters/front-matter.js","hash":"305d03c1e45782988809298c3e3b3c5d5ee438aa","modified":1578728919732},{"_id":"themes/next/scripts/filters/minify.js","hash":"21196a48cb127bf476ce598f25f24e8a53ef50c2","modified":1578728919734},{"_id":"themes/next/scripts/filters/locals.js","hash":"b1d33e92b2baaf83ebd3985e42ad767c1a0565c1","modified":1578728919734},{"_id":"themes/next/scripts/filters/post.js","hash":"fcf1217ded1be1c9cabf0909c6a938ab546cbad2","modified":1578728919735},{"_id":"themes/next/scripts/helpers/engine.js","hash":"a4031bea9d7fd0a25a37e1204733e392e67f8749","modified":1578728919737},{"_id":"themes/next/scripts/helpers/font.js","hash":"20317a314d2283e4f87c8c8d247422f33427ebbe","modified":1578728919738},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"301c8061c17aa3394b726dc8f6a2863c176a03a6","modified":1578728919739},{"_id":"themes/next/scripts/tags/button.js","hash":"39156bf735c1d1ebd0d418c411f14ff4f0acdd75","modified":1578728919742},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"6fbc5764dddca114667f1487120a9ed32519857b","modified":1578728919742},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"4519ab8e6898f2ee90d05cde060375462b937a7d","modified":1578728919743},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"93ccd3f99d3cb42674f29183c756df63acb5d7f8","modified":1578728919744},{"_id":"themes/next/scripts/tags/label.js","hash":"fc83f4e1be2c34e81cb79938f4f99973eba1ea60","modified":1578728919745},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"81134494ff0134c0dae1b3815caf6606fccd4e46","modified":1578728919746},{"_id":"themes/next/scripts/tags/pdf.js","hash":"ab995f0fc60d60f637220e2651111b775b8a06de","modified":1578728919748},{"_id":"themes/next/scripts/tags/note.js","hash":"1fdf4f95810fdb983bfd5ad4c4f13fedd4ea2f8d","modified":1578728919747},{"_id":"themes/next/scripts/tags/tabs.js","hash":"72a5adbd8f300bee1d0c289367598ca06b2bed17","modified":1578728919748},{"_id":"themes/next/scripts/tags/video.js","hash":"944293fec96e568d9b09bc1280d5dbc9ee1bbd17","modified":1578728919749},{"_id":"themes/next/source/css/main.styl","hash":"ee7c731c03d724827d9324d08be701c9d2f04c60","modified":1578728919861},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1578728919862},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1578728919864},{"_id":"themes/next/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1578728919865},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1578728919866},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1578728919867},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1578728919868},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1578728919870},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1578728919870},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1578728919871},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1578728919872},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1578728919873},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1578728919874},{"_id":"themes/next/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1578728919875},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1578728919876},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1578728919877},{"_id":"themes/next/source/lib/anime.min.js","hash":"960be51132134acd65c2017cc8a5d69cb419a0cd","modified":1578728919890},{"_id":"themes/next/source/js/algolia-search.js","hash":"f632ff7a404ac4fb04313bc554815406ebcb2a0b","modified":1578728919879},{"_id":"themes/next/source/js/local-search.js","hash":"1623d2be3c0cd7114ed89762c70367eb48d0587e","modified":1578728919881},{"_id":"themes/next/source/js/bookmark.js","hash":"2268bfcab8cf9019e590e2d356b08a3d4a0cf791","modified":1578728919880},{"_id":"themes/next/source/js/motion.js","hash":"7c3d324e188b4297006a8741a4b030a765e8d7ba","modified":1578728919882},{"_id":"themes/next/source/js/next-boot.js","hash":"81454487703958e2ce06965fd3879c1d859b6f36","modified":1578728919883},{"_id":"themes/next/source/js/utils.js","hash":"69ba30c7e5926178dca2236a556248b9cb794f47","modified":1578728919887},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1578728919831},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1578728919832},{"_id":"themes/next/.git/refs/heads/master","hash":"e931965ad4fe4675cbfa03bbfa18e5e20c9eacdb","modified":1578728919499},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"c75eb3039f91076a2971fa0e027707b8e0779f35","modified":1578728919638},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"aa03613a0474dcaaf96ee2d9e644bcad9add13a7","modified":1578728919637},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"36d64a542b709490489c8c61269216f47241793a","modified":1578728919640},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"94edc28022325ba21b4e23bb13e1fac337223adc","modified":1578728919640},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"34a845987f536ffed8d6a9efc46306c26f84e3d7","modified":1578728919642},{"_id":"themes/next/layout/_partials/header/menu-item.swig","hash":"6535777dc8ca267a12339235d89dfc79364d4b71","modified":1578728919641},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"2c8f6fa26ffa7ffb7c18bbc2832b79eac298128a","modified":1578728919643},{"_id":"themes/next/layout/_partials/page/breadcrumb.swig","hash":"91c0addb33006619faa4c32e5d66874e25f1e9b3","modified":1578728919645},{"_id":"themes/next/layout/_partials/page/page-header.swig","hash":"b3b4ffcbda422d7fc21ee43fec7d2a5056b2f381","modified":1578728919645},{"_id":"themes/next/layout/_partials/post/post-copyright.swig","hash":"5fd5ba53962aefccb43b1d2b306a534add2373e1","modified":1578728919649},{"_id":"themes/next/layout/_partials/post/post-footer.swig","hash":"ce712c110b5ce8aacba7a86b0558ff89700675c9","modified":1578728919650},{"_id":"themes/next/layout/_partials/post/post-related.swig","hash":"bc7b047a6246df07767373644b1637d91c3a88b1","modified":1578728919651},{"_id":"themes/next/layout/_partials/post/post-reward.swig","hash":"e0bc42c0918bd411f3eebd42e5e22383170db1c6","modified":1578728919652},{"_id":"themes/next/layout/_partials/search/algolia-search.swig","hash":"f9017a2deb2f262912476e94822081bb10ee43af","modified":1578728919653},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"f1107c28661370e10e1940bff856f22f14f08518","modified":1578728919655},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"98453ac4a520b2600181fc0331f0067125d0ed4f","modified":1578728919655},{"_id":"themes/next/layout/_partials/sidebar/site-overview.swig","hash":"1c8cd2ba261ac47b8e5e470309a5afb661318ff5","modified":1578728919657},{"_id":"themes/next/layout/_scripts/pages/schedule.swig","hash":"d0f18a88fb33b3341c0f5c81d7905deef934b9c2","modified":1578728919662},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"34495d408e8467555afee489500b8aad98c52079","modified":1578728919665},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"0b44f400ec00d2b5add5ee96c11d22465c432376","modified":1578728919666},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"0b44f400ec00d2b5add5ee96c11d22465c432376","modified":1578728919667},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"34495d408e8467555afee489500b8aad98c52079","modified":1578728919668},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"84adaadd83ce447fa9da2cff19006334c9fcbff9","modified":1578728919673},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"b8819bd056f8a580c5556d4415836a906ed5d7a4","modified":1578728919674},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"85b60e222712ca3b2c4dc2039de2dc36b8d82940","modified":1578728919677},{"_id":"themes/next/layout/_third-party/analytics/growingio.swig","hash":"91c2cb900c76224c5814eeb842d1d5f517f9bf05","modified":1578728919676},{"_id":"themes/next/layout/_third-party/chat/chatra.swig","hash":"e8aa0ba146b658ae3b73efc4ca63325886bbaa2d","modified":1578728919680},{"_id":"themes/next/layout/_third-party/chat/tidio.swig","hash":"fb94ee487d75e484e59b7fba96e989f699ff8a83","modified":1578728919681},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"9298e6d6c4a62a0862fc0f4060ed99779d7b68cb","modified":1578728919682},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"96e83b6ce2e8d5d3f57676755a290b5a826e3a46","modified":1578728919683},{"_id":"themes/next/layout/_third-party/comments/disqusjs.swig","hash":"c608507fa2f6a0994764336383e394c31219b1f2","modified":1578728919684},{"_id":"themes/next/layout/_third-party/comments/gitalk.swig","hash":"d67369b3216ab63b5596a867fde209232afe9408","modified":1578728919685},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"3d91899ca079e84d95087b882526d291e6f53918","modified":1578728919686},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"1d6f87818ebedc3a1af691e33ab50b84dee74646","modified":1578728919687},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"59df21fcfe9d0ada8cee3188cb1075529c1c3eb8","modified":1578728919690},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"276f523e414d4aa7f350a8f2fd3df8a3d8ea9656","modified":1578728919692},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"1a8bdd6fa16f609872c8f92b546e29a16031b1f5","modified":1578728919693},{"_id":"themes/next/layout/_third-party/search/algolia-search.swig","hash":"35fb1f6438111451ccfbb8ba4a6a8424259c0149","modified":1578728919697},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"58296a5c1883f26464c2a5ccf734c19f5fbf395a","modified":1578728919698},{"_id":"themes/next/layout/_third-party/search/swiftype.swig","hash":"aa6ab95b8b76611694613defb4bf25003d1b927f","modified":1578728919698},{"_id":"themes/next/layout/_third-party/statistics/busuanzi-counter.swig","hash":"5b5618c2f6ad1d7971e6db257222fce89aa56565","modified":1578728919700},{"_id":"themes/next/layout/_third-party/statistics/cnzz-analytics.swig","hash":"53a0760c75d5aaabb3ce8e8aa8e003510d59807f","modified":1578728919701},{"_id":"themes/next/layout/_third-party/statistics/index.swig","hash":"964cd6bac668cf6d211a2624fbef3948cfdece55","modified":1578728919703},{"_id":"themes/next/layout/_third-party/statistics/lean-analytics.swig","hash":"15942931806bea463225c87aa3c8fb64a1073da9","modified":1578728919705},{"_id":"themes/next/layout/_third-party/statistics/firestore.swig","hash":"e742d3064862c0513a2b884b3d4f1c1a2b9d35b2","modified":1578728919702},{"_id":"themes/next/layout/_third-party/tags/mermaid.swig","hash":"db17f093ecf23e960a32af661c6b9a0651281a6b","modified":1578728919707},{"_id":"themes/next/layout/_third-party/tags/pdf.swig","hash":"42e7beed8c7583e0c0612692eebfa5743cc4d006","modified":1578728919708},{"_id":"themes/next/scripts/events/lib/config.js","hash":"913154f487b0e49c5a7fb0f462ec7fa4c90e87cb","modified":1578728919718},{"_id":"themes/next/scripts/events/lib/injects-point.js","hash":"08496b71c9939718e7955704d219e44d7109247b","modified":1578728919719},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"e73f697bb160b223fdde783237148be5f41c1d78","modified":1578728919721},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"d002c9eea7e7dd31b64a4172012d4294489974d5","modified":1578728919724},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"31a6c8fbdfa16112b0b099727437b9df7641d421","modified":1578728919725},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"0c3bea89d64bc12c1bbe6f208a83773c6fb5375a","modified":1578728919727},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"a7a768edc8f9c739c0b4f799ae0e78e3270830f7","modified":1578728919727},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"67cf90d9a2428c14eb113a64bdd213c22a019aef","modified":1578728919728},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"323a47df6ded894944a2647db44556d6163e67c4","modified":1578728919728},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"a4f3153ac76a7ffdf6cc70f52f1b2cc218ed393e","modified":1578728919729},{"_id":"themes/next/scripts/filters/comment/valine.js","hash":"dd6c95d27e5846cb785909bc86228f376aedff45","modified":1578728919730},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"b58ed9dabc5be0090647d9a0afc43359e1e0e14c","modified":1578728919830},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"a0e0628fc958dfe794e2c073301f7c2ba00e20f1","modified":1578728919833},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"1619130f81e091bb9ac43f93814f594dd1739255","modified":1578728919833},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"f6517f04ee9c8d93d1667c5617116f03ce1942a2","modified":1578728919856},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"1ff4303ad83f96b152be571d4df07969199d5930","modified":1578728919858},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"0bccf86c88e4d27b41f75bf166e66480c7bf919c","modified":1578728919859},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"5832f04fab4e4224bca6dc31a3d94da034a20861","modified":1578728919857},{"_id":"themes/next/source/css/_variables/base.styl","hash":"7d407136d23a61dd14410553932b75cbaf3f5bdf","modified":1578728919860},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1578728919893},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1578728919894},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1578728919894},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"b4aefc910578d76b267e86dfffdd5121c8db9aec","modified":1578728919892},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1578728919895},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1578728919912},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1578728919913},{"_id":"themes/next/source/js/schemes/muse.js","hash":"a8aea6d062c2859b503ea1bb8b7c9ce364ed9100","modified":1578728919885},{"_id":"themes/next/source/js/schemes/pisces.js","hash":"3055813e55ab6e25d6c7b3905f5a2561341cda87","modified":1578728919886},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"50d503e92f809997aafeb3e974e245e6f4186608","modified":1578728919504},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1578728919490},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"5c27faaaf5a201d1c41c08ad5bfe1757a894fd69","modified":1578728919809},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"59c6e4e222cbee13a53f2d73ba16953af2cda82d","modified":1578728919807},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"5772ee6cdc50a9e1a4425d79114d46065babe217","modified":1578728919810},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"6d740699fb6a7640647a8fd77c4ea4992d8d6437","modified":1578728919815},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"b619f39e18398422e0ac4999d8f042a5eaebe9cd","modified":1578728919816},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"43045d115f8fe95732c446aa45bf1c97609ff2a5","modified":1578728919817},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"a443b11babb8ef2b4f410db30d9e55569528cd99","modified":1578728919818},{"_id":"themes/next/source/css/_common/scaffolding/toggles.styl","hash":"20e0e3e3eba384930c022e21511214d244b4c9e7","modified":1578728919828},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"672866ede12bc2dd0835858f2697703fbc9dacb2","modified":1578728919754},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"bf86c81c57db3ed8fbb67df44fc2c0a79cd6ffd6","modified":1578728919755},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"daf188e77bd9d9fcff74c5659e875ebdd2010f08","modified":1578728919756},{"_id":"themes/next/source/css/_common/components/rainbow.styl","hash":"fbcffb91e7f1ca3cde988353e36e4bf75770a8e8","modified":1578728919775},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"4052c6c598a9dc443ffac171cc6cb31e981c5e5d","modified":1578728919776},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"ca1da6314c123f1bf0a95feefb073f08bb8c256a","modified":1578728919793},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"78406dfb644b0e516f697aead3ed5d545c5b8144","modified":1578728919792},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"a8346f78d69ad108c31dd858a1e934d5107c43e1","modified":1578728919836},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"335e587a783c875f7768edeb02e325f9ce7e164d","modified":1578728919838},{"_id":"themes/next/source/css/_schemes/Mist/_layout.styl","hash":"5ae9f601b4c85afe33c5fe338b371b507d6f351c","modified":1578728919839},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"7199707befa5469f2a3fb18ca49c2e0ff2c62ee0","modified":1578728919841},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"68f4854a327a51c2092c6d605ed195dfaf413823","modified":1578728919840},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"c5142739e01e9f25c8b32b2209af85c787bb2b42","modified":1578728919841},{"_id":"themes/next/source/css/_schemes/Pisces/_header.styl","hash":"55a1e7deda42cb3318d1e19b904c9c91891659f3","modified":1578728919849},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"94e6b2b33c942f1a32a4e412de1f6d7f5ae24a4c","modified":1578728919852},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"d7a59c099ba678e13e55163b6675776c7266aebe","modified":1578728919850},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"42d3bb06357ecc3514cb853b4ff6d9193d09c9e2","modified":1578728919853},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"111766f2494ae2b7d6f432c9eb3bda4793e47f9a","modified":1578728919854},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"25c2a7930da14f023329df20f38df2728057fb4d","modified":1578728919854},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"49c76bc723d3952abb613d9d68398ed7305da999","modified":1578728919844},{"_id":"themes/next/source/css/_schemes/Muse/_header.styl","hash":"9a7d7502ce394ddeba1773f90bbe19016b0cf0f6","modified":1578728919843},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"82c4bd8f5b8b036c243404171a4d7925403a1b7d","modified":1578728919845},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"4dc216cb9f1c12bf7720012fd24e126ef6a4eca7","modified":1578728919846},{"_id":"themes/next/source/css/_schemes/Muse/_sub-menu.styl","hash":"2d3e05015796a790abd9d68957a5c698c0c9f9b6","modified":1578728919847},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"25c2a7930da14f023329df20f38df2728057fb4d","modified":1578728919848},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1578728919898},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"3655f1fdf1e584c4d8e8d39026093ca306a5a341","modified":1578728919897},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"88af80502c44cd52ca81ffe7dc7276b7eccb06cf","modified":1578728919900},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1578728919907},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1578728919909},{"_id":"themes/next/.git/objects/pack/pack-4debf95fd1d233cc4be2a111f0125a4e0b672c10.idx","hash":"94e6d2e846f3f7ea77ac6a8cf6a057fc312c3969","modified":1578728919280},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"50d503e92f809997aafeb3e974e245e6f4186608","modified":1578728919489},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"156f6c3d6b51bd573c3c50b04440555cc68fd28d","modified":1578728919812},{"_id":"themes/next/source/css/_common/scaffolding/highlight/diff.styl","hash":"83bd737f663a8461e66985af8ddbfc0a731fc939","modified":1578728919813},{"_id":"themes/next/source/css/_common/scaffolding/highlight/highlight.styl","hash":"091331f7ef970f291f085453e470639aa1010be8","modified":1578728919814},{"_id":"themes/next/source/css/_common/scaffolding/highlight/theme.styl","hash":"c911045b2ce9a66e38d9dd30c7ed078abbc10cbf","modified":1578728919815},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"8c318a485c56dbdcdb22fd00781484ecc151bf8a","modified":1578728919820},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"aca7bb220fc14ef2a8f96282d2a95a96a9238d46","modified":1578728919822},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"77d4f332cf805aa7d294346c99e2d72afe2e82a4","modified":1578728919823},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"d1b26ec30cd0eb84738ea6ce927fd82b35c094c3","modified":1578728919824},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"c9337e837f10c5f40c27a0c0a012f39dfadc7572","modified":1578728919825},{"_id":"themes/next/source/css/_common/scaffolding/tags/tags.styl","hash":"51d46fa3c7c6b691c61a2c2b0ac005c97cfbf72b","modified":1578728919827},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"0a7a107936250d70268db4a19276667440e91ada","modified":1578728919826},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"236a039b0900f4267de566b46f62314ad967d30f","modified":1578728919758},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"6cf78a379bb656cc0abb4ab80fcae60152ce41ad","modified":1578728919759},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"18edddb2ffb3f85a68e4367f81e06c461e07bc25","modified":1578728919759},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"686c780e6a483a2e494d9aab682803666ef63b3b","modified":1578728919760},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"a22c639cdf1073c9d060af62233125991ddf4dd5","modified":1578728919761},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"49bebe05a149f9fffba8d7d004a617e8a6e5e660","modified":1578728919763},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"724ca213d15ae27158c2cddf9c26d3dba3582283","modified":1578728919765},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"37701d40233a587401bcfc5ede056d8d1a8ba006","modified":1578728919764},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"2bfe115c2fc68f4dfce4afc4a001a2db81edd83b","modified":1578728919766},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"0dfb97703a519d9438f64f9e41ab1dd37381f733","modified":1578728919767},{"_id":"themes/next/source/css/_common/components/post/post-header.styl","hash":"ebf85cfe2d8536e0867ceea4e31f2d52a7bd7728","modified":1578728919769},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a98bbc014a55962e9c0f2d8b5af5e274d2fdd698","modified":1578728919770},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"82a275ca74086a46b8e82d5ebf78c7a807cd9c8b","modified":1578728919770},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"09dda2667628d1f91b2e37d8fc6df1413f961b64","modified":1578728919771},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5cc9e7394c927065c688cba5edd6e0a27587f1d8","modified":1578728919772},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"e32d7654972c61979999b7bca3e85a603ab2a2f7","modified":1578728919774},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"b266d2ce5e2b117be01537889e839a69004dc0bb","modified":1578728919773},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"b87f4a06c0db893df4f756f24be182e1a4751f24","modified":1578728919777},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"6880467b4f6d7b057fb8291aa10966429a0a3bff","modified":1578728919778},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"8ed7a9d5dfac592de703421b543978095129aa5b","modified":1578728919780},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"089e9e3ec17e68a7cfec5ae065e958eb40dbf71e","modified":1578728919781},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1f6b0d3ab227697ca115e57fd61122ea7950e19d","modified":1578728919782},{"_id":"themes/next/source/css/_common/outline/footer/footer.styl","hash":"296ce792c7e506b2c4b6dc234fa9591bb32a1081","modified":1578728919784},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"f7977cfacaca9db6fab4d154486ad57ec4b0fde9","modified":1578728919786},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"0bd0f4a28b3362898f4d9061b307b12bd128f6b0","modified":1578728919787},{"_id":"themes/next/source/css/_common/outline/header/header.styl","hash":"459a39c54e4a16db287f390160fc06a829d64160","modified":1578728919788},{"_id":"themes/next/source/css/_common/outline/header/headerband.styl","hash":"6d5f26646e2914474f295de8bf6dc327d4acd529","modified":1578728919788},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"de55bc28b9ecbc5fb66a177c2db735223e04e54c","modified":1578728919789},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"3e6287e2241eac9a4090b452cd270c37dc240ed2","modified":1578728919790},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"4f60b754b1286ade81e2d92a0f6e04af203729d3","modified":1578728919791},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"49722d555a2edb18094bb2cb3d7336dd72051b93","modified":1578728919795},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"bfbb2b8dfceb79c5adcc31338f9cc8efdd3c1bc6","modified":1578728919797},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"00b2055f170e54267321d27118e0a7f07d10890b","modified":1578728919798},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"0812ae7ecd1d8c60ec4290f506ec10881ed0fca8","modified":1578728919799},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"12f7eaf6b56624cbc411528562d6bb848ff97039","modified":1578728919800},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"7406d2b31b9d329043160191c98232e5aeebbc2c","modified":1578728919802},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"a78eb9f212f405378bd38582742581d26a57fe7f","modified":1578728919803},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"098b4bdf49c7300490f959386d5d1185a32543f6","modified":1578728919804},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar.styl","hash":"6523b27ff0b27b40aa5fd96b4b0540e3881889aa","modified":1578728919805},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"a782cd5ceee062fdfb91a9732017d19672973784","modified":1578728919806},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1578728919905},{"_id":"themes/next/.git/objects/pack/pack-4debf95fd1d233cc4be2a111f0125a4e0b672c10.pack","hash":"541455d053aa7896603c55717c2e23f083cfb9c9","modified":1578728919281},{"_id":"public/categories/index.html","hash":"6c352e377a76266486ceff4db4bb8083eded7d9b","modified":1586667698198},{"_id":"public/tags/index.html","hash":"d5fe003ca69322102f515738eb823c5201347351","modified":1586667698198},{"_id":"public/2018/09/20/tcp-state/index.html","hash":"47d64115c8838381c89829c5b8d242c2c46e4525","modified":1586667698198},{"_id":"public/2018/07/07/jvmtop-profile/index.html","hash":"21fff398d386b33ebba633eef05ec180aa73d7e6","modified":1586667698198},{"_id":"public/2018/06/14/close-wait-issue/index.html","hash":"cb2283d8e4da52bdae1ef0d2a0f5e4dd1bd6386f","modified":1586667698198},{"_id":"public/2017/07/28/left-shift/index.html","hash":"892099b03cd4055123319475c259e4610798587e","modified":1586667698199},{"_id":"public/2017/07/07/sth-about-fread/index.html","hash":"23f371cf968a30b16389982727a579e0ee1f7caa","modified":1586667698199},{"_id":"public/2018/06/07/core-java-equals/index.html","hash":"06113e911ea2560636a811cc124f4675490b2e82","modified":1586667698198},{"_id":"public/2017/05/09/power-adjustment/index.html","hash":"8de20adf3e494d0cb26e6f102f00ee9f59ac9fe3","modified":1586667698199},{"_id":"public/2017/05/04/puzzle-of-c-pointer/index.html","hash":"f81ed91162829923c7c92e3cde426e728411b623","modified":1586667698199},{"_id":"public/2016/08/05/about-sigpipe/index.html","hash":"c999c79b0513dd99a454b417618a9db208a88744","modified":1586667698199},{"_id":"public/2016/08/02/qa-of-unp/index.html","hash":"df9d5eec72c07cb691d09585885c3fd2c4ef1e10","modified":1586667698199},{"_id":"public/2016/07/04/generate-core-file/index.html","hash":"f30fe27095ea37cb58c88dede2168892034d2d2d","modified":1586667698199},{"_id":"public/2016/06/22/svn-hooks/index.html","hash":"c633f2f2aa5d58184bd92567119b0f3812a6d060","modified":1586667698199},{"_id":"public/2016/06/29/bugzilla-in-docker/index.html","hash":"b64ae981d1f177f87e07b56f285c0bd6f83accd3","modified":1586667698199},{"_id":"public/2016/05/05/svn-that-i-used/index.html","hash":"b4d73daa021f596258d669d13a9a38805c350f05","modified":1586667698199},{"_id":"public/2016/05/09/after-my-machine-was-attacked/index.html","hash":"4e6703ca367825d4f931d8c62134fe7d50cc2ba3","modified":1586667698199},{"_id":"public/archives/index.html","hash":"15bfcfa36f8bb10551591e8b36003cccda57e4e8","modified":1586667698205},{"_id":"public/archives/page/2/index.html","hash":"4788e6b1963ac44571a2bbc29369ba057e0824a1","modified":1586664722638},{"_id":"public/archives/page/3/index.html","hash":"206f71a41b5189b8777d2519aa84951d92a3315d","modified":1586664722638},{"_id":"public/archives/page/5/index.html","hash":"996d3c9c9abed6c8fa285a5653b6b13c9f630d08","modified":1586664722638},{"_id":"public/archives/page/4/index.html","hash":"e2a75ca1fbdc635e039e77f904a9cc13358d9dfa","modified":1586664722638},{"_id":"public/archives/2015/10/index.html","hash":"51b24b056813a949521e971f5cb18f48b374d94d","modified":1586661935896},{"_id":"public/archives/2015/index.html","hash":"3bfbd8c37521eb946061f5335bfd62cbf950a0a7","modified":1586667698201},{"_id":"public/archives/2015/11/index.html","hash":"fe9335c31d88684382960c1558ac28bfc36b67e0","modified":1586667698201},{"_id":"public/archives/2015/12/index.html","hash":"88585556030bdf4ddb8c8e10668e607fb2b52b20","modified":1586667698201},{"_id":"public/archives/2016/index.html","hash":"e396c5cb2f58996867bc51678c0bfb8ca086c024","modified":1586667698205},{"_id":"public/archives/2016/page/2/index.html","hash":"44809964372d4038f5e9918cd953cc7dcd3bddb6","modified":1586664722638},{"_id":"public/archives/2016/04/index.html","hash":"d1d8134bbe7b14486e29a8ef4033d53dfa7b59db","modified":1586667698201},{"_id":"public/archives/2016/01/index.html","hash":"bd448845290f8623fdafc58be5f1ad323547884f","modified":1586667698201},{"_id":"public/archives/2016/05/index.html","hash":"815870b19d39df8d2436d777d148b8af68d1d363","modified":1586667698201},{"_id":"public/archives/2016/07/index.html","hash":"2e861f1ec504a97f4bff5d6a5513d0ecf443ade3","modified":1586667698201},{"_id":"public/archives/2016/06/index.html","hash":"aec6d9c28cc9e99e7b1a7b17eba91100eacb94fb","modified":1586667698201},{"_id":"public/archives/2016/08/index.html","hash":"5d66106cdfe143a159d6ff769a7081da52fbd841","modified":1586667698202},{"_id":"public/archives/2017/04/index.html","hash":"c29b7aae2b775d541ee742d98b8285d92f2630ea","modified":1586667698202},{"_id":"public/archives/2017/05/index.html","hash":"5dd25cc9e7ba60591f8a0d9ab30ec0f4e6257a40","modified":1586667698202},{"_id":"public/archives/2017/index.html","hash":"d6fd5af36870fbb1d0dabace580ce3fcdbe8eca6","modified":1586667698202},{"_id":"public/archives/2017/07/index.html","hash":"3454228b8a9bda1636d6d275c56c2a72d278be01","modified":1586667698202},{"_id":"public/archives/2018/07/index.html","hash":"79353f1aa3dbe8984bc0a57bbb7949d61e3c1dd5","modified":1586667698202},{"_id":"public/archives/2018/index.html","hash":"0f51d18d6dfdb009953ba20605bcd040596f7ab1","modified":1586667698202},{"_id":"public/archives/2018/06/index.html","hash":"8fad3a92ed0aaec88792a7fcb90427f45920de9f","modified":1586667698202},{"_id":"public/archives/2018/09/index.html","hash":"caee8e8ceca4bce08ecf19859b5b1baa1fd33835","modified":1586667698202},{"_id":"public/archives/2019/03/index.html","hash":"7ae704cbbd6177ea5d3abd9dce0496194ee725ef","modified":1586667698202},{"_id":"public/archives/2019/index.html","hash":"1f0afde4721a7b746b60b2439e272a5d7096592b","modified":1586667698202},{"_id":"public/archives/2019/12/index.html","hash":"3ab4d3f826439ee8de31d1f4f4afa2b43b349910","modified":1586667698202},{"_id":"public/archives/2019/08/index.html","hash":"13bfa3a95429be49e95ac098f3eb3d3a3132f1eb","modified":1586667698202},{"_id":"public/archives/2020/index.html","hash":"488f42aa477eafe4db82eff3554cb96086ce2699","modified":1586667698202},{"_id":"public/archives/2020/01/index.html","hash":"bab06b2e33a0613543580ccfd2e2e329b63ae24c","modified":1586667698202},{"_id":"public/categories//index.html","hash":"96b568d5e6ada01d1687ac07a16f9f2cfc647fe1","modified":1586661935896},{"_id":"public/categories//index.html","hash":"21463ce92c81aeacc60452a9bd22b3420e95f103","modified":1586667698203},{"_id":"public/categories//page/2/index.html","hash":"1445bca51ca27c7a670fd7b355fa62def7b76782","modified":1586661935896},{"_id":"public/categories//index.html","hash":"cf57be0617a3331579f48d360da3e49184c7561f","modified":1586661935896},{"_id":"public/categories//index.html","hash":"2c80485260aff7f5cb1d4cf886244edb4025eb35","modified":1586661935896},{"_id":"public/categories//index.html","hash":"5f01d0f7460a37e9816da9d1bf8b1a3c1a0319ec","modified":1586667698203},{"_id":"public/tags/HBase/index.html","hash":"309511e648fccf0abff45678dfa99d9bcb7bd731","modified":1586667698199},{"_id":"public/tags/Java/index.html","hash":"33a37512257dba5a87a9ffeced2ace4fb90ca309","modified":1586667698199},{"_id":"public/tags/C-C/index.html","hash":"62a42e56aa91b5505cb09981305ba5b4a2ad2be6","modified":1586667698199},{"_id":"public/tags/Algorithm/index.html","hash":"fa16726faecb9edd41c31df724830e7d8e4ba6df","modified":1586667698199},{"_id":"public/tags//index.html","hash":"f54782c4b36b77cb74972cd12b0875f9251cfe64","modified":1586661935896},{"_id":"public/tags/Spring/index.html","hash":"6b33e3ac51222e7609306818b3361695b283cca9","modified":1586667698200},{"_id":"public/tags/Maven/index.html","hash":"591dfdffe22f34ddabfe4d5d2d9a64f871c5b5c9","modified":1586667698200},{"_id":"public/tags/SVN/index.html","hash":"a8f3e719b32212af064446e6bc11c66935b41ef7","modified":1586667698200},{"_id":"public/tags//index.html","hash":"c0fc9c6016f6e554bcc74a938a33661cee74afb1","modified":1586667698200},{"_id":"public/tags/LVM/index.html","hash":"a954114a3328ecfd4e3bb9fd877cc710a4797151","modified":1586667698200},{"_id":"public/tags//index.html","hash":"c9b0d1ff924c676d9fefdfba587349610d5c06a3","modified":1586667698200},{"_id":"public/tags/Linux/index.html","hash":"44c2ab05782324c7c704b38ce67813ee1176151d","modified":1586667698200},{"_id":"public/tags/Hadoop/index.html","hash":"9df4cb4e0538e40c6d6c5d3d09e203300fb70bb9","modified":1586667698200},{"_id":"public/tags/Docker/index.html","hash":"8e9ee8f6dee951bc8cad5a64171d670d6c368b87","modified":1586667698200},{"_id":"public/tags/Network/index.html","hash":"51f4ff6a661e7e1976c6676f14cfec8c3c88b7b7","modified":1586667698200},{"_id":"public/tags/TCP-IP/index.html","hash":"b071608003e66abed4aaf525ade8f22f4359bc0b","modified":1586667698200},{"_id":"public/tags/Tomcat/index.html","hash":"c4ebff0966e1fb464600430d39957d312ec1e552","modified":1586667698200},{"_id":"public/tags/Mina/index.html","hash":"49112000d7e581f81cca966bca073e1aea8409b5","modified":1586667698200},{"_id":"public/tags/Eclipse/index.html","hash":"487fc078a20ae48cb4c89b7ef2a2d80b72da44d6","modified":1586667698200},{"_id":"public/tags//index.html","hash":"d1ac3b40487dffe2755e941a841173160b3f4f62","modified":1586667698200},{"_id":"public/tags/Beaglebone/index.html","hash":"82c1b6ea7a20e0105bf0df411e17be6e4f2dd385","modified":1586667698200},{"_id":"public/tags/MySQL/index.html","hash":"088d5064a04762a6dd8b440dfd60e967b422c9bc","modified":1586667698200},{"_id":"public/tags//index.html","hash":"a2a28f8b4a233531dd36a3dd7bc7c4ca788e6a94","modified":1586667698201},{"_id":"public/tags/Redis/index.html","hash":"78945730d0ce99c1c74fef2cbbc13e93ed475b07","modified":1586667698201},{"_id":"public/tags/Kafka/index.html","hash":"60c8437d85f7aeff27b385347c192bcb7019c312","modified":1586667698201},{"_id":"public/tags/Design/index.html","hash":"3acb5569c682d70e37c34fa239403d52a8cf2d00","modified":1586661935896},{"_id":"public/tags/HDFS/index.html","hash":"73f938318eeff9022576f1a916a9029e653ec65a","modified":1586667698201},{"_id":"public/2020/01/14/chenhao-resilience-design/index.html","hash":"ad09c1294f21db1bae1729c9204a56355ff94c95","modified":1586667698203},{"_id":"public/2020/01/03/kafka-geekbang-note/index.html","hash":"48178d58b67838ba029fc71958d66ddbdb3c64e2","modified":1586667698203},{"_id":"public/2019/12/27/algorithm-04-summary/index.html","hash":"f251d7cb9a96927a1d4175a099fd958519026dfd","modified":1586667698204},{"_id":"public/2019/12/27/b-tree/index.html","hash":"67af0ddff9239ff4da4a540f0f19e9f82c8b6e93","modified":1586667698204},{"_id":"public/2019/12/27/stock-dp/index.html","hash":"eb6e548dcc1e3ca10a9b28fc641d13b5b9b914d8","modified":1586667698204},{"_id":"public/2019/12/27/juejin-juc-blog-note/index.html","hash":"5342a4425136a9561d3fc25cef3f70b5ba0055fb","modified":1586667698204},{"_id":"public/2019/08/21/redlock-algorithm/index.html","hash":"a5e10f512cfd244cee2b641fe2b154d4dbb34ef3","modified":1586667698204},{"_id":"public/2019/03/31/beyond-resharding/index.html","hash":"9bdb8841ab5af80997b6e55201c1cb89da5ca7c4","modified":1586667698204},{"_id":"public/2019/03/16/mysql-mmm-mha/index.html","hash":"ca87cf17a412dfcbb345845129351a79abe2c9bf","modified":1586667698204},{"_id":"public/2019/03/31/beyond-sharding/index.html","hash":"3bcc0d7c0c2ac8c419e7d25c47e98596d54ef5fe","modified":1586667698204},{"_id":"public/2018/09/13/basic-concept-of-mysql-1/index.html","hash":"26a8a28cff2068b4963d6041c193b302ec7f2e5e","modified":1586667698204},{"_id":"public/2018/09/12/use-jmc-jfr-jprofile/index.html","hash":"d1ccadec9678c6430c2ec3127f5f77900566faa0","modified":1586667698204},{"_id":"public/2018/06/16/too-many-open-files/index.html","hash":"d43fa92c255e021ff38a6a4ac6c6d38fcfb7134d","modified":1586667698204},{"_id":"public/2017/04/20/rx-8025/index.html","hash":"00b88d3ac3e31c76b41ad9204559d27fdf858a73","modified":1586667698204},{"_id":"public/2016/08/13/c-sendmail/index.html","hash":"03a2c29fa77560d5faf52fb31ccec989e039817a","modified":1586667698204},{"_id":"public/2016/08/17/tomcat-multi-virtual-host/index.html","hash":"cb5bf25832ee2c437b4d54e5612482a99bd9d125","modified":1586667698204},{"_id":"public/2016/08/02/summary-of-const/index.html","hash":"93ca87dd2a28f57b71dd17815d10b1736ca11ee4","modified":1586667698204},{"_id":"public/2016/06/28/ant-war-task/index.html","hash":"269a95c2546f5af5b9f8ccb5f061c916fd401bc2","modified":1586667698204},{"_id":"public/2016/06/22/autossh-helper/index.html","hash":"3d25d92f9e5b69ef6dd737f6f98232f57391268a","modified":1586667698205},{"_id":"public/2016/05/11/2015-work-summary/index.html","hash":"e756aa3e06d66bd6e4dcec1beb8bcc9e97979b77","modified":1586667698205},{"_id":"public/2016/05/11/hbase-incremental-backup/index.html","hash":"a38801e0cb1b3d6a55e47b80dd6b2d062d99ce35","modified":1586667698205},{"_id":"public/2016/04/22/advanced-linux-programing/index.html","hash":"5671aa25b6eceeef0331d3597047853e17b63dfe","modified":1586667698205},{"_id":"public/2016/05/09/lvm-that-i-used/index.html","hash":"aa0819c5e8301ec3fa353789ef20bea8e722ec2b","modified":1586667698205},{"_id":"public/2016/01/23/sth-about-spring-boot/index.html","hash":"00aa4f3b1bb5d11bfc0cfb877bf84de032e6a1a1","modified":1586667698205},{"_id":"public/2015/11/14/hbase-java-api-example/index.html","hash":"0223c1a8c99514938c4db64a6ce8ada72b8e2685","modified":1586667698205},{"_id":"public/2015/11/23/cplusplus-primer-v5/index.html","hash":"f2679ea5f1616d41b66f7e548474a48f1ce0ee6b","modified":1586667698205},{"_id":"public/2015/11/21/computer-systems/index.html","hash":"984ae8d441ea507f941632854e5f683d6070a971","modified":1586667698205},{"_id":"public/2015/12/20/maven-howto/index.html","hash":"037f4fbc39d649e32c5ece510bcbd4c6ca65049d","modified":1586667698205},{"_id":"public/2015/10/27/multi-agent/index.html","hash":"8aa7bb8ebb5ea169c2db05d83fb25f75019a81e7","modified":1586661935911},{"_id":"public/index.html","hash":"7156c9af7cfb60f3c06986788295ad94e2c94c7e","modified":1586667698206},{"_id":"public/page/2/index.html","hash":"886cfd74345dc3cf194ab97ddb5aa579180961c7","modified":1586664722654},{"_id":"public/page/4/index.html","hash":"a884eb1e4de2c008dd09651db7efd3c62bb7c8c7","modified":1586664722654},{"_id":"public/page/5/index.html","hash":"199e17b40616c6c03b944fcf891ff2229dd2eb48","modified":1586664722654},{"_id":"public/page/3/index.html","hash":"0c8dbe3ff0d70de8601ed413c1baa85eb9dba32d","modified":1586664722654},{"_id":"public/archives/2020/04/index.html","hash":"7a9c53d474fe955d15fd9f1821287465836806c6","modified":1586661935911},{"_id":"public/2020/04/12/chenhao-manage-design/index.html","hash":"6912f790a00e0eb08df8ce2e571847be3b818be6","modified":1586661935911},{"_id":"public/2020/01/15/chenhao-manage-design/index.html","hash":"0ca9859ca3c72a02eb1c1c02f9ad3ca62a993988","modified":1586667698203},{"_id":"public/categories//index.html","hash":"e6e1eb40d41643c5ad4096a0e5904d6503d27c42","modified":1586667698203},{"_id":"public/categories//index.html","hash":"82061ec606caf365bba84de246af4de1e98551a1","modified":1586667698203},{"_id":"public/categories//index.html","hash":"af89166fee518dd7825b3ba807a91d80c162dc35","modified":1586667698203},{"_id":"public/categories//index.html","hash":"ee630ff94008be2184b95896231f7bb0dd7ff133","modified":1586667698203},{"_id":"public/categories//index.html","hash":"97bb6626fb3ffb1fef24c052f1bafbb14a378923","modified":1586667698203},{"_id":"public/categories//index.html","hash":"7b438dc35bd3c1280d5799a371767c013d947cb7","modified":1586667698203},{"_id":"public/categories//index.html","hash":"fc7a92e526bd8437aedae88ae94d40fad6fdb89f","modified":1586667698203},{"_id":"public/categories//index.html","hash":"bef9fa3b50866c54d02345b50cd25bf56fb96648","modified":1586667698203},{"_id":"public/categories//index.html","hash":"edbbe4d1108727d10b38ffeec5256be495e6871a","modified":1586667698203},{"_id":"public/categories//index.html","hash":"4c22665db52d16c693dec562d9ea14005e272ed0","modified":1586667698203},{"_id":"public/tags//index.html","hash":"f90d7561cea5b2e0fc05f940e7d0375292a7be57","modified":1586667698201},{"_id":"public/tags//index.html","hash":"50be6257d3fc01531ebb42c72c4de6bd885abe31","modified":1586667698201},{"_id":"public/tags/B-Tree/index.html","hash":"dd0b85f38980de4bad6bfbab53b063f1931130cd","modified":1586667698201}],"Category":[{"name":"","_id":"ck8wh7l8r00034sup3j18khbd"},{"name":"","_id":"ck8wh7l8x00074sup6uj9t3xd"},{"name":"","_id":"ck8wh7l8y000a4supdcj33dd6"},{"name":"","_id":"ck8wh7lb5001c4sup9pmzgxmn"},{"name":"","_id":"ck8wh7lbx002i4suppjh7cr6k"},{"name":"","_id":"ck8wifbts0000qcupycxu1yt7"},{"name":"","_id":"ck8wifbuy0004qcup0n4xs2f7"},{"name":"","_id":"ck8wifbv10005qcupvn97iwcz"},{"name":"","_id":"ck8wifbv80008qcupqbw0ztms"},{"name":"","_id":"ck8wifbvc000bqcupyntp5ae5"},{"name":"","_id":"ck8wifbvf000eqcups4r15ax8"},{"name":"","_id":"ck8wifbw3000oqcup8wz14f1g"},{"name":"","_id":"ck8wifbwa000tqcupxbo8ylor"},{"name":"","_id":"ck8wifbwd000vqcupbfxgg1hn"},{"name":"","_id":"ck8wifbwj0012qcuparm9n2fb"}],"Data":[],"Page":[{"title":"categories","date":"2020-04-12T03:15:52.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2020-04-12 11:15:52\ntype: \"categories\"\ncomments: false\n---\n","updated":"2020-04-12T03:25:11.317Z","path":"categories/index.html","_id":"ck8wh7l8i00004sup83p3bafu","layout":"page","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2018-06-07T05:41:06.000Z","type":"tags","_content":"\n\n","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2018-06-07 13:41:06\ntype: \"tags\"\n---\n\n\n","updated":"2020-01-11T03:26:55.218Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ck8wh7lag000o4supvfnri69w","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"layout":"post","title":"HBase Java API","date":"2015-11-14T15:13:00.000Z","comments":1,"_content":"\nHBase Java API\n\n<!--more-->\n\n## rowkey[startRow, stopRow)timestamp0\n\nPageFilterscan.setReversed(true)\n\n- \n\n```java\n// \nbyte[] startRow, stopRow;\n// TODO startRowstopRow\nScan scan = new Scan();\nscan.setStartRow(startRow);\nscan.setStopRow(stopRow);\ntry {\n\t// timestamp\n\tscan.setTimeStamp(0l);\n\t// new PageFilter(num)num1\n\tscan.setFilter(new PageFilter(1));\n} catch (IOException e) {\n\t// TODO \n}\n// TODO colum familyqualifier\n```\n\n- \n\n```java\n// \nbyte[] startRow, stopRow;\n// TODO startRowstopRow\nScan scan = new Scan();\n// stopRowstartRow\nscan.setStartRow(stopRow);\nscan.setStopRow(startRow);\ntry {\n\t// \n\tscan.setReversed(true);\n\t// timestamp\n\tscan.setTimeStamp(0l);\n\t// new PageFilter(num)num1\n\tscan.setFilter(new PageFilter(1));\n} catch (IOException e) {\n\t// TODO \n}\n// TODO colum familyqualifier\n```\n","source":"_posts/2015-11-14-hbase-java-api-example.markdown","raw":"---\nlayout: post\ntitle: HBase Java API\ndate: '2015-11-14 23:13'\ncomments: true\ncategories: ['']  \ntags: ['HBase', 'Java']\n---\n\nHBase Java API\n\n<!--more-->\n\n## rowkey[startRow, stopRow)timestamp0\n\nPageFilterscan.setReversed(true)\n\n- \n\n```java\n// \nbyte[] startRow, stopRow;\n// TODO startRowstopRow\nScan scan = new Scan();\nscan.setStartRow(startRow);\nscan.setStopRow(stopRow);\ntry {\n\t// timestamp\n\tscan.setTimeStamp(0l);\n\t// new PageFilter(num)num1\n\tscan.setFilter(new PageFilter(1));\n} catch (IOException e) {\n\t// TODO \n}\n// TODO colum familyqualifier\n```\n\n- \n\n```java\n// \nbyte[] startRow, stopRow;\n// TODO startRowstopRow\nScan scan = new Scan();\n// stopRowstartRow\nscan.setStartRow(stopRow);\nscan.setStopRow(startRow);\ntry {\n\t// \n\tscan.setReversed(true);\n\t// timestamp\n\tscan.setTimeStamp(0l);\n\t// new PageFilter(num)num1\n\tscan.setFilter(new PageFilter(1));\n} catch (IOException e) {\n\t// TODO \n}\n// TODO colum familyqualifier\n```\n","slug":"hbase-java-api-example","published":1,"updated":"2020-01-11T03:26:55.197Z","photos":[],"link":"","_id":"ck8wh7l8k00014sup1fdkr6ob","content":"<p>HBase Java API</p>\n<a id=\"more\"></a>\n<h2 id=\"rowkey-startRow-stopRow-timestamp0\"><a href=\"#rowkey-startRow-stopRow-timestamp0\" class=\"headerlink\" title=\"rowkey[startRow, stopRow)timestamp0\"></a>rowkey[startRow, stopRow)timestamp0</h2><p>PageFilterscan.setReversed(true)</p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">byte</span>[] startRow, stopRow;</span><br><span class=\"line\"><span class=\"comment\">// TODO startRowstopRow</span></span><br><span class=\"line\">Scan scan = <span class=\"keyword\">new</span> Scan();</span><br><span class=\"line\">scan.setStartRow(startRow);</span><br><span class=\"line\">scan.setStopRow(stopRow);</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// timestamp</span></span><br><span class=\"line\">\tscan.setTimeStamp(<span class=\"number\">0l</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// new PageFilter(num)num1</span></span><br><span class=\"line\">\tscan.setFilter(<span class=\"keyword\">new</span> PageFilter(<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// TODO </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// TODO colum familyqualifier</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">byte</span>[] startRow, stopRow;</span><br><span class=\"line\"><span class=\"comment\">// TODO startRowstopRow</span></span><br><span class=\"line\">Scan scan = <span class=\"keyword\">new</span> Scan();</span><br><span class=\"line\"><span class=\"comment\">// stopRowstartRow</span></span><br><span class=\"line\">scan.setStartRow(stopRow);</span><br><span class=\"line\">scan.setStopRow(startRow);</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// </span></span><br><span class=\"line\">\tscan.setReversed(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// timestamp</span></span><br><span class=\"line\">\tscan.setTimeStamp(<span class=\"number\">0l</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// new PageFilter(num)num1</span></span><br><span class=\"line\">\tscan.setFilter(<span class=\"keyword\">new</span> PageFilter(<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// TODO </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// TODO colum familyqualifier</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>HBase Java API</p>","more":"<h2 id=\"rowkey-startRow-stopRow-timestamp0\"><a href=\"#rowkey-startRow-stopRow-timestamp0\" class=\"headerlink\" title=\"rowkey[startRow, stopRow)timestamp0\"></a>rowkey[startRow, stopRow)timestamp0</h2><p>PageFilterscan.setReversed(true)</p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">byte</span>[] startRow, stopRow;</span><br><span class=\"line\"><span class=\"comment\">// TODO startRowstopRow</span></span><br><span class=\"line\">Scan scan = <span class=\"keyword\">new</span> Scan();</span><br><span class=\"line\">scan.setStartRow(startRow);</span><br><span class=\"line\">scan.setStopRow(stopRow);</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// timestamp</span></span><br><span class=\"line\">\tscan.setTimeStamp(<span class=\"number\">0l</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// new PageFilter(num)num1</span></span><br><span class=\"line\">\tscan.setFilter(<span class=\"keyword\">new</span> PageFilter(<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// TODO </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// TODO colum familyqualifier</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">byte</span>[] startRow, stopRow;</span><br><span class=\"line\"><span class=\"comment\">// TODO startRowstopRow</span></span><br><span class=\"line\">Scan scan = <span class=\"keyword\">new</span> Scan();</span><br><span class=\"line\"><span class=\"comment\">// stopRowstartRow</span></span><br><span class=\"line\">scan.setStartRow(stopRow);</span><br><span class=\"line\">scan.setStopRow(startRow);</span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// </span></span><br><span class=\"line\">\tscan.setReversed(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// timestamp</span></span><br><span class=\"line\">\tscan.setTimeStamp(<span class=\"number\">0l</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// new PageFilter(num)num1</span></span><br><span class=\"line\">\tscan.setFilter(<span class=\"keyword\">new</span> PageFilter(<span class=\"number\">1</span>));</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// TODO </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// TODO colum familyqualifier</span></span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"C++ Primer v5","date":"2015-11-23T12:31:00.000Z","comments":1,"_content":"\nC++ Primer v5\n\n<!--more-->\n\n## CHAPTER 1 GETTING STARTED\n\n- Variable type: when we wrote`T t`, we sayed that \"t has type T\", or \"t is a T\"\n- gcc/g++ warning all options: `-Wall` for *nix, `/W4` for windows\n- Flush the stream: we should always put `std::cout << std::endl;` at the end of `std::cout` to flush the stream of std-out, or else it won't output immediately\n- Left operating left: `std::cout << \"text 1\" << \" and text 2\" << std::endl;` equals to\n```c++\nstd::cout << \"text 1\";\nstd::cout << \" and text 2\";\nstd::cout << std:endl;\n```\n\n<!--more-->\n\n- istream hits invalid state: `while (std::cin >> value)` will end at\n\t1. hit the **end-of-file**\n\t1. encounter an invalid input, such as reading a value is not a integer\n\n## CHAPTER 2 VARIABLES AND BASIC TYPES\n\n### Primitive built-in types\n\n- Signed and unsigned types\n\t1. except for bool and extended character types, the integral types may be signed or unsigned(float is not integral types)\n\t1. there are three character types (two in real usage): char, signed char and unsigned char\n\t\t- char is signed in some machine and unsiged in others\n\t1. use an unsigned when you are sure of it's usage\n\t1. don't use plain char or bool in arithmetic experssions\n\t1. double is better for float, float has not enough precison and in some machines double computation is faster than float\n\n- Type conversions\n\t1. when assign a float to int, \n\t\t- the fractional part of float is truncated as temp\n\t\t- give temp to the int mentioned above\n\t1. when assign an out-of-value to unsigned type, the lower bits doesn't change, the higher bit out-of-range is truncated, this is same to modulo\n\t1. when assign an out-of-value to signed type, the result is undefined\n\n### Variables\n\n- List initialization\n```c++\nint sold = 0;   // ok\nint sold = {0}; // ok\nint sold{0};    // ok\nint sold(0);    // ok\nint sold(1d);   // ok but truncated\nint sold{1d};   // error:narrowing conversation required\n```\n\n- Default initialization: built-in type defined outside any function body are initialized to zero, inside the function is uninitialized\n\n- declaration and definition are different\n\t1. declaration secifies the type and name of a variable\n\t1. definition inits the variable\n\t1. to use the same variable in multiple files, you must only have one definition and multi declaration\n```c++\n// declaration but not definition, must be outside the function\nextern int j; \n// declaration and definition\nint j;        \n// only definition, declaration is override, must be outside the function\nextern double pi = 3.14; \n```\n\n- illegal variable names\n```c++\nint __a; // contains 2 underscores\nint _Ab; // start with underscore, and follow with a upper letter immediately\n```\n\n- get variables outer scope\n```c++\nstd::cout << ::reused << std::endl; // use '::'\n```\n\n### Compound Types\n\n- Reference: \n\t1. a reference to object, it's not an object\n\t1. must be initialized, can't re-bind\n```c++\nint val1 = 1024;\ndouble val2 = 123;\nint &relVal1 = val1; // ok\nint &relVal2;        // error, must be init\nint &relVal3 = val2; // error, type error\n```\n\n- Pointers\n\t- different to reference\n\t\t1. it's an object\n\t\t1. can be rebind\n\t\t1. needn't initialized when defined\n\t\t1. like built-in types, it has undefined value in function if it's not defined\n\t- pointer value state\n\t\t1. point to an object\n\t\t1. point to the location just immediately past the end of an object (illegal pointer)\n\t\t1. null pointer\n\t\t1. invalid pointer (not initialized)\n\t- special\n\t\t1. same type valid pointers can use in comparation (address compare)\n\t\t1. void pointers\n\t\t\t- can compare to another pointer\n\t\t\t- pass or return it from a function\n\t\t\t- assign it to another void* pointer\n\t\t1. define two pointer in a line: `int *p1, *p2`, '*' only works for the variable name\n\t\t1. reference to pointers (example below)\n\n```c++\n// normal\ndouble val = 123;\ndouble *pd1 = &val; \n             // ok, give the pointer itself a new value\nint *pd2 = &val;    // error, types differ\npd2 = pd1;   // error, types differ\npd1 = val;   // error, can't assign object to pointer\n\n// special\nint *p1, p2; // only p1 is pointer\nint i=0;\nint *p;\nint *&r = p; // read from right to left: r is a reference to pointer\nr = &i;\n*r = 0;      // set i to 0\n```\n\n### const Qualifer\n\n- local to file\n\t1. default internal linkage in C++\n\t\t- if we define `const int ivv = 0` in source file, and `extern const int ivv` in header file, 'ivv' only works in that source file, this is the so-called 'local-to-file', differ to the normal case\n\t\t- to use 'ivv' in multi files, we should declare `extern const int ivv` in header file, and define `extern const int ivv = 0` in source file\n\t1. default external linkage in C\n\t\t- in C, const variable's scope is the same to normal case\n\n- reference to const\n\t1. const reference to const object/normal/plain/expression/double, means read only\n\t1. if reference to double, it's a tempory value, if the origin double changes, the reference to const will never know that\n```c++ \n// ok initialization\nconst int ci = 1024;\nint i = 1024;\ndouble dval = 3.14;\nconst int &r1 = ci; // from const object\nconst int &r2 = i;  // from normal int\nconst int &r3 = 12; // from plain int\nconst int &r4 = r1 * 2; // from expression\nconst int &r5 = dval; // dval --> temp int --> r5\n// error case\nr1 = 123; // can't rebind\nint &r6 = ci; // only const reference can reference to const object\n```\n\n- pointer to const(**can't change the memory the address points to**)\n\t1. similar to 'reference to const', it stores the address of a object and has read access but not write access to the address\n\t1. **can rebind**\n\n- const pointers(**can't change the address**)\n\t1. can't rebind, must be initialized at first time\n\t1. itself const, always point to the same address\n\t1. **can change the address's real value**\n```c++\nint errNumb = 0;\nint *const curErr = &errNumb; // const pointers\nconst int *curPnt = &errNumb; // pointer to const\nconst int i = 123;\nconst int *const curNor = &i; // a const pointer to a const int\n```\n\n- top-level & low-level const\n\t1. top-level: itself const, const objects(pointers)\n\t1. low-level: pointer or reference to const\n\t1. when we copy a object, top-level is ignored and low-level will never be ignored\n```c++\nconst int a = 0;\nint b = a; // ok: top-level ignore\nint const *m = 0;\nint *n = m; // error: low-level can't be ignore\n```\n\n- constexpr:**applies to the pointer** but not the type to which the pointer points\n```c++\nconst int *p = 0; // pointer to const\nconstexpr int *q = 0; // a const pointer to int\n```\n\n### Dealing with type\n\n- type alias\n\t1. typedef is the alias of an object\n```c++\ntypedef double wages; // `wages` is same to double\nusing wages = double;\n// pointer\ntypedef char *pstring; // pstring is an object: char*, pointer to char\nconst pstring cstr = 0; // same to `const (char*) cstr = 0`, cstr is a const pointer to char\n```\n\n- auto: automatically determines the type, **ignores the top-level**\n- decltype: similar to auto, but **top-level is keeped**\n\t1. decltype((v)) is always a reference type\n```c++\nconst int i = 0;\nauto a = i; // normal int \ndecltype(i) b = 0; // const int\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n## CHAPTER 3 STRINGS, VECTORS, AND ARRAYS\n\n### Namespace using Declarations\n\n```c++\n// main.cpp\nusing std::cout; // \nint main(){\n    cout << \"hello\" << endl;\n    return 0;\n}\n```\n\n<!--more-->\n\n### Library string Type\n\n\n\n- `#include <string>`\n- `using std::string`\n\n#### \n\n```c++\n// \nstring s1;\n// \nstring s1(10, 'c');\nstring s2(\"haha\");\n// \nstring s3 = \"haha\";\n```\n\n#### \n\n\n\n- \n\n```c++\nstring word;\nwhile(cin >> word) // is>>sis\n    cout << word << endl; // os << sos\nwhile(getline(cin, word)) // is\n    cout << word << endl;\n```\n- ASCII\n```c++\n// s2s1s3\nstring s1 = \"hello\";\nstring s2 = \"hello, world\";\nstring s3 = \"hexo\";\n```\n- size()\n```c++\nstring s1;\nauto size = s1.size(); // string::size_type\n```\n- \n```c++\n// string\nstring s1 = \"t\";\nstring s2 = \"x\";\ns1 += s2;\n// stringliterals\nstring s3 = \"t\" + \"x\"; // error\nstring s4 = \"t\" + s1 + \"x\"; // \n```\n\n#### \n\n\n\n- copyreference\n- reference\n\n```c++\nstring s1 = \"test\";\n// \nfor(auto c : s1) // ccopyc\n    // do sth\nfor(auto &c : s1) // creference\n    // do sth\ns1[0] = 'y'; // 0\n```\n\n### Library vector Type\n\n\n- `#include <vector>`\n- `using std::vector`\n\n#### \n\n**\n```c++\n// \nvector<string> v1; \n// \nvector<int> v2(10); // 100\nvector<int> v3(10, 1); // 101\n// \nvector<int> {10, 1}; // 101\n```\n\n#### \n\n\n\n- vector`vector[size+1] = 3`vector\n```c++\nvector<int> v1(10, 1);\nv1.push_back(2); // \nv1[0] = 3; // \nv1.size(); // vector::size_type\n// \n```\n\n### Introducing Iterators\n\n#### \n\nstringiterator\n\n- string::iterator\n- string::const_iterator\n\nvectoriterator\n\n- vector::iterator\n- vector::const_iterator\n\n```c++\nstring s1(\"123\");\nauto i1 = s1.begin(); // \nauto i2 = s1.end(); // \nauto i3 = s1.cbegin(); // \n```\n\n#### \n\n\n```c++\nvector s1{\"123\"};\nauto i1 = s1.begin();\n*i1 = \"345\"; // dereference\n(*i1).size(); // size()\n*i1.size(); // error*(i1.size())\ni1++; // \n// \n```\n\niteratorvectorpush_backiterator\n\n### Arrays\n\n#### \n\n```c++\n// \nint arr[10]; // 10intint0intundefinedbuilt-in\n// \nint arr2[10] = {0, 1, 2}; // \n// \nchar c1[] = \"C++\"; // 4'\\0'\n// \nint arr3 [] = arr; // error\narr2 = arr; // error\n// \nint *ptr[10]; // ptr10int\nint (*ptr)[10]; // ptr10int\n```\n\n#### \n\n1. \n2. for-each`for(auto tmp : arr)for(auto &tmp : arr)`\n\n#### \n\n- \n```c++\nstring nums[] = {\"one\", \"two\", \"three\"};\n// \nstring *ptr = nums;\nptr = &nums[0];\n```\n\n- autodecltype\n```c++\nint ia[] = {1,2,3};\nauto ia2(ia); // &ia[0]\ndecltype(ia) ia3 = {4,5,6}; // ia\n```\n\n- \n```c++\nint arr[] = {1,2,3};\nint *ptr = 0; // 1\nptr = arr; // 2\nptr = arr[3]; // 3*\nptr = arr[4]; // 4*\n```\n\n- beginend\n```c++\nint ia[] = {1,2,3};\nint *begin = begin(ia);\nint *end = end(ia);\nvector<int> ivec(begin(ia), end(ia)); // iaivec\n```\n\n- \n    - \n    - built-in`p[-2]`pvectorlibrary type\n\n#### c\n\n```c++\nstring s = \"c++\"; // cstring\nconst char *str = s; // errors.c_str()\n```\n\n### \n\n```c++\nint ia[3][4];\n// pint (*p)[4]4int\nfor(auto p = begin(ia); p != end(ia); ++p) {\n    // qint[4]\n    for(auto q = begin(*p); q != end(*p); ++q) {\n        cout << *q << '';\n    } \n}\n```\n","source":"_posts/2015-11-23-cplusplus-primer-v5.markdown","raw":"---\nlayout: post\ntitle: C++ Primer v5\ndate: '2015-11-23 20:31'\ncomments: true\ncategories: ['']  \ntags: ['C/C++']\n---\n\nC++ Primer v5\n\n<!--more-->\n\n## CHAPTER 1 GETTING STARTED\n\n- Variable type: when we wrote`T t`, we sayed that \"t has type T\", or \"t is a T\"\n- gcc/g++ warning all options: `-Wall` for *nix, `/W4` for windows\n- Flush the stream: we should always put `std::cout << std::endl;` at the end of `std::cout` to flush the stream of std-out, or else it won't output immediately\n- Left operating left: `std::cout << \"text 1\" << \" and text 2\" << std::endl;` equals to\n```c++\nstd::cout << \"text 1\";\nstd::cout << \" and text 2\";\nstd::cout << std:endl;\n```\n\n<!--more-->\n\n- istream hits invalid state: `while (std::cin >> value)` will end at\n\t1. hit the **end-of-file**\n\t1. encounter an invalid input, such as reading a value is not a integer\n\n## CHAPTER 2 VARIABLES AND BASIC TYPES\n\n### Primitive built-in types\n\n- Signed and unsigned types\n\t1. except for bool and extended character types, the integral types may be signed or unsigned(float is not integral types)\n\t1. there are three character types (two in real usage): char, signed char and unsigned char\n\t\t- char is signed in some machine and unsiged in others\n\t1. use an unsigned when you are sure of it's usage\n\t1. don't use plain char or bool in arithmetic experssions\n\t1. double is better for float, float has not enough precison and in some machines double computation is faster than float\n\n- Type conversions\n\t1. when assign a float to int, \n\t\t- the fractional part of float is truncated as temp\n\t\t- give temp to the int mentioned above\n\t1. when assign an out-of-value to unsigned type, the lower bits doesn't change, the higher bit out-of-range is truncated, this is same to modulo\n\t1. when assign an out-of-value to signed type, the result is undefined\n\n### Variables\n\n- List initialization\n```c++\nint sold = 0;   // ok\nint sold = {0}; // ok\nint sold{0};    // ok\nint sold(0);    // ok\nint sold(1d);   // ok but truncated\nint sold{1d};   // error:narrowing conversation required\n```\n\n- Default initialization: built-in type defined outside any function body are initialized to zero, inside the function is uninitialized\n\n- declaration and definition are different\n\t1. declaration secifies the type and name of a variable\n\t1. definition inits the variable\n\t1. to use the same variable in multiple files, you must only have one definition and multi declaration\n```c++\n// declaration but not definition, must be outside the function\nextern int j; \n// declaration and definition\nint j;        \n// only definition, declaration is override, must be outside the function\nextern double pi = 3.14; \n```\n\n- illegal variable names\n```c++\nint __a; // contains 2 underscores\nint _Ab; // start with underscore, and follow with a upper letter immediately\n```\n\n- get variables outer scope\n```c++\nstd::cout << ::reused << std::endl; // use '::'\n```\n\n### Compound Types\n\n- Reference: \n\t1. a reference to object, it's not an object\n\t1. must be initialized, can't re-bind\n```c++\nint val1 = 1024;\ndouble val2 = 123;\nint &relVal1 = val1; // ok\nint &relVal2;        // error, must be init\nint &relVal3 = val2; // error, type error\n```\n\n- Pointers\n\t- different to reference\n\t\t1. it's an object\n\t\t1. can be rebind\n\t\t1. needn't initialized when defined\n\t\t1. like built-in types, it has undefined value in function if it's not defined\n\t- pointer value state\n\t\t1. point to an object\n\t\t1. point to the location just immediately past the end of an object (illegal pointer)\n\t\t1. null pointer\n\t\t1. invalid pointer (not initialized)\n\t- special\n\t\t1. same type valid pointers can use in comparation (address compare)\n\t\t1. void pointers\n\t\t\t- can compare to another pointer\n\t\t\t- pass or return it from a function\n\t\t\t- assign it to another void* pointer\n\t\t1. define two pointer in a line: `int *p1, *p2`, '*' only works for the variable name\n\t\t1. reference to pointers (example below)\n\n```c++\n// normal\ndouble val = 123;\ndouble *pd1 = &val; \n             // ok, give the pointer itself a new value\nint *pd2 = &val;    // error, types differ\npd2 = pd1;   // error, types differ\npd1 = val;   // error, can't assign object to pointer\n\n// special\nint *p1, p2; // only p1 is pointer\nint i=0;\nint *p;\nint *&r = p; // read from right to left: r is a reference to pointer\nr = &i;\n*r = 0;      // set i to 0\n```\n\n### const Qualifer\n\n- local to file\n\t1. default internal linkage in C++\n\t\t- if we define `const int ivv = 0` in source file, and `extern const int ivv` in header file, 'ivv' only works in that source file, this is the so-called 'local-to-file', differ to the normal case\n\t\t- to use 'ivv' in multi files, we should declare `extern const int ivv` in header file, and define `extern const int ivv = 0` in source file\n\t1. default external linkage in C\n\t\t- in C, const variable's scope is the same to normal case\n\n- reference to const\n\t1. const reference to const object/normal/plain/expression/double, means read only\n\t1. if reference to double, it's a tempory value, if the origin double changes, the reference to const will never know that\n```c++ \n// ok initialization\nconst int ci = 1024;\nint i = 1024;\ndouble dval = 3.14;\nconst int &r1 = ci; // from const object\nconst int &r2 = i;  // from normal int\nconst int &r3 = 12; // from plain int\nconst int &r4 = r1 * 2; // from expression\nconst int &r5 = dval; // dval --> temp int --> r5\n// error case\nr1 = 123; // can't rebind\nint &r6 = ci; // only const reference can reference to const object\n```\n\n- pointer to const(**can't change the memory the address points to**)\n\t1. similar to 'reference to const', it stores the address of a object and has read access but not write access to the address\n\t1. **can rebind**\n\n- const pointers(**can't change the address**)\n\t1. can't rebind, must be initialized at first time\n\t1. itself const, always point to the same address\n\t1. **can change the address's real value**\n```c++\nint errNumb = 0;\nint *const curErr = &errNumb; // const pointers\nconst int *curPnt = &errNumb; // pointer to const\nconst int i = 123;\nconst int *const curNor = &i; // a const pointer to a const int\n```\n\n- top-level & low-level const\n\t1. top-level: itself const, const objects(pointers)\n\t1. low-level: pointer or reference to const\n\t1. when we copy a object, top-level is ignored and low-level will never be ignored\n```c++\nconst int a = 0;\nint b = a; // ok: top-level ignore\nint const *m = 0;\nint *n = m; // error: low-level can't be ignore\n```\n\n- constexpr:**applies to the pointer** but not the type to which the pointer points\n```c++\nconst int *p = 0; // pointer to const\nconstexpr int *q = 0; // a const pointer to int\n```\n\n### Dealing with type\n\n- type alias\n\t1. typedef is the alias of an object\n```c++\ntypedef double wages; // `wages` is same to double\nusing wages = double;\n// pointer\ntypedef char *pstring; // pstring is an object: char*, pointer to char\nconst pstring cstr = 0; // same to `const (char*) cstr = 0`, cstr is a const pointer to char\n```\n\n- auto: automatically determines the type, **ignores the top-level**\n- decltype: similar to auto, but **top-level is keeped**\n\t1. decltype((v)) is always a reference type\n```c++\nconst int i = 0;\nauto a = i; // normal int \ndecltype(i) b = 0; // const int\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n## CHAPTER 3 STRINGS, VECTORS, AND ARRAYS\n\n### Namespace using Declarations\n\n```c++\n// main.cpp\nusing std::cout; // \nint main(){\n    cout << \"hello\" << endl;\n    return 0;\n}\n```\n\n<!--more-->\n\n### Library string Type\n\n\n\n- `#include <string>`\n- `using std::string`\n\n#### \n\n```c++\n// \nstring s1;\n// \nstring s1(10, 'c');\nstring s2(\"haha\");\n// \nstring s3 = \"haha\";\n```\n\n#### \n\n\n\n- \n\n```c++\nstring word;\nwhile(cin >> word) // is>>sis\n    cout << word << endl; // os << sos\nwhile(getline(cin, word)) // is\n    cout << word << endl;\n```\n- ASCII\n```c++\n// s2s1s3\nstring s1 = \"hello\";\nstring s2 = \"hello, world\";\nstring s3 = \"hexo\";\n```\n- size()\n```c++\nstring s1;\nauto size = s1.size(); // string::size_type\n```\n- \n```c++\n// string\nstring s1 = \"t\";\nstring s2 = \"x\";\ns1 += s2;\n// stringliterals\nstring s3 = \"t\" + \"x\"; // error\nstring s4 = \"t\" + s1 + \"x\"; // \n```\n\n#### \n\n\n\n- copyreference\n- reference\n\n```c++\nstring s1 = \"test\";\n// \nfor(auto c : s1) // ccopyc\n    // do sth\nfor(auto &c : s1) // creference\n    // do sth\ns1[0] = 'y'; // 0\n```\n\n### Library vector Type\n\n\n- `#include <vector>`\n- `using std::vector`\n\n#### \n\n**\n```c++\n// \nvector<string> v1; \n// \nvector<int> v2(10); // 100\nvector<int> v3(10, 1); // 101\n// \nvector<int> {10, 1}; // 101\n```\n\n#### \n\n\n\n- vector`vector[size+1] = 3`vector\n```c++\nvector<int> v1(10, 1);\nv1.push_back(2); // \nv1[0] = 3; // \nv1.size(); // vector::size_type\n// \n```\n\n### Introducing Iterators\n\n#### \n\nstringiterator\n\n- string::iterator\n- string::const_iterator\n\nvectoriterator\n\n- vector::iterator\n- vector::const_iterator\n\n```c++\nstring s1(\"123\");\nauto i1 = s1.begin(); // \nauto i2 = s1.end(); // \nauto i3 = s1.cbegin(); // \n```\n\n#### \n\n\n```c++\nvector s1{\"123\"};\nauto i1 = s1.begin();\n*i1 = \"345\"; // dereference\n(*i1).size(); // size()\n*i1.size(); // error*(i1.size())\ni1++; // \n// \n```\n\niteratorvectorpush_backiterator\n\n### Arrays\n\n#### \n\n```c++\n// \nint arr[10]; // 10intint0intundefinedbuilt-in\n// \nint arr2[10] = {0, 1, 2}; // \n// \nchar c1[] = \"C++\"; // 4'\\0'\n// \nint arr3 [] = arr; // error\narr2 = arr; // error\n// \nint *ptr[10]; // ptr10int\nint (*ptr)[10]; // ptr10int\n```\n\n#### \n\n1. \n2. for-each`for(auto tmp : arr)for(auto &tmp : arr)`\n\n#### \n\n- \n```c++\nstring nums[] = {\"one\", \"two\", \"three\"};\n// \nstring *ptr = nums;\nptr = &nums[0];\n```\n\n- autodecltype\n```c++\nint ia[] = {1,2,3};\nauto ia2(ia); // &ia[0]\ndecltype(ia) ia3 = {4,5,6}; // ia\n```\n\n- \n```c++\nint arr[] = {1,2,3};\nint *ptr = 0; // 1\nptr = arr; // 2\nptr = arr[3]; // 3*\nptr = arr[4]; // 4*\n```\n\n- beginend\n```c++\nint ia[] = {1,2,3};\nint *begin = begin(ia);\nint *end = end(ia);\nvector<int> ivec(begin(ia), end(ia)); // iaivec\n```\n\n- \n    - \n    - built-in`p[-2]`pvectorlibrary type\n\n#### c\n\n```c++\nstring s = \"c++\"; // cstring\nconst char *str = s; // errors.c_str()\n```\n\n### \n\n```c++\nint ia[3][4];\n// pint (*p)[4]4int\nfor(auto p = begin(ia); p != end(ia); ++p) {\n    // qint[4]\n    for(auto q = begin(*p); q != end(*p); ++q) {\n        cout << *q << '';\n    } \n}\n```\n","slug":"cplusplus-primer-v5","published":1,"updated":"2020-04-12T03:40:25.373Z","_id":"ck8wh7l8t00054supfgacn3am","photos":[],"link":"","content":"<p>C++ Primer v5</p>\n<a id=\"more\"></a>\n<h2 id=\"CHAPTER-1-GETTING-STARTED\"><a href=\"#CHAPTER-1-GETTING-STARTED\" class=\"headerlink\" title=\"CHAPTER 1 GETTING STARTED\"></a>CHAPTER 1 GETTING STARTED</h2><ul>\n<li>Variable type: when we wrote<code>T t</code>, we sayed that t has type T, or t is a T</li>\n<li>gcc/g++ warning all options: <code>-Wall</code> for *nix, <code>/W4</code> for windows</li>\n<li>Flush the stream: we should always put <code>std::cout &lt;&lt; std::endl;</code> at the end of <code>std::cout</code> to flush the stream of std-out, or else it wont output immediately</li>\n<li>Left operating left: <code>std::cout &lt;&lt; &quot;text 1&quot; &lt;&lt; &quot; and text 2&quot; &lt;&lt; std::endl;</code> equals to<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"text 1\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\" and text 2\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"built_in\">std</span>:<span class=\"built_in\">endl</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<!--more-->\n<ul>\n<li>istream hits invalid state: <code>while (std::cin &gt;&gt; value)</code> will end at<ol>\n<li>hit the <strong>end-of-file</strong></li>\n<li>encounter an invalid input, such as reading a value is not a integer</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"CHAPTER-2-VARIABLES-AND-BASIC-TYPES\"><a href=\"#CHAPTER-2-VARIABLES-AND-BASIC-TYPES\" class=\"headerlink\" title=\"CHAPTER 2 VARIABLES AND BASIC TYPES\"></a>CHAPTER 2 VARIABLES AND BASIC TYPES</h2><h3 id=\"Primitive-built-in-types\"><a href=\"#Primitive-built-in-types\" class=\"headerlink\" title=\"Primitive built-in types\"></a>Primitive built-in types</h3><ul>\n<li><p>Signed and unsigned types</p>\n<ol>\n<li>except for bool and extended character types, the integral types may be signed or unsigned(float is not integral types)</li>\n<li>there are three character types (two in real usage): char, signed char and unsigned char<ul>\n<li>char is signed in some machine and unsiged in others</li>\n</ul>\n</li>\n<li>use an unsigned when you are sure of its usage</li>\n<li>dont use plain char or bool in arithmetic experssions</li>\n<li>double is better for float, float has not enough precison and in some machines double computation is faster than float</li>\n</ol>\n</li>\n<li><p>Type conversions</p>\n<ol>\n<li>when assign a float to int, <ul>\n<li>the fractional part of float is truncated as temp</li>\n<li>give temp to the int mentioned above</li>\n</ul>\n</li>\n<li>when assign an out-of-value to unsigned type, the lower bits doesnt change, the higher bit out-of-range is truncated, this is same to modulo</li>\n<li>when assign an out-of-value to signed type, the result is undefined</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h3><ul>\n<li><p>List initialization</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> sold = <span class=\"number\">0</span>;   <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> sold = &#123;<span class=\"number\">0</span>&#125;; <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> sold&#123;<span class=\"number\">0</span>&#125;;    <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">sold</span><span class=\"params\">(<span class=\"number\">0</span>)</span></span>;    <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">sold</span><span class=\"params\">(<span class=\"number\">1</span>d)</span></span>;   <span class=\"comment\">// ok but truncated</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> sold&#123;<span class=\"number\">1</span>d&#125;;   <span class=\"comment\">// error:narrowing conversation required</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Default initialization: built-in type defined outside any function body are initialized to zero, inside the function is uninitialized</p>\n</li>\n<li><p>declaration and definition are different</p>\n<ol>\n<li>declaration secifies the type and name of a variable</li>\n<li>definition inits the variable</li>\n<li>to use the same variable in multiple files, you must only have one definition and multi declaration<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// declaration but not definition, must be outside the function</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">int</span> j; </span><br><span class=\"line\"><span class=\"comment\">// declaration and definition</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> j;        </span><br><span class=\"line\"><span class=\"comment\">// only definition, declaration is override, must be outside the function</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">double</span> pi = <span class=\"number\">3.14</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>illegal variable names</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> __a; <span class=\"comment\">// contains 2 underscores</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> _Ab; <span class=\"comment\">// start with underscore, and follow with a upper letter immediately</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>get variables outer scope</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; ::reused &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>; <span class=\"comment\">// use '::'</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"Compound-Types\"><a href=\"#Compound-Types\" class=\"headerlink\" title=\"Compound Types\"></a>Compound Types</h3><ul>\n<li><p>Reference: </p>\n<ol>\n<li>a reference to object, its not an object</li>\n<li>must be initialized, cant re-bind<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> val1 = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">double</span> val2 = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;relVal1 = val1; <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;relVal2;        <span class=\"comment\">// error, must be init</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;relVal3 = val2; <span class=\"comment\">// error, type error</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>Pointers</p>\n<ul>\n<li>different to reference<ol>\n<li>its an object</li>\n<li>can be rebind</li>\n<li>neednt initialized when defined</li>\n<li>like built-in types, it has undefined value in function if its not defined</li>\n</ol>\n</li>\n<li>pointer value state<ol>\n<li>point to an object</li>\n<li>point to the location just immediately past the end of an object (illegal pointer)</li>\n<li>null pointer</li>\n<li>invalid pointer (not initialized)</li>\n</ol>\n</li>\n<li>special<ol>\n<li>same type valid pointers can use in comparation (address compare)</li>\n<li>void pointers<ul>\n<li>can compare to another pointer</li>\n<li>pass or return it from a function</li>\n<li>assign it to another void* pointer</li>\n</ul>\n</li>\n<li>define two pointer in a line: <code>int *p1, *p2</code>, * only works for the variable name</li>\n<li>reference to pointers (example below)</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// normal</span></span><br><span class=\"line\"><span class=\"keyword\">double</span> val = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">double</span> *pd1 = &amp;val; </span><br><span class=\"line\">             <span class=\"comment\">// ok, give the pointer itself a new value</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> *pd2 = &amp;val;    <span class=\"comment\">// error, types differ</span></span><br><span class=\"line\">pd2 = pd1;   <span class=\"comment\">// error, types differ</span></span><br><span class=\"line\">pd1 = val;   <span class=\"comment\">// error, can't assign object to pointer</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// special</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> *p1, p2; <span class=\"comment\">// only p1 is pointer</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *p;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *&amp;r = p; <span class=\"comment\">// read from right to left: r is a reference to pointer</span></span><br><span class=\"line\">r = &amp;i;</span><br><span class=\"line\">*r = <span class=\"number\">0</span>;      <span class=\"comment\">// set i to 0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"const-Qualifer\"><a href=\"#const-Qualifer\" class=\"headerlink\" title=\"const Qualifer\"></a>const Qualifer</h3><ul>\n<li><p>local to file</p>\n<ol>\n<li>default internal linkage in C++<ul>\n<li>if we define <code>const int ivv = 0</code> in source file, and <code>extern const int ivv</code> in header file, ivv only works in that source file, this is the so-called local-to-file, differ to the normal case</li>\n<li>to use ivv in multi files, we should declare <code>extern const int ivv</code> in header file, and define <code>extern const int ivv = 0</code> in source file</li>\n</ul>\n</li>\n<li>default external linkage in C<ul>\n<li>in C, const variables scope is the same to normal case</li>\n</ul>\n</li>\n</ol>\n</li>\n<li><p>reference to const</p>\n<ol>\n<li>const reference to const object/normal/plain/expression/double, means read only</li>\n<li>if reference to double, its a tempory value, if the origin double changes, the reference to const will never know that<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ok initialization</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> ci = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> i = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">double</span> dval = <span class=\"number\">3.14</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r1 = ci; <span class=\"comment\">// from const object</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r2 = i;  <span class=\"comment\">// from normal int</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r3 = <span class=\"number\">12</span>; <span class=\"comment\">// from plain int</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r4 = r1 * <span class=\"number\">2</span>; <span class=\"comment\">// from expression</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r5 = dval; <span class=\"comment\">// dval --&gt; temp int --&gt; r5</span></span><br><span class=\"line\"><span class=\"comment\">// error case</span></span><br><span class=\"line\">r1 = <span class=\"number\">123</span>; <span class=\"comment\">// can't rebind</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;r6 = ci; <span class=\"comment\">// only const reference can reference to const object</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>pointer to const(<strong>cant change the memory the address points to</strong>)</p>\n<ol>\n<li>similar to reference to const, it stores the address of a object and has read access but not write access to the address</li>\n<li><strong>can rebind</strong></li>\n</ol>\n</li>\n<li><p>const pointers(<strong>cant change the address</strong>)</p>\n<ol>\n<li>cant rebind, must be initialized at first time</li>\n<li>itself const, always point to the same address</li>\n<li><strong>can change the addresss real value</strong><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> errNumb = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *<span class=\"keyword\">const</span> curErr = &amp;errNumb; <span class=\"comment\">// const pointers</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> *curPnt = &amp;errNumb; <span class=\"comment\">// pointer to const</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> i = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> *<span class=\"keyword\">const</span> curNor = &amp;i; <span class=\"comment\">// a const pointer to a const int</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>top-level &amp; low-level const</p>\n<ol>\n<li>top-level: itself const, const objects(pointers)</li>\n<li>low-level: pointer or reference to const</li>\n<li>when we copy a object, top-level is ignored and low-level will never be ignored<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> b = a; <span class=\"comment\">// ok: top-level ignore</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> <span class=\"keyword\">const</span> *m = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *n = m; <span class=\"comment\">// error: low-level can't be ignore</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>constexpr:<strong>applies to the pointer</strong> but not the type to which the pointer points</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> *p = <span class=\"number\">0</span>; <span class=\"comment\">// pointer to const</span></span><br><span class=\"line\"><span class=\"keyword\">constexpr</span> <span class=\"keyword\">int</span> *q = <span class=\"number\">0</span>; <span class=\"comment\">// a const pointer to int</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"Dealing-with-type\"><a href=\"#Dealing-with-type\" class=\"headerlink\" title=\"Dealing with type\"></a>Dealing with type</h3><ul>\n<li><p>type alias</p>\n<ol>\n<li>typedef is the alias of an object<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">double</span> wages; <span class=\"comment\">// `wages` is same to double</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> wages = <span class=\"keyword\">double</span>;</span><br><span class=\"line\"><span class=\"comment\">// pointer</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">char</span> *pstring; <span class=\"comment\">// pstring is an object: char*, pointer to char</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> pstring cstr = <span class=\"number\">0</span>; <span class=\"comment\">// same to `const (char*) cstr = 0`, cstr is a const pointer to char</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>auto: automatically determines the type, <strong>ignores the top-level</strong></p>\n</li>\n<li>decltype: similar to auto, but <strong>top-level is keeped</strong><ol>\n<li>decltype((v)) is always a reference type<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> a = i; <span class=\"comment\">// normal int </span></span><br><span class=\"line\"><span class=\"keyword\">decltype</span>(i) b = <span class=\"number\">0</span>; <span class=\"comment\">// const int</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"CHAPTER-3-STRINGS-VECTORS-AND-ARRAYS\"><a href=\"#CHAPTER-3-STRINGS-VECTORS-AND-ARRAYS\" class=\"headerlink\" title=\"CHAPTER 3 STRINGS, VECTORS, AND ARRAYS\"></a>CHAPTER 3 STRINGS, VECTORS, AND ARRAYS</h2><h3 id=\"Namespace-using-Declarations\"><a href=\"#Namespace-using-Declarations\" class=\"headerlink\" title=\"Namespace using Declarations\"></a>Namespace using Declarations</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// main.cpp</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"hello\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<!--more-->\n<h3 id=\"Library-string-Type\"><a href=\"#Library-string-Type\" class=\"headerlink\" title=\"Library string Type\"></a>Library string Type</h3><p></p>\n<ul>\n<li><code>#include &lt;string&gt;</code></li>\n<li><code>using std::string</code></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s1;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">s1</span><span class=\"params\">(<span class=\"number\">10</span>, <span class=\"string\">'c'</span>)</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">s2</span><span class=\"params\">(<span class=\"string\">\"haha\"</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s3 = <span class=\"string\">\"haha\"</span>;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> word;</span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"built_in\">cin</span> &gt;&gt; word) <span class=\"comment\">// is&gt;&gt;sis</span></span><br><span class=\"line\">    <span class=\"built_in\">cout</span> &lt;&lt; word &lt;&lt; <span class=\"built_in\">endl</span>; <span class=\"comment\">// os &lt;&lt; sos</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(getline(<span class=\"built_in\">cin</span>, word)) <span class=\"comment\">// is</span></span><br><span class=\"line\">    <span class=\"built_in\">cout</span> &lt;&lt; word &lt;&lt; <span class=\"built_in\">endl</span>;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>ASCII</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// s2s1s3</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s1 = <span class=\"string\">\"hello\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">string</span> s2 = <span class=\"string\">\"hello, world\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">string</span> s3 = <span class=\"string\">\"hexo\"</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>size()</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> s1;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> size = s1.size(); <span class=\"comment\">// string::size_type</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s1 = <span class=\"string\">\"t\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">string</span> s2 = <span class=\"string\">\"x\"</span>;</span><br><span class=\"line\">s1 += s2;</span><br><span class=\"line\"><span class=\"comment\">// stringliterals</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s3 = <span class=\"string\">\"t\"</span> + <span class=\"string\">\"x\"</span>; <span class=\"comment\">// error</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s4 = <span class=\"string\">\"t\"</span> + s1 + <span class=\"string\">\"x\"</span>; <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>copyreference</li>\n<li>reference</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> s1 = <span class=\"string\">\"test\"</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> c : s1) <span class=\"comment\">// ccopyc</span></span><br><span class=\"line\">    <span class=\"comment\">// do sth</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;c : s1) <span class=\"comment\">// creference</span></span><br><span class=\"line\">    <span class=\"comment\">// do sth</span></span><br><span class=\"line\">s1[<span class=\"number\">0</span>] = <span class=\"string\">'y'</span>; <span class=\"comment\">// 0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Library-vector-Type\"><a href=\"#Library-vector-Type\" class=\"headerlink\" title=\"Library vector Type\"></a>Library vector Type</h3><p></p>\n<ul>\n<li><code>#include &lt;vector&gt;</code></li>\n<li><code>using std::vector</code></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><p><em></em><br><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"built_in\">string</span>&gt; v1; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; v2(<span class=\"number\">10</span>); <span class=\"comment\">// 100</span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; v3(<span class=\"number\">10</span>, <span class=\"number\">1</span>); <span class=\"comment\">// 101</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; &#123;<span class=\"number\">10</span>, <span class=\"number\">1</span>&#125;; <span class=\"comment\">// 101</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>vector<code>vector[size+1] = 3</code>vector<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; v1(<span class=\"number\">10</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">v1.push_back(<span class=\"number\">2</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">v1[<span class=\"number\">0</span>] = <span class=\"number\">3</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">v1.size(); <span class=\"comment\">// vector::size_type</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"Introducing-Iterators\"><a href=\"#Introducing-Iterators\" class=\"headerlink\" title=\"Introducing Iterators\"></a>Introducing Iterators</h3><h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><p>stringiterator</p>\n<ul>\n<li>string::iterator</li>\n<li>string::const_iterator</li>\n</ul>\n<p>vectoriterator</p>\n<ul>\n<li>vector::iterator</li>\n<li>vector::const_iterator</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">s1</span><span class=\"params\">(<span class=\"string\">\"123\"</span>)</span></span>;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> i1 = s1.begin(); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> i2 = s1.end(); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> i3 = s1.cbegin(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">vector</span> s1&#123;<span class=\"string\">\"123\"</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> i1 = s1.begin();</span><br><span class=\"line\">*i1 = <span class=\"string\">\"345\"</span>; <span class=\"comment\">// dereference</span></span><br><span class=\"line\">(*i1).size(); <span class=\"comment\">// size()</span></span><br><span class=\"line\">*i1.size(); <span class=\"comment\">// error*(i1.size())</span></span><br><span class=\"line\">i1++; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br></pre></td></tr></table></figure></p>\n<p>iteratorvectorpush_backiterator</p>\n<h3 id=\"Arrays\"><a href=\"#Arrays\" class=\"headerlink\" title=\"Arrays\"></a>Arrays</h3><h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> arr[<span class=\"number\">10</span>]; <span class=\"comment\">// 10intint0intundefinedbuilt-in</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> arr2[<span class=\"number\">10</span>] = &#123;<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">char</span> c1[] = <span class=\"string\">\"C++\"</span>; <span class=\"comment\">// 4'\\0'</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> arr3 [] = arr; <span class=\"comment\">// error</span></span><br><span class=\"line\">arr2 = arr; <span class=\"comment\">// error</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> *ptr[<span class=\"number\">10</span>]; <span class=\"comment\">// ptr10int</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> (*ptr)[<span class=\"number\">10</span>]; <span class=\"comment\">// ptr10int</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>for-each<code>for(auto tmp : arr)for(auto &amp;tmp : arr)</code></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> nums[] = &#123;<span class=\"string\">\"one\"</span>, <span class=\"string\">\"two\"</span>, <span class=\"string\">\"three\"</span>&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">string</span> *ptr = nums;</span><br><span class=\"line\">ptr = &amp;nums[<span class=\"number\">0</span>];</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>autodecltype</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> ia[] = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">auto</span> <span class=\"title\">ia2</span><span class=\"params\">(ia)</span></span>; <span class=\"comment\">// &amp;ia[0]</span></span><br><span class=\"line\"><span class=\"keyword\">decltype</span>(ia) ia3 = &#123;<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>&#125;; <span class=\"comment\">// ia</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> arr[] = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *ptr = <span class=\"number\">0</span>; <span class=\"comment\">// 1</span></span><br><span class=\"line\">ptr = arr; <span class=\"comment\">// 2</span></span><br><span class=\"line\">ptr = arr[<span class=\"number\">3</span>]; <span class=\"comment\">// 3*</span></span><br><span class=\"line\">ptr = arr[<span class=\"number\">4</span>]; <span class=\"comment\">// 4*</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>beginend</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> ia[] = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *begin = begin(ia);</span><br><span class=\"line\"><span class=\"keyword\">int</span> *end = end(ia);</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; ivec(begin(ia), end(ia)); <span class=\"comment\">// iaivec</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li>built-in<code>p[-2]</code>pvectorlibrary type</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"c\"><a href=\"#c\" class=\"headerlink\" title=\"c\"></a>c</h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> s = <span class=\"string\">\"c++\"</span>; <span class=\"comment\">// cstring</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *str = s; <span class=\"comment\">// errors.c_str()</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> ia[<span class=\"number\">3</span>][<span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"comment\">// pint (*p)[4]4int</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> p = begin(ia); p != end(ia); ++p) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// qint[4]</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> q = begin(*p); q != end(*p); ++q) &#123;</span><br><span class=\"line\">        cout &lt;&lt; *q &lt;&lt; '';</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>C++ Primer v5</p>","more":"<h2 id=\"CHAPTER-1-GETTING-STARTED\"><a href=\"#CHAPTER-1-GETTING-STARTED\" class=\"headerlink\" title=\"CHAPTER 1 GETTING STARTED\"></a>CHAPTER 1 GETTING STARTED</h2><ul>\n<li>Variable type: when we wrote<code>T t</code>, we sayed that t has type T, or t is a T</li>\n<li>gcc/g++ warning all options: <code>-Wall</code> for *nix, <code>/W4</code> for windows</li>\n<li>Flush the stream: we should always put <code>std::cout &lt;&lt; std::endl;</code> at the end of <code>std::cout</code> to flush the stream of std-out, or else it wont output immediately</li>\n<li>Left operating left: <code>std::cout &lt;&lt; &quot;text 1&quot; &lt;&lt; &quot; and text 2&quot; &lt;&lt; std::endl;</code> equals to<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"text 1\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\" and text 2\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; <span class=\"built_in\">std</span>:<span class=\"built_in\">endl</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<!--more-->\n<ul>\n<li>istream hits invalid state: <code>while (std::cin &gt;&gt; value)</code> will end at<ol>\n<li>hit the <strong>end-of-file</strong></li>\n<li>encounter an invalid input, such as reading a value is not a integer</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"CHAPTER-2-VARIABLES-AND-BASIC-TYPES\"><a href=\"#CHAPTER-2-VARIABLES-AND-BASIC-TYPES\" class=\"headerlink\" title=\"CHAPTER 2 VARIABLES AND BASIC TYPES\"></a>CHAPTER 2 VARIABLES AND BASIC TYPES</h2><h3 id=\"Primitive-built-in-types\"><a href=\"#Primitive-built-in-types\" class=\"headerlink\" title=\"Primitive built-in types\"></a>Primitive built-in types</h3><ul>\n<li><p>Signed and unsigned types</p>\n<ol>\n<li>except for bool and extended character types, the integral types may be signed or unsigned(float is not integral types)</li>\n<li>there are three character types (two in real usage): char, signed char and unsigned char<ul>\n<li>char is signed in some machine and unsiged in others</li>\n</ul>\n</li>\n<li>use an unsigned when you are sure of its usage</li>\n<li>dont use plain char or bool in arithmetic experssions</li>\n<li>double is better for float, float has not enough precison and in some machines double computation is faster than float</li>\n</ol>\n</li>\n<li><p>Type conversions</p>\n<ol>\n<li>when assign a float to int, <ul>\n<li>the fractional part of float is truncated as temp</li>\n<li>give temp to the int mentioned above</li>\n</ul>\n</li>\n<li>when assign an out-of-value to unsigned type, the lower bits doesnt change, the higher bit out-of-range is truncated, this is same to modulo</li>\n<li>when assign an out-of-value to signed type, the result is undefined</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"Variables\"><a href=\"#Variables\" class=\"headerlink\" title=\"Variables\"></a>Variables</h3><ul>\n<li><p>List initialization</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> sold = <span class=\"number\">0</span>;   <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> sold = &#123;<span class=\"number\">0</span>&#125;; <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> sold&#123;<span class=\"number\">0</span>&#125;;    <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">sold</span><span class=\"params\">(<span class=\"number\">0</span>)</span></span>;    <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">sold</span><span class=\"params\">(<span class=\"number\">1</span>d)</span></span>;   <span class=\"comment\">// ok but truncated</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> sold&#123;<span class=\"number\">1</span>d&#125;;   <span class=\"comment\">// error:narrowing conversation required</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Default initialization: built-in type defined outside any function body are initialized to zero, inside the function is uninitialized</p>\n</li>\n<li><p>declaration and definition are different</p>\n<ol>\n<li>declaration secifies the type and name of a variable</li>\n<li>definition inits the variable</li>\n<li>to use the same variable in multiple files, you must only have one definition and multi declaration<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// declaration but not definition, must be outside the function</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">int</span> j; </span><br><span class=\"line\"><span class=\"comment\">// declaration and definition</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> j;        </span><br><span class=\"line\"><span class=\"comment\">// only definition, declaration is override, must be outside the function</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">double</span> pi = <span class=\"number\">3.14</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>illegal variable names</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> __a; <span class=\"comment\">// contains 2 underscores</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> _Ab; <span class=\"comment\">// start with underscore, and follow with a upper letter immediately</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>get variables outer scope</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span> &lt;&lt; ::reused &lt;&lt; <span class=\"built_in\">std</span>::<span class=\"built_in\">endl</span>; <span class=\"comment\">// use '::'</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"Compound-Types\"><a href=\"#Compound-Types\" class=\"headerlink\" title=\"Compound Types\"></a>Compound Types</h3><ul>\n<li><p>Reference: </p>\n<ol>\n<li>a reference to object, its not an object</li>\n<li>must be initialized, cant re-bind<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> val1 = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">double</span> val2 = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;relVal1 = val1; <span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;relVal2;        <span class=\"comment\">// error, must be init</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;relVal3 = val2; <span class=\"comment\">// error, type error</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>Pointers</p>\n<ul>\n<li>different to reference<ol>\n<li>its an object</li>\n<li>can be rebind</li>\n<li>neednt initialized when defined</li>\n<li>like built-in types, it has undefined value in function if its not defined</li>\n</ol>\n</li>\n<li>pointer value state<ol>\n<li>point to an object</li>\n<li>point to the location just immediately past the end of an object (illegal pointer)</li>\n<li>null pointer</li>\n<li>invalid pointer (not initialized)</li>\n</ol>\n</li>\n<li>special<ol>\n<li>same type valid pointers can use in comparation (address compare)</li>\n<li>void pointers<ul>\n<li>can compare to another pointer</li>\n<li>pass or return it from a function</li>\n<li>assign it to another void* pointer</li>\n</ul>\n</li>\n<li>define two pointer in a line: <code>int *p1, *p2</code>, * only works for the variable name</li>\n<li>reference to pointers (example below)</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// normal</span></span><br><span class=\"line\"><span class=\"keyword\">double</span> val = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">double</span> *pd1 = &amp;val; </span><br><span class=\"line\">             <span class=\"comment\">// ok, give the pointer itself a new value</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> *pd2 = &amp;val;    <span class=\"comment\">// error, types differ</span></span><br><span class=\"line\">pd2 = pd1;   <span class=\"comment\">// error, types differ</span></span><br><span class=\"line\">pd1 = val;   <span class=\"comment\">// error, can't assign object to pointer</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// special</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> *p1, p2; <span class=\"comment\">// only p1 is pointer</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *p;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *&amp;r = p; <span class=\"comment\">// read from right to left: r is a reference to pointer</span></span><br><span class=\"line\">r = &amp;i;</span><br><span class=\"line\">*r = <span class=\"number\">0</span>;      <span class=\"comment\">// set i to 0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"const-Qualifer\"><a href=\"#const-Qualifer\" class=\"headerlink\" title=\"const Qualifer\"></a>const Qualifer</h3><ul>\n<li><p>local to file</p>\n<ol>\n<li>default internal linkage in C++<ul>\n<li>if we define <code>const int ivv = 0</code> in source file, and <code>extern const int ivv</code> in header file, ivv only works in that source file, this is the so-called local-to-file, differ to the normal case</li>\n<li>to use ivv in multi files, we should declare <code>extern const int ivv</code> in header file, and define <code>extern const int ivv = 0</code> in source file</li>\n</ul>\n</li>\n<li>default external linkage in C<ul>\n<li>in C, const variables scope is the same to normal case</li>\n</ul>\n</li>\n</ol>\n</li>\n<li><p>reference to const</p>\n<ol>\n<li>const reference to const object/normal/plain/expression/double, means read only</li>\n<li>if reference to double, its a tempory value, if the origin double changes, the reference to const will never know that<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ok initialization</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> ci = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> i = <span class=\"number\">1024</span>;</span><br><span class=\"line\"><span class=\"keyword\">double</span> dval = <span class=\"number\">3.14</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r1 = ci; <span class=\"comment\">// from const object</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r2 = i;  <span class=\"comment\">// from normal int</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r3 = <span class=\"number\">12</span>; <span class=\"comment\">// from plain int</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r4 = r1 * <span class=\"number\">2</span>; <span class=\"comment\">// from expression</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> &amp;r5 = dval; <span class=\"comment\">// dval --&gt; temp int --&gt; r5</span></span><br><span class=\"line\"><span class=\"comment\">// error case</span></span><br><span class=\"line\">r1 = <span class=\"number\">123</span>; <span class=\"comment\">// can't rebind</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> &amp;r6 = ci; <span class=\"comment\">// only const reference can reference to const object</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>pointer to const(<strong>cant change the memory the address points to</strong>)</p>\n<ol>\n<li>similar to reference to const, it stores the address of a object and has read access but not write access to the address</li>\n<li><strong>can rebind</strong></li>\n</ol>\n</li>\n<li><p>const pointers(<strong>cant change the address</strong>)</p>\n<ol>\n<li>cant rebind, must be initialized at first time</li>\n<li>itself const, always point to the same address</li>\n<li><strong>can change the addresss real value</strong><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> errNumb = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *<span class=\"keyword\">const</span> curErr = &amp;errNumb; <span class=\"comment\">// const pointers</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> *curPnt = &amp;errNumb; <span class=\"comment\">// pointer to const</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> i = <span class=\"number\">123</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> *<span class=\"keyword\">const</span> curNor = &amp;i; <span class=\"comment\">// a const pointer to a const int</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>top-level &amp; low-level const</p>\n<ol>\n<li>top-level: itself const, const objects(pointers)</li>\n<li>low-level: pointer or reference to const</li>\n<li>when we copy a object, top-level is ignored and low-level will never be ignored<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> b = a; <span class=\"comment\">// ok: top-level ignore</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> <span class=\"keyword\">const</span> *m = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *n = m; <span class=\"comment\">// error: low-level can't be ignore</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>constexpr:<strong>applies to the pointer</strong> but not the type to which the pointer points</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> *p = <span class=\"number\">0</span>; <span class=\"comment\">// pointer to const</span></span><br><span class=\"line\"><span class=\"keyword\">constexpr</span> <span class=\"keyword\">int</span> *q = <span class=\"number\">0</span>; <span class=\"comment\">// a const pointer to int</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"Dealing-with-type\"><a href=\"#Dealing-with-type\" class=\"headerlink\" title=\"Dealing with type\"></a>Dealing with type</h3><ul>\n<li><p>type alias</p>\n<ol>\n<li>typedef is the alias of an object<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">double</span> wages; <span class=\"comment\">// `wages` is same to double</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> wages = <span class=\"keyword\">double</span>;</span><br><span class=\"line\"><span class=\"comment\">// pointer</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">char</span> *pstring; <span class=\"comment\">// pstring is an object: char*, pointer to char</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> pstring cstr = <span class=\"number\">0</span>; <span class=\"comment\">// same to `const (char*) cstr = 0`, cstr is a const pointer to char</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>auto: automatically determines the type, <strong>ignores the top-level</strong></p>\n</li>\n<li>decltype: similar to auto, but <strong>top-level is keeped</strong><ol>\n<li>decltype((v)) is always a reference type<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> a = i; <span class=\"comment\">// normal int </span></span><br><span class=\"line\"><span class=\"keyword\">decltype</span>(i) b = <span class=\"number\">0</span>; <span class=\"comment\">// const int</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"CHAPTER-3-STRINGS-VECTORS-AND-ARRAYS\"><a href=\"#CHAPTER-3-STRINGS-VECTORS-AND-ARRAYS\" class=\"headerlink\" title=\"CHAPTER 3 STRINGS, VECTORS, AND ARRAYS\"></a>CHAPTER 3 STRINGS, VECTORS, AND ARRAYS</h2><h3 id=\"Namespace-using-Declarations\"><a href=\"#Namespace-using-Declarations\" class=\"headerlink\" title=\"Namespace using Declarations\"></a>Namespace using Declarations</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// main.cpp</span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"built_in\">std</span>::<span class=\"built_in\">cout</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">cout</span> &lt;&lt; <span class=\"string\">\"hello\"</span> &lt;&lt; <span class=\"built_in\">endl</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<!--more-->\n<h3 id=\"Library-string-Type\"><a href=\"#Library-string-Type\" class=\"headerlink\" title=\"Library string Type\"></a>Library string Type</h3><p></p>\n<ul>\n<li><code>#include &lt;string&gt;</code></li>\n<li><code>using std::string</code></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s1;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">s1</span><span class=\"params\">(<span class=\"number\">10</span>, <span class=\"string\">'c'</span>)</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">s2</span><span class=\"params\">(<span class=\"string\">\"haha\"</span>)</span></span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s3 = <span class=\"string\">\"haha\"</span>;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> word;</span><br><span class=\"line\"><span class=\"keyword\">while</span>(<span class=\"built_in\">cin</span> &gt;&gt; word) <span class=\"comment\">// is&gt;&gt;sis</span></span><br><span class=\"line\">    <span class=\"built_in\">cout</span> &lt;&lt; word &lt;&lt; <span class=\"built_in\">endl</span>; <span class=\"comment\">// os &lt;&lt; sos</span></span><br><span class=\"line\"><span class=\"keyword\">while</span>(getline(<span class=\"built_in\">cin</span>, word)) <span class=\"comment\">// is</span></span><br><span class=\"line\">    <span class=\"built_in\">cout</span> &lt;&lt; word &lt;&lt; <span class=\"built_in\">endl</span>;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>ASCII</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// s2s1s3</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s1 = <span class=\"string\">\"hello\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">string</span> s2 = <span class=\"string\">\"hello, world\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">string</span> s3 = <span class=\"string\">\"hexo\"</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>size()</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> s1;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> size = s1.size(); <span class=\"comment\">// string::size_type</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s1 = <span class=\"string\">\"t\"</span>;</span><br><span class=\"line\"><span class=\"built_in\">string</span> s2 = <span class=\"string\">\"x\"</span>;</span><br><span class=\"line\">s1 += s2;</span><br><span class=\"line\"><span class=\"comment\">// stringliterals</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s3 = <span class=\"string\">\"t\"</span> + <span class=\"string\">\"x\"</span>; <span class=\"comment\">// error</span></span><br><span class=\"line\"><span class=\"built_in\">string</span> s4 = <span class=\"string\">\"t\"</span> + s1 + <span class=\"string\">\"x\"</span>; <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>copyreference</li>\n<li>reference</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> s1 = <span class=\"string\">\"test\"</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> c : s1) <span class=\"comment\">// ccopyc</span></span><br><span class=\"line\">    <span class=\"comment\">// do sth</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;c : s1) <span class=\"comment\">// creference</span></span><br><span class=\"line\">    <span class=\"comment\">// do sth</span></span><br><span class=\"line\">s1[<span class=\"number\">0</span>] = <span class=\"string\">'y'</span>; <span class=\"comment\">// 0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Library-vector-Type\"><a href=\"#Library-vector-Type\" class=\"headerlink\" title=\"Library vector Type\"></a>Library vector Type</h3><p></p>\n<ul>\n<li><code>#include &lt;vector&gt;</code></li>\n<li><code>using std::vector</code></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><p><em></em><br><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"built_in\">string</span>&gt; v1; </span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; v2(<span class=\"number\">10</span>); <span class=\"comment\">// 100</span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; v3(<span class=\"number\">10</span>, <span class=\"number\">1</span>); <span class=\"comment\">// 101</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; &#123;<span class=\"number\">10</span>, <span class=\"number\">1</span>&#125;; <span class=\"comment\">// 101</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>vector<code>vector[size+1] = 3</code>vector<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; v1(<span class=\"number\">10</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">v1.push_back(<span class=\"number\">2</span>); <span class=\"comment\">// </span></span><br><span class=\"line\">v1[<span class=\"number\">0</span>] = <span class=\"number\">3</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">v1.size(); <span class=\"comment\">// vector::size_type</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"Introducing-Iterators\"><a href=\"#Introducing-Iterators\" class=\"headerlink\" title=\"Introducing Iterators\"></a>Introducing Iterators</h3><h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><p>stringiterator</p>\n<ul>\n<li>string::iterator</li>\n<li>string::const_iterator</li>\n</ul>\n<p>vectoriterator</p>\n<ul>\n<li>vector::iterator</li>\n<li>vector::const_iterator</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"built_in\">string</span> <span class=\"title\">s1</span><span class=\"params\">(<span class=\"string\">\"123\"</span>)</span></span>;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> i1 = s1.begin(); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> i2 = s1.end(); <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">auto</span> i3 = s1.cbegin(); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">vector</span> s1&#123;<span class=\"string\">\"123\"</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">auto</span> i1 = s1.begin();</span><br><span class=\"line\">*i1 = <span class=\"string\">\"345\"</span>; <span class=\"comment\">// dereference</span></span><br><span class=\"line\">(*i1).size(); <span class=\"comment\">// size()</span></span><br><span class=\"line\">*i1.size(); <span class=\"comment\">// error*(i1.size())</span></span><br><span class=\"line\">i1++; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br></pre></td></tr></table></figure></p>\n<p>iteratorvectorpush_backiterator</p>\n<h3 id=\"Arrays\"><a href=\"#Arrays\" class=\"headerlink\" title=\"Arrays\"></a>Arrays</h3><h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> arr[<span class=\"number\">10</span>]; <span class=\"comment\">// 10intint0intundefinedbuilt-in</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> arr2[<span class=\"number\">10</span>] = &#123;<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>&#125;; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">char</span> c1[] = <span class=\"string\">\"C++\"</span>; <span class=\"comment\">// 4'\\0'</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> arr3 [] = arr; <span class=\"comment\">// error</span></span><br><span class=\"line\">arr2 = arr; <span class=\"comment\">// error</span></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">int</span> *ptr[<span class=\"number\">10</span>]; <span class=\"comment\">// ptr10int</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> (*ptr)[<span class=\"number\">10</span>]; <span class=\"comment\">// ptr10int</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>for-each<code>for(auto tmp : arr)for(auto &amp;tmp : arr)</code></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> nums[] = &#123;<span class=\"string\">\"one\"</span>, <span class=\"string\">\"two\"</span>, <span class=\"string\">\"three\"</span>&#125;;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"built_in\">string</span> *ptr = nums;</span><br><span class=\"line\">ptr = &amp;nums[<span class=\"number\">0</span>];</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>autodecltype</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> ia[] = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">auto</span> <span class=\"title\">ia2</span><span class=\"params\">(ia)</span></span>; <span class=\"comment\">// &amp;ia[0]</span></span><br><span class=\"line\"><span class=\"keyword\">decltype</span>(ia) ia3 = &#123;<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>&#125;; <span class=\"comment\">// ia</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> arr[] = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *ptr = <span class=\"number\">0</span>; <span class=\"comment\">// 1</span></span><br><span class=\"line\">ptr = arr; <span class=\"comment\">// 2</span></span><br><span class=\"line\">ptr = arr[<span class=\"number\">3</span>]; <span class=\"comment\">// 3*</span></span><br><span class=\"line\">ptr = arr[<span class=\"number\">4</span>]; <span class=\"comment\">// 4*</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>beginend</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> ia[] = &#123;<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">int</span> *begin = begin(ia);</span><br><span class=\"line\"><span class=\"keyword\">int</span> *end = end(ia);</span><br><span class=\"line\"><span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">int</span>&gt; ivec(begin(ia), end(ia)); <span class=\"comment\">// iaivec</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li>built-in<code>p[-2]</code>pvectorlibrary type</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"c\"><a href=\"#c\" class=\"headerlink\" title=\"c\"></a>c</h4><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">string</span> s = <span class=\"string\">\"c++\"</span>; <span class=\"comment\">// cstring</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *str = s; <span class=\"comment\">// errors.c_str()</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> ia[<span class=\"number\">3</span>][<span class=\"number\">4</span>];</span><br><span class=\"line\"><span class=\"comment\">// pint (*p)[4]4int</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> p = begin(ia); p != end(ia); ++p) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// qint[4]</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> q = begin(*p); q != end(*p); ++q) &#123;</span><br><span class=\"line\">        cout &lt;&lt; *q &lt;&lt; '';</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"","date":"2015-11-21T07:18:00.000Z","comments":1,"_content":"\n\n\n<!--more-->\n\n## 1 \n\n### \n\n------\n\nhello.c****\n\n**(cpp)**\n\nhello.i****\n\n**(ccl)**\n\nhello.s****\n\n**(as)**\n\nhello.o****+printf.o\n\n**(ld)**\n\nhello(****)\n\n------\n\n<!--more-->\n\nQC\t\nA.c+c.h.o.o\n\nQcppCH\t\nA\n\n```c++\n#ifndef    __SOMEFILE_H__\n#define  __SOMEFILE_H__\n...... // \n#endif\n```\n\n1) ++\t\n\n2) CHCPPHC#ifndef\n\n### \n\n1. (word)432864\n2. I/OI/ODMAI/OI/OI/O\n3. DRAM\n4. PCPCALU\n\nQ3264\t\nA\n\nQ\t\nA**TODO**\n\n### \n\n1. 12\n2. PC\n3. \n4. \t\n\t**(.text)**\t\n\n\t**(.rodata)**\t\n\n\t**(.data)**\t\n\n\t**(.bss)**\t\n\n\t****mallocfree\t\n\n\t****\t\n\n\t****\t\n\n\t****\n5. I/O\n\nI/O\n\nQ\t\nA\n```c++\n//main.cpp\nint a = 0;          // \nchar *p1;           // \n                    // built-in type\nint main()\n{\n  int b;            // \n  char s[] = \"abc\"; // \n  char *p2;         // \n  char *p3 = \"123456\";     // \"123456/0\" p3\n  static int c =0;         // \n \n  p1 = (char *)malloc(10);\n  p2 = (char *)malloc(20); // 1020\n \n  strcpy(p1, \"123456\");    // \"123456/0\" \n                              // p3\"123456\"\n  return 0;\n}\n```\n\n### \n\n1. Inter Core i74228+\n2. \n3. \n\n## 2 \n\n### \n\n1. RAM\n2. 1\n3. human-readable\n4. ~NOT&AND|OR^`(a^b)^a=b`\n5. `x&0xFF`x8\n6. ||&&!1012\n7. k0k0k****Java`>>``>>>`kw`k mod w`\n\n### \n\n1. longint`intN_t``uintN_t`Nprintf`%ld``%d``-2^(w-1)``2^(w-1)-1``%u``0``2^w-1`\n2. \n3. wx\n\t- `x+2^w`\n\t- x\n4. wu\n\t- u`2^(w-1)`u\n\t- u`2^(w-1)``u-2^w`\n5. TxwC`TMax=2^(w-1)-1``TMin=-TMax-1`\n6. 0\n7. \n\nQ`TMin`\t\nA**TODO**\n\n### \n\n1. \n\t- `2^w``2^w`\n2. \n\t- `2^(w-1)``2^w`\n\t- `-2^(w-1)``2^w`\n\t- \n3. \n\t- x`-2^(w-1)`\n\t- -x\n4. \n\t- `(x * y) mod 2^w`\n5. \n\t- \n6. 2\n\t- 0\n\t- 2\n\t\t- \n\t\t- \n\t\t- -52yxkk+1\n\nQ1`-x=~x+1`\t\nA\n\n- 1x-2^(w-1)\n- 2-x`~x+x+1=0``~x+x`1\n\nQ`(x+2^k-1) >> k`\t\nA**TODO**\n\n### \n\n1. 1`x * 2^y`2\n2. `(-1)^s * M * 2^E`\n\t- ssign\n\t- Msignificandnfracf\n\t- EexponetkexpeM\n\t- s | exp | frac\n3. \n\t- frac0`M=f``E=1-Bias``Bias=2^(k-1) - 1`\n\t- frac1`M=1+f``E=e-Bias``Bias=2^(k-1) - 1`\n\t- frac1exp0NaN\n4. \n\t- 2.51.52\n\t- 01\n\nQ\t\nA**TODO**\n\nQ\t\nA**TODO**\n\nQ12345\t\t\nA432k=8n=23123450000,0011,0000,0011,1001\n1. `f*2^(1-Bias)`112345\n2. 0000,0011,0000,0011,1001 = 1.**1,0000,0011,1001** * 2^13**1,0000,0011,1001**ff13=E=e-Bias=e-128e1411000,1101\n3. 0, 1000,1101, 000,0000,0001,0000,0011,1001\n","source":"_posts/2015-11-21-computer-systems.markdown","raw":"---\nlayout: post\ntitle: \ndate: '2015-11-21 15:18'\ncomments: true\ncategories: [''] \ntags: ['']\n---\n\n\n\n<!--more-->\n\n## 1 \n\n### \n\n------\n\nhello.c****\n\n**(cpp)**\n\nhello.i****\n\n**(ccl)**\n\nhello.s****\n\n**(as)**\n\nhello.o****+printf.o\n\n**(ld)**\n\nhello(****)\n\n------\n\n<!--more-->\n\nQC\t\nA.c+c.h.o.o\n\nQcppCH\t\nA\n\n```c++\n#ifndef    __SOMEFILE_H__\n#define  __SOMEFILE_H__\n...... // \n#endif\n```\n\n1) ++\t\n\n2) CHCPPHC#ifndef\n\n### \n\n1. (word)432864\n2. I/OI/ODMAI/OI/OI/O\n3. DRAM\n4. PCPCALU\n\nQ3264\t\nA\n\nQ\t\nA**TODO**\n\n### \n\n1. 12\n2. PC\n3. \n4. \t\n\t**(.text)**\t\n\n\t**(.rodata)**\t\n\n\t**(.data)**\t\n\n\t**(.bss)**\t\n\n\t****mallocfree\t\n\n\t****\t\n\n\t****\t\n\n\t****\n5. I/O\n\nI/O\n\nQ\t\nA\n```c++\n//main.cpp\nint a = 0;          // \nchar *p1;           // \n                    // built-in type\nint main()\n{\n  int b;            // \n  char s[] = \"abc\"; // \n  char *p2;         // \n  char *p3 = \"123456\";     // \"123456/0\" p3\n  static int c =0;         // \n \n  p1 = (char *)malloc(10);\n  p2 = (char *)malloc(20); // 1020\n \n  strcpy(p1, \"123456\");    // \"123456/0\" \n                              // p3\"123456\"\n  return 0;\n}\n```\n\n### \n\n1. Inter Core i74228+\n2. \n3. \n\n## 2 \n\n### \n\n1. RAM\n2. 1\n3. human-readable\n4. ~NOT&AND|OR^`(a^b)^a=b`\n5. `x&0xFF`x8\n6. ||&&!1012\n7. k0k0k****Java`>>``>>>`kw`k mod w`\n\n### \n\n1. longint`intN_t``uintN_t`Nprintf`%ld``%d``-2^(w-1)``2^(w-1)-1``%u``0``2^w-1`\n2. \n3. wx\n\t- `x+2^w`\n\t- x\n4. wu\n\t- u`2^(w-1)`u\n\t- u`2^(w-1)``u-2^w`\n5. TxwC`TMax=2^(w-1)-1``TMin=-TMax-1`\n6. 0\n7. \n\nQ`TMin`\t\nA**TODO**\n\n### \n\n1. \n\t- `2^w``2^w`\n2. \n\t- `2^(w-1)``2^w`\n\t- `-2^(w-1)``2^w`\n\t- \n3. \n\t- x`-2^(w-1)`\n\t- -x\n4. \n\t- `(x * y) mod 2^w`\n5. \n\t- \n6. 2\n\t- 0\n\t- 2\n\t\t- \n\t\t- \n\t\t- -52yxkk+1\n\nQ1`-x=~x+1`\t\nA\n\n- 1x-2^(w-1)\n- 2-x`~x+x+1=0``~x+x`1\n\nQ`(x+2^k-1) >> k`\t\nA**TODO**\n\n### \n\n1. 1`x * 2^y`2\n2. `(-1)^s * M * 2^E`\n\t- ssign\n\t- Msignificandnfracf\n\t- EexponetkexpeM\n\t- s | exp | frac\n3. \n\t- frac0`M=f``E=1-Bias``Bias=2^(k-1) - 1`\n\t- frac1`M=1+f``E=e-Bias``Bias=2^(k-1) - 1`\n\t- frac1exp0NaN\n4. \n\t- 2.51.52\n\t- 01\n\nQ\t\nA**TODO**\n\nQ\t\nA**TODO**\n\nQ12345\t\t\nA432k=8n=23123450000,0011,0000,0011,1001\n1. `f*2^(1-Bias)`112345\n2. 0000,0011,0000,0011,1001 = 1.**1,0000,0011,1001** * 2^13**1,0000,0011,1001**ff13=E=e-Bias=e-128e1411000,1101\n3. 0, 1000,1101, 000,0000,0001,0000,0011,1001\n","slug":"computer-systems","published":1,"updated":"2020-04-12T03:49:05.442Z","_id":"ck8wh7l8v00064supsicyiief","photos":[],"link":"","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1 \"></a>1 </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>hello.c<strong></strong></p>\n<p><strong>(cpp)</strong></p>\n<p>hello.i<strong></strong></p>\n<p><strong>(ccl)</strong></p>\n<p>hello.s<strong></strong></p>\n<p><strong>(as)</strong></p>\n<p>hello.o<strong></strong>+printf.o</p>\n<p><strong>(ld)</strong></p>\n<p>hello(<strong></strong>)</p>\n<hr>\n<!--more-->\n<p>QC<br>A.c+c.h.o.o</p>\n<p>QcppCH<br>A</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifndef</span>    __SOMEFILE_H__</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span>  __SOMEFILE_H__</span></span><br><span class=\"line\">...... <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br></pre></td></tr></table></figure>\n<p>1) ++    </p>\n<p>2) CHCPPHC#ifndef</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>(word)432864</li>\n<li>I/OI/ODMAI/OI/OI/O</li>\n<li>DRAM</li>\n<li>PCPCALU</li>\n</ol>\n<p>Q3264<br>A</p>\n<p>Q<br>A<strong>TODO</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>12</li>\n<li>PC</li>\n<li></li>\n<li><p><br> <strong>(.text)</strong>    </p>\n<p> <strong>(.rodata)</strong>    </p>\n<p> <strong>(.data)</strong>    </p>\n<p> <strong>(.bss)</strong>    </p>\n<p> <strong></strong>mallocfree    </p>\n<p> <strong></strong>    </p>\n<p> <strong></strong>    </p>\n<p> <strong></strong></p>\n</li>\n<li>I/O</li>\n</ol>\n<p>I/O</p>\n<p>Q<br>A<br><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//main.cpp</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;          <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">char</span> *p1;           <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"comment\">// built-in type</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> b;            <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">char</span> s[] = <span class=\"string\">\"abc\"</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">char</span> *p2;         <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">char</span> *p3 = <span class=\"string\">\"123456\"</span>;     <span class=\"comment\">// \"123456/0\" p3</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> c =<span class=\"number\">0</span>;         <span class=\"comment\">// </span></span><br><span class=\"line\"> </span><br><span class=\"line\">  p1 = (<span class=\"keyword\">char</span> *)<span class=\"built_in\">malloc</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\">  p2 = (<span class=\"keyword\">char</span> *)<span class=\"built_in\">malloc</span>(<span class=\"number\">20</span>); <span class=\"comment\">// 1020</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"built_in\">strcpy</span>(p1, <span class=\"string\">\"123456\"</span>);    <span class=\"comment\">// \"123456/0\" </span></span><br><span class=\"line\">                              <span class=\"comment\">// p3\"123456\"</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>Inter Core i74228+</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2 \"></a>2 </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>RAM</li>\n<li>1</li>\n<li>human-readable</li>\n<li>~NOT&amp;AND|OR^<code>(a^b)^a=b</code></li>\n<li><code>x&amp;0xFF</code>x8</li>\n<li>||&amp;&amp;!1012</li>\n<li>k0k0k<strong></strong>Java<code>&gt;&gt;</code><code>&gt;&gt;&gt;</code>kw<code>k mod w</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>longint<code>intN_t</code><code>uintN_t</code>Nprintf<code>%ld</code><code>%d</code><code>-2^(w-1)</code><code>2^(w-1)-1</code><code>%u</code><code>0</code><code>2^w-1</code></li>\n<li></li>\n<li>wx<ul>\n<li><code>x+2^w</code></li>\n<li>x</li>\n</ul>\n</li>\n<li>wu<ul>\n<li>u<code>2^(w-1)</code>u</li>\n<li>u<code>2^(w-1)</code><code>u-2^w</code></li>\n</ul>\n</li>\n<li>TxwC<code>TMax=2^(w-1)-1</code><code>TMin=-TMax-1</code></li>\n<li>0</li>\n<li></li>\n</ol>\n<p>Q<code>TMin</code><br>A<strong>TODO</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><ul>\n<li><code>2^w</code><code>2^w</code></li>\n</ul>\n</li>\n<li><ul>\n<li><code>2^(w-1)</code><code>2^w</code></li>\n<li><code>-2^(w-1)</code><code>2^w</code></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>x<code>-2^(w-1)</code></li>\n<li>-x</li>\n</ul>\n</li>\n<li><ul>\n<li><code>(x * y) mod 2^w</code></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li>2<ul>\n<li>0</li>\n<li>2<ul>\n<li></li>\n<li></li>\n<li>-52yxkk+1</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>Q1<code>-x=~x+1</code><br>A</p>\n<ul>\n<li>1x-2^(w-1)</li>\n<li>2-x<code>~x+x+1=0</code><code>~x+x</code>1</li>\n</ul>\n<p>Q<code>(x+2^k-1) &gt;&gt; k</code><br>A<strong>TODO</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>1<code>x * 2^y</code>2</li>\n<li><code>(-1)^s * M * 2^E</code><ul>\n<li>ssign</li>\n<li>Msignificandnfracf</li>\n<li>EexponetkexpeM</li>\n<li>s | exp | frac</li>\n</ul>\n</li>\n<li><ul>\n<li>frac0<code>M=f</code><code>E=1-Bias</code><code>Bias=2^(k-1) - 1</code></li>\n<li>frac1<code>M=1+f</code><code>E=e-Bias</code><code>Bias=2^(k-1) - 1</code></li>\n<li>frac1exp0NaN</li>\n</ul>\n</li>\n<li><ul>\n<li>2.51.52</li>\n<li>01</li>\n</ul>\n</li>\n</ol>\n<p>Q<br>A<strong>TODO</strong></p>\n<p>Q<br>A<strong>TODO</strong></p>\n<p>Q12345<br>A432k=8n=23123450000,0011,0000,0011,1001</p>\n<ol>\n<li><code>f*2^(1-Bias)</code>112345</li>\n<li>0000,0011,0000,0011,1001 = 1.<strong>1,0000,0011,1001</strong> * 2^13<strong>1,0000,0011,1001</strong>ff13=E=e-Bias=e-128e1411000,1101</li>\n<li>0, 1000,1101, 000,0000,0001,0000,0011,1001</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1 \"></a>1 </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><hr>\n<p>hello.c<strong></strong></p>\n<p><strong>(cpp)</strong></p>\n<p>hello.i<strong></strong></p>\n<p><strong>(ccl)</strong></p>\n<p>hello.s<strong></strong></p>\n<p><strong>(as)</strong></p>\n<p>hello.o<strong></strong>+printf.o</p>\n<p><strong>(ld)</strong></p>\n<p>hello(<strong></strong>)</p>\n<hr>\n<!--more-->\n<p>QC<br>A.c+c.h.o.o</p>\n<p>QcppCH<br>A</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifndef</span>    __SOMEFILE_H__</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span>  __SOMEFILE_H__</span></span><br><span class=\"line\">...... <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br></pre></td></tr></table></figure>\n<p>1) ++    </p>\n<p>2) CHCPPHC#ifndef</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>(word)432864</li>\n<li>I/OI/ODMAI/OI/OI/O</li>\n<li>DRAM</li>\n<li>PCPCALU</li>\n</ol>\n<p>Q3264<br>A</p>\n<p>Q<br>A<strong>TODO</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>12</li>\n<li>PC</li>\n<li></li>\n<li><p><br> <strong>(.text)</strong>    </p>\n<p> <strong>(.rodata)</strong>    </p>\n<p> <strong>(.data)</strong>    </p>\n<p> <strong>(.bss)</strong>    </p>\n<p> <strong></strong>mallocfree    </p>\n<p> <strong></strong>    </p>\n<p> <strong></strong>    </p>\n<p> <strong></strong></p>\n</li>\n<li>I/O</li>\n</ol>\n<p>I/O</p>\n<p>Q<br>A<br><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//main.cpp</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;          <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">char</span> *p1;           <span class=\"comment\">// </span></span><br><span class=\"line\">                    <span class=\"comment\">// built-in type</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> b;            <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">char</span> s[] = <span class=\"string\">\"abc\"</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">char</span> *p2;         <span class=\"comment\">// </span></span><br><span class=\"line\">  <span class=\"keyword\">char</span> *p3 = <span class=\"string\">\"123456\"</span>;     <span class=\"comment\">// \"123456/0\" p3</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> c =<span class=\"number\">0</span>;         <span class=\"comment\">// </span></span><br><span class=\"line\"> </span><br><span class=\"line\">  p1 = (<span class=\"keyword\">char</span> *)<span class=\"built_in\">malloc</span>(<span class=\"number\">10</span>);</span><br><span class=\"line\">  p2 = (<span class=\"keyword\">char</span> *)<span class=\"built_in\">malloc</span>(<span class=\"number\">20</span>); <span class=\"comment\">// 1020</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"built_in\">strcpy</span>(p1, <span class=\"string\">\"123456\"</span>);    <span class=\"comment\">// \"123456/0\" </span></span><br><span class=\"line\">                              <span class=\"comment\">// p3\"123456\"</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>Inter Core i74228+</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2 \"></a>2 </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>RAM</li>\n<li>1</li>\n<li>human-readable</li>\n<li>~NOT&amp;AND|OR^<code>(a^b)^a=b</code></li>\n<li><code>x&amp;0xFF</code>x8</li>\n<li>||&amp;&amp;!1012</li>\n<li>k0k0k<strong></strong>Java<code>&gt;&gt;</code><code>&gt;&gt;&gt;</code>kw<code>k mod w</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>longint<code>intN_t</code><code>uintN_t</code>Nprintf<code>%ld</code><code>%d</code><code>-2^(w-1)</code><code>2^(w-1)-1</code><code>%u</code><code>0</code><code>2^w-1</code></li>\n<li></li>\n<li>wx<ul>\n<li><code>x+2^w</code></li>\n<li>x</li>\n</ul>\n</li>\n<li>wu<ul>\n<li>u<code>2^(w-1)</code>u</li>\n<li>u<code>2^(w-1)</code><code>u-2^w</code></li>\n</ul>\n</li>\n<li>TxwC<code>TMax=2^(w-1)-1</code><code>TMin=-TMax-1</code></li>\n<li>0</li>\n<li></li>\n</ol>\n<p>Q<code>TMin</code><br>A<strong>TODO</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><ul>\n<li><code>2^w</code><code>2^w</code></li>\n</ul>\n</li>\n<li><ul>\n<li><code>2^(w-1)</code><code>2^w</code></li>\n<li><code>-2^(w-1)</code><code>2^w</code></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>x<code>-2^(w-1)</code></li>\n<li>-x</li>\n</ul>\n</li>\n<li><ul>\n<li><code>(x * y) mod 2^w</code></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li>2<ul>\n<li>0</li>\n<li>2<ul>\n<li></li>\n<li></li>\n<li>-52yxkk+1</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>Q1<code>-x=~x+1</code><br>A</p>\n<ul>\n<li>1x-2^(w-1)</li>\n<li>2-x<code>~x+x+1=0</code><code>~x+x</code>1</li>\n</ul>\n<p>Q<code>(x+2^k-1) &gt;&gt; k</code><br>A<strong>TODO</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>1<code>x * 2^y</code>2</li>\n<li><code>(-1)^s * M * 2^E</code><ul>\n<li>ssign</li>\n<li>Msignificandnfracf</li>\n<li>EexponetkexpeM</li>\n<li>s | exp | frac</li>\n</ul>\n</li>\n<li><ul>\n<li>frac0<code>M=f</code><code>E=1-Bias</code><code>Bias=2^(k-1) - 1</code></li>\n<li>frac1<code>M=1+f</code><code>E=e-Bias</code><code>Bias=2^(k-1) - 1</code></li>\n<li>frac1exp0NaN</li>\n</ul>\n</li>\n<li><ul>\n<li>2.51.52</li>\n<li>01</li>\n</ul>\n</li>\n</ol>\n<p>Q<br>A<strong>TODO</strong></p>\n<p>Q<br>A<strong>TODO</strong></p>\n<p>Q12345<br>A432k=8n=23123450000,0011,0000,0011,1001</p>\n<ol>\n<li><code>f*2^(1-Bias)</code>112345</li>\n<li>0000,0011,0000,0011,1001 = 1.<strong>1,0000,0011,1001</strong> * 2^13<strong>1,0000,0011,1001</strong>ff13=E=e-Bias=e-128e1411000,1101</li>\n<li>0, 1000,1101, 000,0000,0001,0000,0011,1001</li>\n</ol>"},{"layout":"post","title":"Maven HOWTO","date":"2015-12-20T08:31:00.000Z","comments":1,"_content":"\nMaven3.3.1\n\n<!--more-->\n\nWindows 7\n\nJava1.8\n\n[Maven Getting Started Guide](https://maven.apache.org/guides/getting-started/)\n\n## What And Why\n\nMavenJavaBuild\n- \n- \n- \n- \n- WarJar\n\n\n\n## How\n\n### \n\n#### Java\n\n1. [JDK8][2]jdk-8u65-windows-x64.exe\n\n2. ==>==>==>\n    - `JAVA_HOME``C:\\Program Files\\Java\\jdk1.8.0_65`\n    - `PATH``;%JAVA_HOME%\\jre\\bin``PATH``%JAVA_HOME%\\jre\\bin`\n    - `CLASSPATH``.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar`\n\n3. CMD.exe\n    ```\n    echo %JAVA_HOME%\n    java -version\n    ```\n\n    Java\n\n#### Maven\n\n1. [Maven][3]apache-maven-3.3.1-bin.zipapache-maven-3.3.3BugbootJarMaven mail-list\n\n2. `D:\\Softwares\\apache-maven-3.3.1`\n\n3. ==>==>==>\n    - `M2_HOME``D:\\Softwares\\apache-maven-3.3.1`\n    - `PATH``;%M2_HOME%\\bin`\n\n4. ****CMD.exe\n    ```\n    echo %M2_HOME%\n    mvn -v\n    ```\n\n    Maven\n\n5. Maven\n    - mvnMavenJar4mvn\n    - mvn[OSC](http://maven.oschina.net/help.html)\n\n```xml\n<! -- mirrors -->\n<mirror>\n  <id>nexus-osc</id>\n  <mirrorOf>*</mirrorOf>\n  <name>Nexus osc</name>\n  <url>http://maven.oschina.net/content/groups/public/</url>\n</mirror>\n\n<! -- profiles -->\n<profile>\n  <id>jdk-1.4</id>\n  <activation>\n    <jdk>1.4</jdk>\n  </activation>\n  <repositories>\n    <repository>\n      <id>jdk14</id>\n      <name>Repository for JDK 1.4 builds</name>\n      <url>http://www.myhost.com/maven/jdk14</url>\n      <layout>default</layout>\n      <snapshotPolicy>always</snapshotPolicy>\n    </repository>\n  </repositories>\n</profile>\n```\n\n\n### Demo\n\n#### Java\n\ndemomy-app\n```bash\nmvn -B archetype:generate \\\n  -DarchetypeGroupId=org.apache.maven.archetypes \\\n  -DgroupId=com.mycompany.app \\\n  -DartifactId=my-app\n```\n\nmy-app\n```\nmy-app\n|-- pom.xml\n`-- src\n    |-- main\n    |   `-- java\n    |       `-- com\n    |           `-- mycompany\n    |               `-- app\n    |                   `-- App.java\n    `-- test\n        `-- java\n            `-- com\n                `-- mycompany\n                    `-- app\n                        `-- AppTest.java\n```\n\npom.xmlMavenpom(Project Object Model)\n```xml\n<! -- pom -->\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <! -- Mavenpom -->\n  <modelVersion>4.0.0</modelVersion>\n  <! --  -->\n  <groupId>com.mycompany.app</groupId>\n  <! --  -->\n  <artifactId>my-app</artifactId>\n  <! --  -->\n  <packaging>jar</packaging>\n  <! -- SNAPSHOT -->\n  <version>1.0-SNAPSHOT</version>\n  <! -- maven -->\n  <name>Maven Quick Start Archetype</name>\n  <! -- maven -->\n  <url>http://maven.apache.org</url>\n  <! --  -->\n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n</project>\n```\n\n#### \n\nsrc/main`mvn compile`<project>/target/classes\n\n#### \n\nsrc/test`mvn test`<project>/target/test-classes<project>/target/surefire-reports\n\nsrc/test`mvn test-compile`\n\n#### \n\n`mvn clean`<project>/target\n\n#### \n\n<project>/target`mvn package`\n\nmaven`mvn install`\n\n#### \n\n`mvn site`<project>/target/site\n\n`mvn eclipse:eclipse`eclipseeclipse import\n\n`mvn idea:idea`eclipse\n\n#### \n\npom.xml<build>maven\n```xml\n<project ...>\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-compiler-plugin</artifactId>\n        <version>2.5.1</version>\n        <configuration>\n          <source>1.5</source>\n          <target>1.5</target>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n</project>\n```\n\n#### \n\n\n```\nmy-app\n|-- pom.xml\n`-- src\n    |-- main\n    |   |-- java\n    |   |   `-- com\n    |   |       `-- mycompany\n    |   |           `-- app\n    |   |               `-- App.java\n    |   `-- resources\n    |       `-- META-INF\n    |           `-- application.properties\n    `-- test\n        `-- java\n            `-- com\n                `-- mycompany\n                    `-- app\n                        `-- AppTest.java\n```\n\n`application.properties`\n\n- pom.xml\n    - pom.xml\n    \n    ```xml\n    <build>\n      <resources>\n        <resource>\n          <directory>src/main/resources</directory>\n          <filtering>true</filtering>\n        </resource>\n      </resources>\n    </build>\n    ```\n    - application.properties\n    \n    ```\n    # application.properties\n    application.name=${pom.name}\n    application.version=${pom.version}\n    ```\n    - pom.xmlnameversion`mvn process-resources`application.properties\n    \n    ```\n    # application.properties\n    application.name=Maven Quick Start Archetype\n    application.version=1.0-SNAPSHOT\n    ```\n- classpath\n    * pom.xmlfilter.propertieskeysrc/main/resources\n    \n    ``` xml\n    <build>\n      <filters>\n        <filter>src/main/filters/filter.properties</filter>\n      </filters>\n      <resources>\n        <resource>\n          <directory>src/main/resources</directory>\n          <filtering>true</filtering>\n        </resource>\n      </resources>\n    </build>\n    ```\n- pom.xmlpropertie\n    * pom.xmlmy.filter.valuesrc/main/resources\n    \n    ```xml\n    <project ...>\n      <properties>\n        <my.filter.value>hello</my.filter.value>\n      </properties>\n    </project>\n    ```\n- \n    * `mvn process-resources \"-Dcommand.line.prop=hello again\"`command.line.propsrc/main/resources\n\n#### \n\n```xml\n<project ...>\n  <dependencies>\n    <dependency>\n      <! -- ~/.m2/repositoryjunitjunit3.8.1maven -->\n      <! -- mvn packagejar -->\n      <groupId>junit</groupId>\n      <! -- junitjunit -->\n      <artifactId>junit</artifactId>\n      <! --  -->\n      <version>3.8.1</version>\n      <! -- test|compile|runtime -->\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n</project>\n```\n\n[http://repo.maven.apache.org/maven2](http://repo.maven.apache.org/maven2)mavenjarjunit[http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml](http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml)junit\n\n[http://maven.oschina.net/home.html](http://maven.oschina.net/home.html)jar\n\n`mvn dependency:tree`\n\n#### maven\n\npom.xml\n```xml\n<project ...>\n  <distributionManagement>\n    <repository>\n      <id>mycompany-repository</id>\n      <name>MyCompany Repository</name>\n      <url>scp://repository.mycompany.com/repository/maven2</url>\n    </repository>\n  </distributionManagement>\n</project>\n```\n\nMavensettings.xml\n```xml\n<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd\">\n  ...\n  <servers>\n    <server>\n      <id>mycompany-repository</id>\n      <username>jvanzyl</username>\n      <! -- Default value is ~/.ssh/id_dsa -->\n      <privateKey>/path/to/identity</privateKey> (default is ~/.ssh/id_dsa)\n      <passphrase>my_key_passphrase</passphrase>\n    </server>\n  </servers>\n  ...\n</settings>\n```\n\n#### \n\n```bash\nmvn archetype:generate \\\n  -DarchetypeGroupId=org.apache.maven.archetypes \\\n  -DarchetypeArtifactId=maven-archetype-site \\\n  -DgroupId=com.mycompany.app \\\n  -DartifactId=my-app-site\n```\n\n#### web\n\nweb\n```bash\nmvn archetype:generate \\\n    -DarchetypeGroupId=org.apache.maven.archetypes \\\n    -DarchetypeArtifactId=maven-archetype-webapp \\\n    -DgroupId=com.mycompany.app \\\n    -DartifactId=my-webapp\n```\n\nwebpom.xml\n```xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n \n  <groupId>com.mycompany.app</groupId>\n  <artifactId>my-webapp</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  <! --  -->\n  <packaging>war</packaging>\n \n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n  <! -- war -->\n  <build>\n    <finalName>my-webapp</finalName>\n  </build>\n</project>\n```\n\n`mvn clean package`war`target/my-webapp.war`\n\n#### \n\n\n```\n+- pom.xml\n+- my-app\n| +- pom.xml\n| +- src\n|   +- main\n|     +- java\n+- my-webapp\n| +- pom.xml\n| +- src\n|   +- main\n|     +- webapp\n```\n\npom.xml\n```xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n \n  <groupId>com.mycompany.app</groupId>\n  <artifactId>app</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  <packaging>pom</packaging>\n \n  <modules>\n    <module>my-app</module>\n    <module>my-webapp</module>\n  </modules>\n</project>\n```\n\n`my-webapp/pom.xml`my-webappmy-app\n```xml\n  ...\n  <dependencies>\n    <dependency>\n      <! -- my-appwar -->\n      <groupId>com.mycompany.app</groupId>\n      <artifactId>my-app</artifactId>\n      <version>1.0-SNAPSHOT</version>\n    </dependency>\n    ...\n  </dependencies>\n```\n\n`my-webapp/pom.xml``my-app/pom.xml`<parent>\n```xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <parent>\n    <groupId>com.mycompany.app</groupId>\n    <artifactId>app</artifactId>\n    <version>1.0-SNAPSHOT</version>\n  </parent>\n  ...\n```\n\n`mvn clean install`war`my-webapp/target/my-webapp.war`my-appwarWEB-INF/libjar\n","source":"_posts/2015-12-20-maven-howto.markdown","raw":"---\nlayout: post\ntitle: Maven HOWTO\ndate: '2015-12-20 16:31'\ncomments: true\ncategories: ['']  \ntags: ['Maven']\n---\n\nMaven3.3.1\n\n<!--more-->\n\nWindows 7\n\nJava1.8\n\n[Maven Getting Started Guide](https://maven.apache.org/guides/getting-started/)\n\n## What And Why\n\nMavenJavaBuild\n- \n- \n- \n- \n- WarJar\n\n\n\n## How\n\n### \n\n#### Java\n\n1. [JDK8][2]jdk-8u65-windows-x64.exe\n\n2. ==>==>==>\n    - `JAVA_HOME``C:\\Program Files\\Java\\jdk1.8.0_65`\n    - `PATH``;%JAVA_HOME%\\jre\\bin``PATH``%JAVA_HOME%\\jre\\bin`\n    - `CLASSPATH``.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar`\n\n3. CMD.exe\n    ```\n    echo %JAVA_HOME%\n    java -version\n    ```\n\n    Java\n\n#### Maven\n\n1. [Maven][3]apache-maven-3.3.1-bin.zipapache-maven-3.3.3BugbootJarMaven mail-list\n\n2. `D:\\Softwares\\apache-maven-3.3.1`\n\n3. ==>==>==>\n    - `M2_HOME``D:\\Softwares\\apache-maven-3.3.1`\n    - `PATH``;%M2_HOME%\\bin`\n\n4. ****CMD.exe\n    ```\n    echo %M2_HOME%\n    mvn -v\n    ```\n\n    Maven\n\n5. Maven\n    - mvnMavenJar4mvn\n    - mvn[OSC](http://maven.oschina.net/help.html)\n\n```xml\n<! -- mirrors -->\n<mirror>\n  <id>nexus-osc</id>\n  <mirrorOf>*</mirrorOf>\n  <name>Nexus osc</name>\n  <url>http://maven.oschina.net/content/groups/public/</url>\n</mirror>\n\n<! -- profiles -->\n<profile>\n  <id>jdk-1.4</id>\n  <activation>\n    <jdk>1.4</jdk>\n  </activation>\n  <repositories>\n    <repository>\n      <id>jdk14</id>\n      <name>Repository for JDK 1.4 builds</name>\n      <url>http://www.myhost.com/maven/jdk14</url>\n      <layout>default</layout>\n      <snapshotPolicy>always</snapshotPolicy>\n    </repository>\n  </repositories>\n</profile>\n```\n\n\n### Demo\n\n#### Java\n\ndemomy-app\n```bash\nmvn -B archetype:generate \\\n  -DarchetypeGroupId=org.apache.maven.archetypes \\\n  -DgroupId=com.mycompany.app \\\n  -DartifactId=my-app\n```\n\nmy-app\n```\nmy-app\n|-- pom.xml\n`-- src\n    |-- main\n    |   `-- java\n    |       `-- com\n    |           `-- mycompany\n    |               `-- app\n    |                   `-- App.java\n    `-- test\n        `-- java\n            `-- com\n                `-- mycompany\n                    `-- app\n                        `-- AppTest.java\n```\n\npom.xmlMavenpom(Project Object Model)\n```xml\n<! -- pom -->\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <! -- Mavenpom -->\n  <modelVersion>4.0.0</modelVersion>\n  <! --  -->\n  <groupId>com.mycompany.app</groupId>\n  <! --  -->\n  <artifactId>my-app</artifactId>\n  <! --  -->\n  <packaging>jar</packaging>\n  <! -- SNAPSHOT -->\n  <version>1.0-SNAPSHOT</version>\n  <! -- maven -->\n  <name>Maven Quick Start Archetype</name>\n  <! -- maven -->\n  <url>http://maven.apache.org</url>\n  <! --  -->\n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n</project>\n```\n\n#### \n\nsrc/main`mvn compile`<project>/target/classes\n\n#### \n\nsrc/test`mvn test`<project>/target/test-classes<project>/target/surefire-reports\n\nsrc/test`mvn test-compile`\n\n#### \n\n`mvn clean`<project>/target\n\n#### \n\n<project>/target`mvn package`\n\nmaven`mvn install`\n\n#### \n\n`mvn site`<project>/target/site\n\n`mvn eclipse:eclipse`eclipseeclipse import\n\n`mvn idea:idea`eclipse\n\n#### \n\npom.xml<build>maven\n```xml\n<project ...>\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-compiler-plugin</artifactId>\n        <version>2.5.1</version>\n        <configuration>\n          <source>1.5</source>\n          <target>1.5</target>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n</project>\n```\n\n#### \n\n\n```\nmy-app\n|-- pom.xml\n`-- src\n    |-- main\n    |   |-- java\n    |   |   `-- com\n    |   |       `-- mycompany\n    |   |           `-- app\n    |   |               `-- App.java\n    |   `-- resources\n    |       `-- META-INF\n    |           `-- application.properties\n    `-- test\n        `-- java\n            `-- com\n                `-- mycompany\n                    `-- app\n                        `-- AppTest.java\n```\n\n`application.properties`\n\n- pom.xml\n    - pom.xml\n    \n    ```xml\n    <build>\n      <resources>\n        <resource>\n          <directory>src/main/resources</directory>\n          <filtering>true</filtering>\n        </resource>\n      </resources>\n    </build>\n    ```\n    - application.properties\n    \n    ```\n    # application.properties\n    application.name=${pom.name}\n    application.version=${pom.version}\n    ```\n    - pom.xmlnameversion`mvn process-resources`application.properties\n    \n    ```\n    # application.properties\n    application.name=Maven Quick Start Archetype\n    application.version=1.0-SNAPSHOT\n    ```\n- classpath\n    * pom.xmlfilter.propertieskeysrc/main/resources\n    \n    ``` xml\n    <build>\n      <filters>\n        <filter>src/main/filters/filter.properties</filter>\n      </filters>\n      <resources>\n        <resource>\n          <directory>src/main/resources</directory>\n          <filtering>true</filtering>\n        </resource>\n      </resources>\n    </build>\n    ```\n- pom.xmlpropertie\n    * pom.xmlmy.filter.valuesrc/main/resources\n    \n    ```xml\n    <project ...>\n      <properties>\n        <my.filter.value>hello</my.filter.value>\n      </properties>\n    </project>\n    ```\n- \n    * `mvn process-resources \"-Dcommand.line.prop=hello again\"`command.line.propsrc/main/resources\n\n#### \n\n```xml\n<project ...>\n  <dependencies>\n    <dependency>\n      <! -- ~/.m2/repositoryjunitjunit3.8.1maven -->\n      <! -- mvn packagejar -->\n      <groupId>junit</groupId>\n      <! -- junitjunit -->\n      <artifactId>junit</artifactId>\n      <! --  -->\n      <version>3.8.1</version>\n      <! -- test|compile|runtime -->\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n</project>\n```\n\n[http://repo.maven.apache.org/maven2](http://repo.maven.apache.org/maven2)mavenjarjunit[http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml](http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml)junit\n\n[http://maven.oschina.net/home.html](http://maven.oschina.net/home.html)jar\n\n`mvn dependency:tree`\n\n#### maven\n\npom.xml\n```xml\n<project ...>\n  <distributionManagement>\n    <repository>\n      <id>mycompany-repository</id>\n      <name>MyCompany Repository</name>\n      <url>scp://repository.mycompany.com/repository/maven2</url>\n    </repository>\n  </distributionManagement>\n</project>\n```\n\nMavensettings.xml\n```xml\n<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd\">\n  ...\n  <servers>\n    <server>\n      <id>mycompany-repository</id>\n      <username>jvanzyl</username>\n      <! -- Default value is ~/.ssh/id_dsa -->\n      <privateKey>/path/to/identity</privateKey> (default is ~/.ssh/id_dsa)\n      <passphrase>my_key_passphrase</passphrase>\n    </server>\n  </servers>\n  ...\n</settings>\n```\n\n#### \n\n```bash\nmvn archetype:generate \\\n  -DarchetypeGroupId=org.apache.maven.archetypes \\\n  -DarchetypeArtifactId=maven-archetype-site \\\n  -DgroupId=com.mycompany.app \\\n  -DartifactId=my-app-site\n```\n\n#### web\n\nweb\n```bash\nmvn archetype:generate \\\n    -DarchetypeGroupId=org.apache.maven.archetypes \\\n    -DarchetypeArtifactId=maven-archetype-webapp \\\n    -DgroupId=com.mycompany.app \\\n    -DartifactId=my-webapp\n```\n\nwebpom.xml\n```xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n \n  <groupId>com.mycompany.app</groupId>\n  <artifactId>my-webapp</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  <! --  -->\n  <packaging>war</packaging>\n \n  <dependencies>\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>3.8.1</version>\n      <scope>test</scope>\n    </dependency>\n  </dependencies>\n  <! -- war -->\n  <build>\n    <finalName>my-webapp</finalName>\n  </build>\n</project>\n```\n\n`mvn clean package`war`target/my-webapp.war`\n\n#### \n\n\n```\n+- pom.xml\n+- my-app\n| +- pom.xml\n| +- src\n|   +- main\n|     +- java\n+- my-webapp\n| +- pom.xml\n| +- src\n|   +- main\n|     +- webapp\n```\n\npom.xml\n```xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n \n  <groupId>com.mycompany.app</groupId>\n  <artifactId>app</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  <packaging>pom</packaging>\n \n  <modules>\n    <module>my-app</module>\n    <module>my-webapp</module>\n  </modules>\n</project>\n```\n\n`my-webapp/pom.xml`my-webappmy-app\n```xml\n  ...\n  <dependencies>\n    <dependency>\n      <! -- my-appwar -->\n      <groupId>com.mycompany.app</groupId>\n      <artifactId>my-app</artifactId>\n      <version>1.0-SNAPSHOT</version>\n    </dependency>\n    ...\n  </dependencies>\n```\n\n`my-webapp/pom.xml``my-app/pom.xml`<parent>\n```xml\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <parent>\n    <groupId>com.mycompany.app</groupId>\n    <artifactId>app</artifactId>\n    <version>1.0-SNAPSHOT</version>\n  </parent>\n  ...\n```\n\n`mvn clean install`war`my-webapp/target/my-webapp.war`my-appwarWEB-INF/libjar\n","slug":"maven-howto","published":1,"updated":"2020-04-12T03:40:33.465Z","_id":"ck8wh7lad000n4supo8nco089","photos":[],"link":"","content":"<p>Maven3.3.1</p>\n<a id=\"more\"></a>\n<p>Windows 7</p>\n<p>Java1.8</p>\n<p><a href=\"https://maven.apache.org/guides/getting-started/\" target=\"_blank\" rel=\"noopener\">Maven Getting Started Guide</a></p>\n<h2 id=\"What-And-Why\"><a href=\"#What-And-Why\" class=\"headerlink\" title=\"What And Why\"></a>What And Why</h2><p>MavenJavaBuild</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>WarJar</li>\n</ul>\n<p></p>\n<h2 id=\"How\"><a href=\"#How\" class=\"headerlink\" title=\"How\"></a>How</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><ol>\n<li><p>[JDK8][2]jdk-8u65-windows-x64.exe</p>\n</li>\n<li><p>==&gt;==&gt;==&gt;</p>\n<ul>\n<li><code>JAVA_HOME</code><code>C:\\Program Files\\Java\\jdk1.8.0_65</code></li>\n<li><code>PATH</code><code>;%JAVA_HOME%\\jre\\bin</code><code>PATH</code><code>%JAVA_HOME%\\jre\\bin</code></li>\n<li><code>CLASSPATH</code><code>.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar</code></li>\n</ul>\n</li>\n<li><p>CMD.exe</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo %JAVA_HOME%</span><br><span class=\"line\">java -version</span><br></pre></td></tr></table></figure>\n<p> Java</p>\n</li>\n</ol>\n<h4 id=\"Maven\"><a href=\"#Maven\" class=\"headerlink\" title=\"Maven\"></a>Maven</h4><ol>\n<li><p>[Maven][3]apache-maven-3.3.1-bin.zipapache-maven-3.3.3BugbootJarMaven mail-list</p>\n</li>\n<li><p><code>D:\\Softwares\\apache-maven-3.3.1</code></p>\n</li>\n<li><p>==&gt;==&gt;==&gt;</p>\n<ul>\n<li><code>M2_HOME</code><code>D:\\Softwares\\apache-maven-3.3.1</code></li>\n<li><code>PATH</code><code>;%M2_HOME%\\bin</code></li>\n</ul>\n</li>\n<li><p><strong></strong>CMD.exe</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo %M2_HOME%</span><br><span class=\"line\">mvn -v</span><br></pre></td></tr></table></figure>\n<p> Maven</p>\n</li>\n<li><p>Maven</p>\n<ul>\n<li>mvnMavenJar4mvn</li>\n<li>mvn<a href=\"http://maven.oschina.net/help.html\" target=\"_blank\" rel=\"noopener\">OSC</a></li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">mirrors</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-osc<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mirrorOf</span>&gt;</span>*<span class=\"tag\">&lt;/<span class=\"name\">mirrorOf</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Nexus osc<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.oschina.net/content/groups/public/<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">profiles</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">profile</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>jdk-1.4<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">activation</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">jdk</span>&gt;</span>1.4<span class=\"tag\">&lt;/<span class=\"name\">jdk</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">activation</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">repositories</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>jdk14<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Repository for JDK 1.4 builds<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://www.myhost.com/maven/jdk14<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">layout</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">layout</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">snapshotPolicy</span>&gt;</span>always<span class=\"tag\">&lt;/<span class=\"name\">snapshotPolicy</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">repositories</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">profile</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h3><h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>demomy-app<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -B archetype:generate \\</span><br><span class=\"line\">  -DarchetypeGroupId=org.apache.maven.archetypes \\</span><br><span class=\"line\">  -DgroupId=com.mycompany.app \\</span><br><span class=\"line\">  -DartifactId=my-app</span><br></pre></td></tr></table></figure></p>\n<p>my-app<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-app</span><br><span class=\"line\">|-- pom.xml</span><br><span class=\"line\">`-- src</span><br><span class=\"line\">    |-- main</span><br><span class=\"line\">    |   `-- java</span><br><span class=\"line\">    |       `-- com</span><br><span class=\"line\">    |           `-- mycompany</span><br><span class=\"line\">    |               `-- app</span><br><span class=\"line\">    |                   `-- App.java</span><br><span class=\"line\">    `-- test</span><br><span class=\"line\">        `-- java</span><br><span class=\"line\">            `-- com</span><br><span class=\"line\">                `-- mycompany</span><br><span class=\"line\">                    `-- app</span><br><span class=\"line\">                        `-- AppTest.java</span><br></pre></td></tr></table></figure></p>\n<p>pom.xmlMavenpom(Project Object Model)<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">pom</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">Maven</span><span class=\"attr\">pom</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>my-app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>jar<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">SNAPSHOT</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">maven</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Maven Quick Start Archetype<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">maven</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.apache.org<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.8.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>src/main<code>mvn compile</code><project>/target/classes</project></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>src/test<code>mvn test</code><project>/target/test-classes<project>/target/surefire-reports</project></project></p>\n<p>src/test<code>mvn test-compile</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>mvn clean</code><project>/target</project></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><project>/target<code>mvn package</code></project></p>\n<p>maven<code>mvn install</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>mvn site</code><project>/target/site</project></p>\n<p><code>mvn eclipse:eclipse</code>eclipseeclipse import</p>\n<p><code>mvn idea:idea</code>eclipse</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>pom.xml<build>maven<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.apache.maven.plugins<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>maven-compiler-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.5.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span>1.5<span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">target</span>&gt;</span>1.5<span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></build></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-app</span><br><span class=\"line\">|-- pom.xml</span><br><span class=\"line\">`-- src</span><br><span class=\"line\">    |-- main</span><br><span class=\"line\">    |   |-- java</span><br><span class=\"line\">    |   |   `-- com</span><br><span class=\"line\">    |   |       `-- mycompany</span><br><span class=\"line\">    |   |           `-- app</span><br><span class=\"line\">    |   |               `-- App.java</span><br><span class=\"line\">    |   `-- resources</span><br><span class=\"line\">    |       `-- META-INF</span><br><span class=\"line\">    |           `-- application.properties</span><br><span class=\"line\">    `-- test</span><br><span class=\"line\">        `-- java</span><br><span class=\"line\">            `-- com</span><br><span class=\"line\">                `-- mycompany</span><br><span class=\"line\">                    `-- app</span><br><span class=\"line\">                        `-- AppTest.java</span><br></pre></td></tr></table></figure></p>\n<p><code>application.properties</code></p>\n<ul>\n<li><p>pom.xml</p>\n<ul>\n<li><p>pom.xml</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/resources<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>application.properties</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># application.properties</span><br><span class=\"line\">application.name=$&#123;pom.name&#125;</span><br><span class=\"line\">application.version=$&#123;pom.version&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>pom.xmlnameversion<code>mvn process-resources</code>application.properties</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># application.properties</span><br><span class=\"line\">application.name=Maven Quick Start Archetype</span><br><span class=\"line\">application.version=1.0-SNAPSHOT</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>classpath</p>\n<ul>\n<li><p>pom.xmlfilter.propertieskeysrc/main/resources</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">filters</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter</span>&gt;</span>src/main/filters/filter.properties<span class=\"tag\">&lt;/<span class=\"name\">filter</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">filters</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/resources<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>pom.xmlpropertie</p>\n<ul>\n<li><p>pom.xmlmy.filter.valuesrc/main/resources</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">my.filter.value</span>&gt;</span>hello<span class=\"tag\">&lt;/<span class=\"name\">my.filter.value</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li><code>mvn process-resources &quot;-Dcommand.line.prop=hello again&quot;</code>command.line.propsrc/main/resources</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> ~/<span class=\"attr\">.m2</span>/<span class=\"attr\">repository</span><span class=\"attr\">junit</span><span class=\"attr\">junit</span><span class=\"attr\">3.8.1</span><span class=\"attr\">maven</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">mvn</span> <span class=\"attr\">package</span><span class=\"attr\">jar</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">junit</span><span class=\"attr\">junit</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.8.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">test</span>|<span class=\"attr\">compile</span>|<span class=\"attr\">runtime</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"http://repo.maven.apache.org/maven2\" target=\"_blank\" rel=\"noopener\">http://repo.maven.apache.org/maven2</a>mavenjarjunit<a href=\"http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml\" target=\"_blank\" rel=\"noopener\">http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml</a>junit</p>\n<p><a href=\"http://maven.oschina.net/home.html\" target=\"_blank\" rel=\"noopener\">http://maven.oschina.net/home.html</a>jar</p>\n<p><code>mvn dependency:tree</code></p>\n<h4 id=\"maven\"><a href=\"#maven\" class=\"headerlink\" title=\"maven\"></a>maven</h4><p>pom.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">distributionManagement</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>mycompany-repository<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>MyCompany Repository<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>scp://repository.mycompany.com/repository/maven2<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">distributionManagement</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>Mavensettings.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">settings</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/SETTINGS/1.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/SETTINGS/1.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/settings-1.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servers</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>mycompany-repository<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">username</span>&gt;</span>jvanzyl<span class=\"tag\">&lt;/<span class=\"name\">username</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">Default</span> <span class=\"attr\">value</span> <span class=\"attr\">is</span> ~/<span class=\"attr\">.ssh</span>/<span class=\"attr\">id_dsa</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">privateKey</span>&gt;</span>/path/to/identity<span class=\"tag\">&lt;/<span class=\"name\">privateKey</span>&gt;</span> (default is ~/.ssh/id_dsa)</span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">passphrase</span>&gt;</span>my_key_passphrase<span class=\"tag\">&lt;/<span class=\"name\">passphrase</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servers</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">settings</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn archetype:generate \\</span><br><span class=\"line\">  -DarchetypeGroupId=org.apache.maven.archetypes \\</span><br><span class=\"line\">  -DarchetypeArtifactId=maven-archetype-site \\</span><br><span class=\"line\">  -DgroupId=com.mycompany.app \\</span><br><span class=\"line\">  -DartifactId=my-app-site</span><br></pre></td></tr></table></figure>\n<h4 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h4><p>web<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn archetype:generate \\</span><br><span class=\"line\">    -DarchetypeGroupId=org.apache.maven.archetypes \\</span><br><span class=\"line\">    -DarchetypeArtifactId=maven-archetype-webapp \\</span><br><span class=\"line\">    -DgroupId=com.mycompany.app \\</span><br><span class=\"line\">    -DartifactId=my-webapp</span><br></pre></td></tr></table></figure></p>\n<p>webpom.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>my-webapp<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>war<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.8.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">war</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">finalName</span>&gt;</span>my-webapp<span class=\"tag\">&lt;/<span class=\"name\">finalName</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><code>mvn clean package</code>war<code>target/my-webapp.war</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+- pom.xml</span><br><span class=\"line\">+- my-app</span><br><span class=\"line\">| +- pom.xml</span><br><span class=\"line\">| +- src</span><br><span class=\"line\">|   +- main</span><br><span class=\"line\">|     +- java</span><br><span class=\"line\">+- my-webapp</span><br><span class=\"line\">| +- pom.xml</span><br><span class=\"line\">| +- src</span><br><span class=\"line\">|   +- main</span><br><span class=\"line\">|     +- webapp</span><br></pre></td></tr></table></figure></p>\n<p>pom.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>pom<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modules</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">module</span>&gt;</span>my-app<span class=\"tag\">&lt;/<span class=\"name\">module</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">module</span>&gt;</span>my-webapp<span class=\"tag\">&lt;/<span class=\"name\">module</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">modules</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><code>my-webapp/pom.xml</code>my-webappmy-app<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">my-app</span><span class=\"attr\">war</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>my-app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><code>my-webapp/pom.xml</code><code>my-app/pom.xml</code><parent><br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">  ...</span><br></pre></td></tr></table></figure></parent></p>\n<p><code>mvn clean install</code>war<code>my-webapp/target/my-webapp.war</code>my-appwarWEB-INF/libjar</p>\n","site":{"data":{}},"excerpt":"<p>Maven3.3.1</p>","more":"<p>Windows 7</p>\n<p>Java1.8</p>\n<p><a href=\"https://maven.apache.org/guides/getting-started/\" target=\"_blank\" rel=\"noopener\">Maven Getting Started Guide</a></p>\n<h2 id=\"What-And-Why\"><a href=\"#What-And-Why\" class=\"headerlink\" title=\"What And Why\"></a>What And Why</h2><p>MavenJavaBuild</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>WarJar</li>\n</ul>\n<p></p>\n<h2 id=\"How\"><a href=\"#How\" class=\"headerlink\" title=\"How\"></a>How</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><ol>\n<li><p>[JDK8][2]jdk-8u65-windows-x64.exe</p>\n</li>\n<li><p>==&gt;==&gt;==&gt;</p>\n<ul>\n<li><code>JAVA_HOME</code><code>C:\\Program Files\\Java\\jdk1.8.0_65</code></li>\n<li><code>PATH</code><code>;%JAVA_HOME%\\jre\\bin</code><code>PATH</code><code>%JAVA_HOME%\\jre\\bin</code></li>\n<li><code>CLASSPATH</code><code>.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar</code></li>\n</ul>\n</li>\n<li><p>CMD.exe</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo %JAVA_HOME%</span><br><span class=\"line\">java -version</span><br></pre></td></tr></table></figure>\n<p> Java</p>\n</li>\n</ol>\n<h4 id=\"Maven\"><a href=\"#Maven\" class=\"headerlink\" title=\"Maven\"></a>Maven</h4><ol>\n<li><p>[Maven][3]apache-maven-3.3.1-bin.zipapache-maven-3.3.3BugbootJarMaven mail-list</p>\n</li>\n<li><p><code>D:\\Softwares\\apache-maven-3.3.1</code></p>\n</li>\n<li><p>==&gt;==&gt;==&gt;</p>\n<ul>\n<li><code>M2_HOME</code><code>D:\\Softwares\\apache-maven-3.3.1</code></li>\n<li><code>PATH</code><code>;%M2_HOME%\\bin</code></li>\n</ul>\n</li>\n<li><p><strong></strong>CMD.exe</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo %M2_HOME%</span><br><span class=\"line\">mvn -v</span><br></pre></td></tr></table></figure>\n<p> Maven</p>\n</li>\n<li><p>Maven</p>\n<ul>\n<li>mvnMavenJar4mvn</li>\n<li>mvn<a href=\"http://maven.oschina.net/help.html\" target=\"_blank\" rel=\"noopener\">OSC</a></li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">mirrors</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-osc<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mirrorOf</span>&gt;</span>*<span class=\"tag\">&lt;/<span class=\"name\">mirrorOf</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Nexus osc<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.oschina.net/content/groups/public/<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">profiles</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">profile</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>jdk-1.4<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">activation</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">jdk</span>&gt;</span>1.4<span class=\"tag\">&lt;/<span class=\"name\">jdk</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">activation</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">repositories</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>jdk14<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Repository for JDK 1.4 builds<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://www.myhost.com/maven/jdk14<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">layout</span>&gt;</span>default<span class=\"tag\">&lt;/<span class=\"name\">layout</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">snapshotPolicy</span>&gt;</span>always<span class=\"tag\">&lt;/<span class=\"name\">snapshotPolicy</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">repositories</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">profile</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h3><h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p>demomy-app<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn -B archetype:generate \\</span><br><span class=\"line\">  -DarchetypeGroupId=org.apache.maven.archetypes \\</span><br><span class=\"line\">  -DgroupId=com.mycompany.app \\</span><br><span class=\"line\">  -DartifactId=my-app</span><br></pre></td></tr></table></figure></p>\n<p>my-app<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-app</span><br><span class=\"line\">|-- pom.xml</span><br><span class=\"line\">`-- src</span><br><span class=\"line\">    |-- main</span><br><span class=\"line\">    |   `-- java</span><br><span class=\"line\">    |       `-- com</span><br><span class=\"line\">    |           `-- mycompany</span><br><span class=\"line\">    |               `-- app</span><br><span class=\"line\">    |                   `-- App.java</span><br><span class=\"line\">    `-- test</span><br><span class=\"line\">        `-- java</span><br><span class=\"line\">            `-- com</span><br><span class=\"line\">                `-- mycompany</span><br><span class=\"line\">                    `-- app</span><br><span class=\"line\">                        `-- AppTest.java</span><br></pre></td></tr></table></figure></p>\n<p>pom.xmlMavenpom(Project Object Model)<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">pom</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">Maven</span><span class=\"attr\">pom</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>my-app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>jar<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">SNAPSHOT</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">maven</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>Maven Quick Start Archetype<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">maven</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.apache.org<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.8.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>src/main<code>mvn compile</code><project>/target/classes</project></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>src/test<code>mvn test</code><project>/target/test-classes<project>/target/surefire-reports</project></project></p>\n<p>src/test<code>mvn test-compile</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>mvn clean</code><project>/target</project></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><project>/target<code>mvn package</code></project></p>\n<p>maven<code>mvn install</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>mvn site</code><project>/target/site</project></p>\n<p><code>mvn eclipse:eclipse</code>eclipseeclipse import</p>\n<p><code>mvn idea:idea</code>eclipse</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>pom.xml<build>maven<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.apache.maven.plugins<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>maven-compiler-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.5.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">source</span>&gt;</span>1.5<span class=\"tag\">&lt;/<span class=\"name\">source</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">target</span>&gt;</span>1.5<span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></build></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-app</span><br><span class=\"line\">|-- pom.xml</span><br><span class=\"line\">`-- src</span><br><span class=\"line\">    |-- main</span><br><span class=\"line\">    |   |-- java</span><br><span class=\"line\">    |   |   `-- com</span><br><span class=\"line\">    |   |       `-- mycompany</span><br><span class=\"line\">    |   |           `-- app</span><br><span class=\"line\">    |   |               `-- App.java</span><br><span class=\"line\">    |   `-- resources</span><br><span class=\"line\">    |       `-- META-INF</span><br><span class=\"line\">    |           `-- application.properties</span><br><span class=\"line\">    `-- test</span><br><span class=\"line\">        `-- java</span><br><span class=\"line\">            `-- com</span><br><span class=\"line\">                `-- mycompany</span><br><span class=\"line\">                    `-- app</span><br><span class=\"line\">                        `-- AppTest.java</span><br></pre></td></tr></table></figure></p>\n<p><code>application.properties</code></p>\n<ul>\n<li><p>pom.xml</p>\n<ul>\n<li><p>pom.xml</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/resources<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>application.properties</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># application.properties</span><br><span class=\"line\">application.name=$&#123;pom.name&#125;</span><br><span class=\"line\">application.version=$&#123;pom.version&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>pom.xmlnameversion<code>mvn process-resources</code>application.properties</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># application.properties</span><br><span class=\"line\">application.name=Maven Quick Start Archetype</span><br><span class=\"line\">application.version=1.0-SNAPSHOT</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>classpath</p>\n<ul>\n<li><p>pom.xmlfilter.propertieskeysrc/main/resources</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">filters</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter</span>&gt;</span>src/main/filters/filter.properties<span class=\"tag\">&lt;/<span class=\"name\">filter</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">filters</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/resources<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>pom.xmlpropertie</p>\n<ul>\n<li><p>pom.xmlmy.filter.valuesrc/main/resources</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">my.filter.value</span>&gt;</span>hello<span class=\"tag\">&lt;/<span class=\"name\">my.filter.value</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li><code>mvn process-resources &quot;-Dcommand.line.prop=hello again&quot;</code>command.line.propsrc/main/resources</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> ~/<span class=\"attr\">.m2</span>/<span class=\"attr\">repository</span><span class=\"attr\">junit</span><span class=\"attr\">junit</span><span class=\"attr\">3.8.1</span><span class=\"attr\">maven</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">mvn</span> <span class=\"attr\">package</span><span class=\"attr\">jar</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">junit</span><span class=\"attr\">junit</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.8.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">test</span>|<span class=\"attr\">compile</span>|<span class=\"attr\">runtime</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a href=\"http://repo.maven.apache.org/maven2\" target=\"_blank\" rel=\"noopener\">http://repo.maven.apache.org/maven2</a>mavenjarjunit<a href=\"http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml\" target=\"_blank\" rel=\"noopener\">http://repo.maven.apache.org/maven2/junit/junit/maven-metadata.xml</a>junit</p>\n<p><a href=\"http://maven.oschina.net/home.html\" target=\"_blank\" rel=\"noopener\">http://maven.oschina.net/home.html</a>jar</p>\n<p><code>mvn dependency:tree</code></p>\n<h4 id=\"maven\"><a href=\"#maven\" class=\"headerlink\" title=\"maven\"></a>maven</h4><p>pom.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">...</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">distributionManagement</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>mycompany-repository<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>MyCompany Repository<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>scp://repository.mycompany.com/repository/maven2<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">repository</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">distributionManagement</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>Mavensettings.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">settings</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/SETTINGS/1.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/SETTINGS/1.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/settings-1.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servers</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>mycompany-repository<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">username</span>&gt;</span>jvanzyl<span class=\"tag\">&lt;/<span class=\"name\">username</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">Default</span> <span class=\"attr\">value</span> <span class=\"attr\">is</span> ~/<span class=\"attr\">.ssh</span>/<span class=\"attr\">id_dsa</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">privateKey</span>&gt;</span>/path/to/identity<span class=\"tag\">&lt;/<span class=\"name\">privateKey</span>&gt;</span> (default is ~/.ssh/id_dsa)</span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">passphrase</span>&gt;</span>my_key_passphrase<span class=\"tag\">&lt;/<span class=\"name\">passphrase</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">server</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servers</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">settings</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn archetype:generate \\</span><br><span class=\"line\">  -DarchetypeGroupId=org.apache.maven.archetypes \\</span><br><span class=\"line\">  -DarchetypeArtifactId=maven-archetype-site \\</span><br><span class=\"line\">  -DgroupId=com.mycompany.app \\</span><br><span class=\"line\">  -DartifactId=my-app-site</span><br></pre></td></tr></table></figure>\n<h4 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h4><p>web<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn archetype:generate \\</span><br><span class=\"line\">    -DarchetypeGroupId=org.apache.maven.archetypes \\</span><br><span class=\"line\">    -DarchetypeArtifactId=maven-archetype-webapp \\</span><br><span class=\"line\">    -DgroupId=com.mycompany.app \\</span><br><span class=\"line\">    -DartifactId=my-webapp</span><br></pre></td></tr></table></figure></p>\n<p>webpom.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>my-webapp<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span>  <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>war<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.8.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">war</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">finalName</span>&gt;</span>my-webapp<span class=\"tag\">&lt;/<span class=\"name\">finalName</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><code>mvn clean package</code>war<code>target/my-webapp.war</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+- pom.xml</span><br><span class=\"line\">+- my-app</span><br><span class=\"line\">| +- pom.xml</span><br><span class=\"line\">| +- src</span><br><span class=\"line\">|   +- main</span><br><span class=\"line\">|     +- java</span><br><span class=\"line\">+- my-webapp</span><br><span class=\"line\">| +- pom.xml</span><br><span class=\"line\">| +- src</span><br><span class=\"line\">|   +- main</span><br><span class=\"line\">|     +- webapp</span><br></pre></td></tr></table></figure></p>\n<p>pom.xml<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>pom<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">modules</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">module</span>&gt;</span>my-app<span class=\"tag\">&lt;/<span class=\"name\">module</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">module</span>&gt;</span>my-webapp<span class=\"tag\">&lt;/<span class=\"name\">module</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">modules</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><code>my-webapp/pom.xml</code>my-webappmy-app<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">!</span> <span class=\"attr\">--</span> <span class=\"attr\">my-app</span><span class=\"attr\">war</span> <span class=\"attr\">--</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>my-app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p><code>my-webapp/pom.xml</code><code>my-app/pom.xml</code><parent><br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">                      http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.mycompany.app<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>app<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">  ...</span><br></pre></td></tr></table></figure></parent></p>\n<p><code>mvn clean install</code>war<code>my-webapp/target/my-webapp.war</code>my-appwarWEB-INF/libjar</p>"},{"layout":"post","title":"Spring Boot","date":"2016-01-23T07:02:00.000Z","comments":1,"_content":"\nSpring Boot\n\n<!--more-->\n\n## \n\n- Spring FrameworkSpringXML\n- Spring FrameworkJavaSpring Boot\n- [Guide](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/)\n\n## \n\n### \n\n[Spring Initializr](https://start.spring.io/)mavendemoDependencies[Web][Security]demo`mvn eclipse:eclipse`eclipseeclipse\n\n### \n\n\n```\ndemo\n + src/test/java\n   + com.example\n     - DemoApplicationTests.java\n + src/main/java\n   + com.example\n     - DemoApplication.java\n + src/main/resources\n   + templates\n   + static\n   - application.properties\n - pom.xml \n```\n\n#### pom.xml\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>demo</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <!-- SpringwarTomcatjarTomcatSpring Webjar -->\n    <packaging>jar</packaging>\n\n    <name>demo</name>\n    <description>Demo project for Spring Boot</description>\n\n    <!-- parentparentspringpom.xmlspring jar -->\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>1.3.2.RELEASE</version>\n        <relativePath/> <!-- lookup parent from repository -->\n    </parent>\n\n    <properties>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <!-- dependency -->\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-security</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        \n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n    \n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>    \n\n</project>\n```\ndependency\n- [](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-starter-poms)\n- [](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/README.adoc)\n\n#### DemoApplication.java\n\n```java\npackage com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n/**\n * @SpringBootApplication @Configuration @EnableAutoConfiguration @ComponentScan\n * @ConfigurationXML\n * @EnableAutoConfigurationSpring Bootwebtomcat8080\n * @ComponentScanbasePackagecom.examplecom.example.*Java\n */\n@SpringBootApplication\npublic class DemoApplication {\n\n    // args\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n\n```\n\n#### DemoApplicationTests.java\n\n```java\npackage com.example;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.boot.test.SpringApplicationConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class) // spring-junit\n@SpringApplicationConfiguration(classes = DemoApplication.class) // \n@WebAppConfiguration // web\npublic class DemoApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n```\n\n#### application.properties\n\nSpring Boot`name=jayzee`javaSpring Boot\n\n```java\n@Value(\"${name}\")\nprivate String name;\n```\n\n`server.port=8090`tomcat8090\n\n#### templates\n\n[Template engines](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-template-engines)\n- htmljsptomcat\n\n#### static\n\n[Static Content](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content)\n- htmljscssjson\n- index.htmlhome page\n- `<link href=\"/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css\"/>``/static/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css`\n\n### \n\ndemo\n\n```\nmvn package\njava -jar target/demo-0.0.1-SNAPSHOT.jar\n```\n\n`http://localhost:8090/`security\n\n[Security](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security)`user`tomcat\n\n\n- [spring bootlogin+jdbc](http://www.tianmaying.com/tutorial/spring-mvc-microblog)\n- [demo](https://github.com/JayzeeZhang/spring-boot-demo)\n","source":"_posts/2016-01-23-sth-about-spring-boot.markdown","raw":"---\nlayout: post\ntitle: Spring Boot\ndate: '2016-01-23 15:02'\ncomments: true\ncategories: ['']  \ntags: ['Spring']\n---\n\nSpring Boot\n\n<!--more-->\n\n## \n\n- Spring FrameworkSpringXML\n- Spring FrameworkJavaSpring Boot\n- [Guide](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/)\n\n## \n\n### \n\n[Spring Initializr](https://start.spring.io/)mavendemoDependencies[Web][Security]demo`mvn eclipse:eclipse`eclipseeclipse\n\n### \n\n\n```\ndemo\n + src/test/java\n   + com.example\n     - DemoApplicationTests.java\n + src/main/java\n   + com.example\n     - DemoApplication.java\n + src/main/resources\n   + templates\n   + static\n   - application.properties\n - pom.xml \n```\n\n#### pom.xml\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>demo</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n    <!-- SpringwarTomcatjarTomcatSpring Webjar -->\n    <packaging>jar</packaging>\n\n    <name>demo</name>\n    <description>Demo project for Spring Boot</description>\n\n    <!-- parentparentspringpom.xmlspring jar -->\n    <parent>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-parent</artifactId>\n        <version>1.3.2.RELEASE</version>\n        <relativePath/> <!-- lookup parent from repository -->\n    </parent>\n\n    <properties>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <java.version>1.8</java.version>\n    </properties>\n\n    <!-- dependency -->\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-security</artifactId>\n        </dependency>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n        \n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-test</artifactId>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n    \n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n            </plugin>\n        </plugins>\n    </build>    \n\n</project>\n```\ndependency\n- [](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-starter-poms)\n- [](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/README.adoc)\n\n#### DemoApplication.java\n\n```java\npackage com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n/**\n * @SpringBootApplication @Configuration @EnableAutoConfiguration @ComponentScan\n * @ConfigurationXML\n * @EnableAutoConfigurationSpring Bootwebtomcat8080\n * @ComponentScanbasePackagecom.examplecom.example.*Java\n */\n@SpringBootApplication\npublic class DemoApplication {\n\n    // args\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n\n```\n\n#### DemoApplicationTests.java\n\n```java\npackage com.example;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.boot.test.SpringApplicationConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class) // spring-junit\n@SpringApplicationConfiguration(classes = DemoApplication.class) // \n@WebAppConfiguration // web\npublic class DemoApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n```\n\n#### application.properties\n\nSpring Boot`name=jayzee`javaSpring Boot\n\n```java\n@Value(\"${name}\")\nprivate String name;\n```\n\n`server.port=8090`tomcat8090\n\n#### templates\n\n[Template engines](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-template-engines)\n- htmljsptomcat\n\n#### static\n\n[Static Content](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content)\n- htmljscssjson\n- index.htmlhome page\n- `<link href=\"/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css\"/>``/static/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css`\n\n### \n\ndemo\n\n```\nmvn package\njava -jar target/demo-0.0.1-SNAPSHOT.jar\n```\n\n`http://localhost:8090/`security\n\n[Security](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security)`user`tomcat\n\n\n- [spring bootlogin+jdbc](http://www.tianmaying.com/tutorial/spring-mvc-microblog)\n- [demo](https://github.com/JayzeeZhang/spring-boot-demo)\n","slug":"sth-about-spring-boot","published":1,"updated":"2020-01-11T03:26:55.199Z","photos":[],"link":"","_id":"ck8wh7lai000p4supi3xipv7b","content":"<p>Spring Boot</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>Spring FrameworkSpringXML</li>\n<li>Spring FrameworkJavaSpring Boot</li>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\" target=\"_blank\" rel=\"noopener\">Guide</a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://start.spring.io/\" target=\"_blank\" rel=\"noopener\">Spring Initializr</a>mavendemoDependencies[Web][Security]demo<code>mvn eclipse:eclipse</code>eclipseeclipse</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">demo</span><br><span class=\"line\"> + src/test/java</span><br><span class=\"line\">   + com.example</span><br><span class=\"line\">     - DemoApplicationTests.java</span><br><span class=\"line\"> + src/main/java</span><br><span class=\"line\">   + com.example</span><br><span class=\"line\">     - DemoApplication.java</span><br><span class=\"line\"> + src/main/resources</span><br><span class=\"line\">   + templates</span><br><span class=\"line\">   + static</span><br><span class=\"line\">   - application.properties</span><br><span class=\"line\"> - pom.xml</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"pom-xml\"><a href=\"#pom-xml\" class=\"headerlink\" title=\"pom.xml\"></a>pom.xml</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span> <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.example<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>demo<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>0.0.1-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- SpringwarTomcatjarTomcatSpring Webjar --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>jar<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>demo<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span>Demo project for Spring Boot<span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- parentparentspringpom.xmlspring jar --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-parent<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.3.2.RELEASE<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">relativePath</span>/&gt;</span> <span class=\"comment\">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class=\"tag\">&lt;/<span class=\"name\">project.build.sourceEncoding</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">java.version</span>&gt;</span>1.8<span class=\"tag\">&lt;/<span class=\"name\">java.version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- dependency --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-security<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span>    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>dependency</p>\n<ul>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-starter-poms\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/README.adoc\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<h4 id=\"DemoApplication-java\"><a href=\"#DemoApplication-java\" class=\"headerlink\" title=\"DemoApplication.java\"></a>DemoApplication.java</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.example;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.SpringApplication;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@SpringBootApplication</span> <span class=\"doctag\">@Configuration</span> <span class=\"doctag\">@EnableAutoConfiguration</span> <span class=\"doctag\">@ComponentScan</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@Configuration</span>XML</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@EnableAutoConfiguration</span>Spring Bootwebtomcat8080</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@ComponentScan</span>basePackagecom.examplecom.example.*Java</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoApplication</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// args</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        SpringApplication.run(DemoApplication.class, args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"DemoApplicationTests-java\"><a href=\"#DemoApplicationTests-java\" class=\"headerlink\" title=\"DemoApplicationTests.java\"></a>DemoApplicationTests.java</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.example;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.runner.RunWith;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.test.context.web.WebAppConfiguration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.test.SpringApplicationConfiguration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@RunWith</span>(SpringJUnit4ClassRunner.class) <span class=\"comment\">// spring-junit</span></span><br><span class=\"line\"><span class=\"meta\">@SpringApplicationConfiguration</span>(classes = DemoApplication.class) <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"meta\">@WebAppConfiguration</span> <span class=\"comment\">// web</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoApplicationTests</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">contextLoads</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"application-properties\"><a href=\"#application-properties\" class=\"headerlink\" title=\"application.properties\"></a>application.properties</h4><p>Spring Boot<code>name=jayzee</code>javaSpring Boot</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Value</span>(<span class=\"string\">\"$&#123;name&#125;\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">private</span> String name;</span><br></pre></td></tr></table></figure>\n<p><code>server.port=8090</code>tomcat8090</p>\n<h4 id=\"templates\"><a href=\"#templates\" class=\"headerlink\" title=\"templates\"></a>templates</h4><p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-template-engines\" target=\"_blank\" rel=\"noopener\">Template engines</a></p>\n<ul>\n<li>htmljsptomcat</li>\n</ul>\n<h4 id=\"static\"><a href=\"#static\" class=\"headerlink\" title=\"static\"></a>static</h4><p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content\" target=\"_blank\" rel=\"noopener\">Static Content</a></p>\n<ul>\n<li>htmljscssjson</li>\n<li>index.htmlhome page</li>\n<li><code>&lt;link href=&quot;/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css&quot;/&gt;</code><code>/static/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css</code></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>demo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn package</span><br><span class=\"line\">java -jar target/demo-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>\n<p><code>http://localhost:8090/</code>security</p>\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security\" target=\"_blank\" rel=\"noopener\">Security</a><code>user</code>tomcat</p>\n<p></p>\n<ul>\n<li><a href=\"http://www.tianmaying.com/tutorial/spring-mvc-microblog\" target=\"_blank\" rel=\"noopener\">spring bootlogin+jdbc</a></li>\n<li><a href=\"https://github.com/JayzeeZhang/spring-boot-demo\" target=\"_blank\" rel=\"noopener\">demo</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>Spring Boot</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>Spring FrameworkSpringXML</li>\n<li>Spring FrameworkJavaSpring Boot</li>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\" target=\"_blank\" rel=\"noopener\">Guide</a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://start.spring.io/\" target=\"_blank\" rel=\"noopener\">Spring Initializr</a>mavendemoDependencies[Web][Security]demo<code>mvn eclipse:eclipse</code>eclipseeclipse</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">demo</span><br><span class=\"line\"> + src/test/java</span><br><span class=\"line\">   + com.example</span><br><span class=\"line\">     - DemoApplicationTests.java</span><br><span class=\"line\"> + src/main/java</span><br><span class=\"line\">   + com.example</span><br><span class=\"line\">     - DemoApplication.java</span><br><span class=\"line\"> + src/main/resources</span><br><span class=\"line\">   + templates</span><br><span class=\"line\">   + static</span><br><span class=\"line\">   - application.properties</span><br><span class=\"line\"> - pom.xml</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"pom-xml\"><a href=\"#pom-xml\" class=\"headerlink\" title=\"pom.xml\"></a>pom.xml</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0\"</span> <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">modelVersion</span>&gt;</span>4.0.0<span class=\"tag\">&lt;/<span class=\"name\">modelVersion</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.example<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>demo<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>0.0.1-SNAPSHOT<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- SpringwarTomcatjarTomcatSpring Webjar --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">packaging</span>&gt;</span>jar<span class=\"tag\">&lt;/<span class=\"name\">packaging</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>demo<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span>Demo project for Spring Boot<span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- parentparentspringpom.xmlspring jar --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-parent<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.3.2.RELEASE<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">relativePath</span>/&gt;</span> <span class=\"comment\">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">parent</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class=\"tag\">&lt;/<span class=\"name\">project.build.sourceEncoding</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">java.version</span>&gt;</span>1.8<span class=\"tag\">&lt;/<span class=\"name\">java.version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- dependency --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-security<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">plugin</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">plugins</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span>    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>dependency</p>\n<ul>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-starter-poms\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-starters/README.adoc\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<h4 id=\"DemoApplication-java\"><a href=\"#DemoApplication-java\" class=\"headerlink\" title=\"DemoApplication.java\"></a>DemoApplication.java</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.example;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.SpringApplication;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@SpringBootApplication</span> <span class=\"doctag\">@Configuration</span> <span class=\"doctag\">@EnableAutoConfiguration</span> <span class=\"doctag\">@ComponentScan</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@Configuration</span>XML</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@EnableAutoConfiguration</span>Spring Bootwebtomcat8080</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@ComponentScan</span>basePackagecom.examplecom.example.*Java</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoApplication</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// args</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        SpringApplication.run(DemoApplication.class, args);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"DemoApplicationTests-java\"><a href=\"#DemoApplicationTests-java\" class=\"headerlink\" title=\"DemoApplicationTests.java\"></a>DemoApplicationTests.java</h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.example;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.runner.RunWith;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.test.context.web.WebAppConfiguration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.test.SpringApplicationConfiguration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@RunWith</span>(SpringJUnit4ClassRunner.class) <span class=\"comment\">// spring-junit</span></span><br><span class=\"line\"><span class=\"meta\">@SpringApplicationConfiguration</span>(classes = DemoApplication.class) <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"meta\">@WebAppConfiguration</span> <span class=\"comment\">// web</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DemoApplicationTests</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">contextLoads</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"application-properties\"><a href=\"#application-properties\" class=\"headerlink\" title=\"application.properties\"></a>application.properties</h4><p>Spring Boot<code>name=jayzee</code>javaSpring Boot</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Value</span>(<span class=\"string\">\"$&#123;name&#125;\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">private</span> String name;</span><br></pre></td></tr></table></figure>\n<p><code>server.port=8090</code>tomcat8090</p>\n<h4 id=\"templates\"><a href=\"#templates\" class=\"headerlink\" title=\"templates\"></a>templates</h4><p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-template-engines\" target=\"_blank\" rel=\"noopener\">Template engines</a></p>\n<ul>\n<li>htmljsptomcat</li>\n</ul>\n<h4 id=\"static\"><a href=\"#static\" class=\"headerlink\" title=\"static\"></a>static</h4><p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content\" target=\"_blank\" rel=\"noopener\">Static Content</a></p>\n<ul>\n<li>htmljscssjson</li>\n<li>index.htmlhome page</li>\n<li><code>&lt;link href=&quot;/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css&quot;/&gt;</code><code>/static/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css</code></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>demo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn package</span><br><span class=\"line\">java -jar target/demo-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>\n<p><code>http://localhost:8090/</code>security</p>\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security\" target=\"_blank\" rel=\"noopener\">Security</a><code>user</code>tomcat</p>\n<p></p>\n<ul>\n<li><a href=\"http://www.tianmaying.com/tutorial/spring-mvc-microblog\" target=\"_blank\" rel=\"noopener\">spring bootlogin+jdbc</a></li>\n<li><a href=\"https://github.com/JayzeeZhang/spring-boot-demo\" target=\"_blank\" rel=\"noopener\">demo</a></li>\n</ul>"},{"layout":"post","title":"SVN","date":"2016-05-05T05:48:00.000Z","comments":1,"_content":"\nExtJS+Java\n\n<!--more-->\n\nBeyondCompareSVN\n\nSVNauthzLinux\n\n```\n[groups]\nadmin = jayzee,luzhiquan,hwq\nuser = yifei,shenkai,linjie,cjm\n# gx-desk\n[myproject:/gx-desk]\n@admin = rw\n@user = r\n## gx-desk src\n[myproject:/gx-desk/src]\n@user = rw\n[myproject:/gx-desk/src/main/resources]\n@user = r\n[myproject:/gx-desk/src/main/resources/com]\n@user = rw\n## gx-desk WebContent\n[myproject:/gx-desk/WebContent]\n@user = rw\n[myproject:/gx-desk/WebContent/.sencha]\n@user = r\n[myproject:/gx-desk/WebContent/Chart]\n@user = r\n[myproject:/gx-desk/WebContent/app/App.js]\n@user = r\n[myproject:/gx-desk/WebContent/app/view/infomanage]\n@user =\nlinjie = rw\n```\n\n1. SVN`/gx-desk`admin\n2. `/gx-desk/src``@user = rw``/gx-desk/src`\n3. \n\n\n`@user = `\n","source":"_posts/2016-05-05-svn-that-i-used.markdown","raw":"---\nlayout: post\ntitle: SVN\ndate: '2016-05-05 13:48'\ncomments: true\ncategories: ['']  \ntags: ['SVN']\n---\n\nExtJS+Java\n\n<!--more-->\n\nBeyondCompareSVN\n\nSVNauthzLinux\n\n```\n[groups]\nadmin = jayzee,luzhiquan,hwq\nuser = yifei,shenkai,linjie,cjm\n# gx-desk\n[myproject:/gx-desk]\n@admin = rw\n@user = r\n## gx-desk src\n[myproject:/gx-desk/src]\n@user = rw\n[myproject:/gx-desk/src/main/resources]\n@user = r\n[myproject:/gx-desk/src/main/resources/com]\n@user = rw\n## gx-desk WebContent\n[myproject:/gx-desk/WebContent]\n@user = rw\n[myproject:/gx-desk/WebContent/.sencha]\n@user = r\n[myproject:/gx-desk/WebContent/Chart]\n@user = r\n[myproject:/gx-desk/WebContent/app/App.js]\n@user = r\n[myproject:/gx-desk/WebContent/app/view/infomanage]\n@user =\nlinjie = rw\n```\n\n1. SVN`/gx-desk`admin\n2. `/gx-desk/src``@user = rw``/gx-desk/src`\n3. \n\n\n`@user = `\n","slug":"svn-that-i-used","published":1,"updated":"2020-04-12T03:36:13.401Z","_id":"ck8wh7lal000r4suphu18c8ux","photos":[],"link":"","content":"<p>ExtJS+Java</p>\n<a id=\"more\"></a>\n<p>BeyondCompareSVN</p>\n<p>SVNauthzLinux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[groups]</span><br><span class=\"line\">admin = jayzee,luzhiquan,hwq</span><br><span class=\"line\">user = yifei,shenkai,linjie,cjm</span><br><span class=\"line\"># gx-desk</span><br><span class=\"line\">[myproject:/gx-desk]</span><br><span class=\"line\">@admin = rw</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">## gx-desk src</span><br><span class=\"line\">[myproject:/gx-desk/src]</span><br><span class=\"line\">@user = rw</span><br><span class=\"line\">[myproject:/gx-desk/src/main/resources]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/src/main/resources/com]</span><br><span class=\"line\">@user = rw</span><br><span class=\"line\">## gx-desk WebContent</span><br><span class=\"line\">[myproject:/gx-desk/WebContent]</span><br><span class=\"line\">@user = rw</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/.sencha]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/Chart]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/app/App.js]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/app/view/infomanage]</span><br><span class=\"line\">@user =</span><br><span class=\"line\">linjie = rw</span><br></pre></td></tr></table></figure>\n<ol>\n<li>SVN<code>/gx-desk</code>admin</li>\n<li><code>/gx-desk/src</code><code>@user = rw</code><code>/gx-desk/src</code></li>\n<li></li>\n</ol>\n<p><br><code>@user =</code></p>\n","site":{"data":{}},"excerpt":"<p>ExtJS+Java</p>","more":"<p>BeyondCompareSVN</p>\n<p>SVNauthzLinux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[groups]</span><br><span class=\"line\">admin = jayzee,luzhiquan,hwq</span><br><span class=\"line\">user = yifei,shenkai,linjie,cjm</span><br><span class=\"line\"># gx-desk</span><br><span class=\"line\">[myproject:/gx-desk]</span><br><span class=\"line\">@admin = rw</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">## gx-desk src</span><br><span class=\"line\">[myproject:/gx-desk/src]</span><br><span class=\"line\">@user = rw</span><br><span class=\"line\">[myproject:/gx-desk/src/main/resources]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/src/main/resources/com]</span><br><span class=\"line\">@user = rw</span><br><span class=\"line\">## gx-desk WebContent</span><br><span class=\"line\">[myproject:/gx-desk/WebContent]</span><br><span class=\"line\">@user = rw</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/.sencha]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/Chart]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/app/App.js]</span><br><span class=\"line\">@user = r</span><br><span class=\"line\">[myproject:/gx-desk/WebContent/app/view/infomanage]</span><br><span class=\"line\">@user =</span><br><span class=\"line\">linjie = rw</span><br></pre></td></tr></table></figure>\n<ol>\n<li>SVN<code>/gx-desk</code>admin</li>\n<li><code>/gx-desk/src</code><code>@user = rw</code><code>/gx-desk/src</code></li>\n<li></li>\n</ol>\n<p><br><code>@user =</code></p>"},{"layout":"post","title":"","date":"2016-05-09T04:34:00.000Z","comments":1,"_content":"\n63796379iptablesssh\n\n<!--more-->\n\nwebrootroot\n\n1. iptables****\n2. /etc/passwd****rootroot\n2. /var/logs/*.log\n3. rootcommand history\n4. root.bash_history\n5. `last -f wtmp`\n6. crontab\n7. UID0\n8. sshauthorized_keys****ssh\n\n/var/logredisredisrediskey-valueredisluavaluekey\n\n\n1. iptables\n2. \n","source":"_posts/2016-05-09-after-my-machine-was-attacked.markdown","raw":"---\nlayout: post\ntitle: \ndate: '2016-05-09 12:34'\ncomments: true\ncategories: ['']  \ntags: ['']\n---\n\n63796379iptablesssh\n\n<!--more-->\n\nwebrootroot\n\n1. iptables****\n2. /etc/passwd****rootroot\n2. /var/logs/*.log\n3. rootcommand history\n4. root.bash_history\n5. `last -f wtmp`\n6. crontab\n7. UID0\n8. sshauthorized_keys****ssh\n\n/var/logredisredisrediskey-valueredisluavaluekey\n\n\n1. iptables\n2. \n","slug":"after-my-machine-was-attacked","published":1,"updated":"2020-04-12T03:35:54.184Z","_id":"ck8wh7lan000s4supmof0gqy5","photos":[],"link":"","content":"<p>63796379iptablesssh</p>\n<a id=\"more\"></a>\n<p>webrootroot</p>\n<ol>\n<li>iptables<strong></strong></li>\n<li>/etc/passwd<strong></strong>rootroot</li>\n<li>/var/logs/*.log</li>\n<li>rootcommand history</li>\n<li>root.bash_history</li>\n<li><code>last -f wtmp</code></li>\n<li>crontab</li>\n<li>UID0</li>\n<li>sshauthorized_keys<strong></strong>ssh</li>\n</ol>\n<p>/var/logredisredisrediskey-valueredisluavaluekey</p>\n<p></p>\n<ol>\n<li>iptables</li>\n<li></li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>63796379iptablesssh</p>","more":"<p>webrootroot</p>\n<ol>\n<li>iptables<strong></strong></li>\n<li>/etc/passwd<strong></strong>rootroot</li>\n<li>/var/logs/*.log</li>\n<li>rootcommand history</li>\n<li>root.bash_history</li>\n<li><code>last -f wtmp</code></li>\n<li>crontab</li>\n<li>UID0</li>\n<li>sshauthorized_keys<strong></strong>ssh</li>\n</ol>\n<p>/var/logredisredisrediskey-valueredisluavaluekey</p>\n<p></p>\n<ol>\n<li>iptables</li>\n<li></li>\n</ol>"},{"layout":"post","title":"LVM","date":"2016-05-09T09:25:00.000Z","comments":1,"_content":"\nLVM\n\n<!--more-->\n\n1. \n2. \n\n## \n\n\n1. /dev/xvde1 250G\n2. /dev/xvde2 250G\n\nvgpvlv\n\n```bash\n## pv\npvcreate /dev/xvde2\n## vgpvvg\nvgcreate gx /dev/xvde2\n## lv\nlvcreate -n lv1 -l 100%FREE gx\n## lvext4\nmkfs.ext4 /dev/gx/lv1\n```\n\nlv`/etc/fstab`\n\n```\n/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0\n```\n\nlv`/media/disk`250G\n\n```bash\n## pv\npvcreate /dev/xvde1\n## vg\nvgextend gx /dev/xvde1\n## lv\nlvextend -l +100%FREE /dev/gx/lv1\n## \nresize2fs /dev/gx/lv1\n```\n\n`/media/disk`500G\n\n## \n\nlvmpvmetadata\n\n```bash\n## pv\npvscan\n## lv\nlvscan\n## vg\nvgscan\n## vg\nvgchange -a y\n```\n\n`/etc/fstab`\n\n```\n/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0\n```\n","source":"_posts/2016-05-09-lvm-that-i-used.markdown","raw":"---\nlayout: post\ntitle: LVM\ndate: '2016-05-09 17:25'\ncomments: true\ncategories: ['']  \ntags: ['LVM']\n---\n\nLVM\n\n<!--more-->\n\n1. \n2. \n\n## \n\n\n1. /dev/xvde1 250G\n2. /dev/xvde2 250G\n\nvgpvlv\n\n```bash\n## pv\npvcreate /dev/xvde2\n## vgpvvg\nvgcreate gx /dev/xvde2\n## lv\nlvcreate -n lv1 -l 100%FREE gx\n## lvext4\nmkfs.ext4 /dev/gx/lv1\n```\n\nlv`/etc/fstab`\n\n```\n/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0\n```\n\nlv`/media/disk`250G\n\n```bash\n## pv\npvcreate /dev/xvde1\n## vg\nvgextend gx /dev/xvde1\n## lv\nlvextend -l +100%FREE /dev/gx/lv1\n## \nresize2fs /dev/gx/lv1\n```\n\n`/media/disk`500G\n\n## \n\nlvmpvmetadata\n\n```bash\n## pv\npvscan\n## lv\nlvscan\n## vg\nvgscan\n## vg\nvgchange -a y\n```\n\n`/etc/fstab`\n\n```\n/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0\n```\n","slug":"lvm-that-i-used","published":1,"updated":"2020-04-12T03:36:28.805Z","_id":"ck8wh7laq000u4sup6xk2xh6k","photos":[],"link":"","content":"<p>LVM</p>\n<a id=\"more\"></a>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>/dev/xvde1 250G</li>\n<li>/dev/xvde2 250G</li>\n</ol>\n<p>vgpvlv</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## pv</span></span><br><span class=\"line\">pvcreate /dev/xvde2</span><br><span class=\"line\"><span class=\"comment\">## vgpvvg</span></span><br><span class=\"line\">vgcreate gx /dev/xvde2</span><br><span class=\"line\"><span class=\"comment\">## lv</span></span><br><span class=\"line\">lvcreate -n lv1 -l 100%FREE gx</span><br><span class=\"line\"><span class=\"comment\">## lvext4</span></span><br><span class=\"line\">mkfs.ext4 /dev/gx/lv1</span><br></pre></td></tr></table></figure>\n<p>lv<code>/etc/fstab</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0</span><br></pre></td></tr></table></figure>\n<p>lv<code>/media/disk</code>250G</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## pv</span></span><br><span class=\"line\">pvcreate /dev/xvde1</span><br><span class=\"line\"><span class=\"comment\">## vg</span></span><br><span class=\"line\">vgextend gx /dev/xvde1</span><br><span class=\"line\"><span class=\"comment\">## lv</span></span><br><span class=\"line\">lvextend -l +100%FREE /dev/gx/lv1</span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">resize2fs /dev/gx/lv1</span><br></pre></td></tr></table></figure>\n<p><code>/media/disk</code>500G</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>lvmpvmetadata</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## pv</span></span><br><span class=\"line\">pvscan</span><br><span class=\"line\"><span class=\"comment\">## lv</span></span><br><span class=\"line\">lvscan</span><br><span class=\"line\"><span class=\"comment\">## vg</span></span><br><span class=\"line\">vgscan</span><br><span class=\"line\"><span class=\"comment\">## vg</span></span><br><span class=\"line\">vgchange -a y</span><br></pre></td></tr></table></figure>\n<p><code>/etc/fstab</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>LVM</p>","more":"<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li>/dev/xvde1 250G</li>\n<li>/dev/xvde2 250G</li>\n</ol>\n<p>vgpvlv</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## pv</span></span><br><span class=\"line\">pvcreate /dev/xvde2</span><br><span class=\"line\"><span class=\"comment\">## vgpvvg</span></span><br><span class=\"line\">vgcreate gx /dev/xvde2</span><br><span class=\"line\"><span class=\"comment\">## lv</span></span><br><span class=\"line\">lvcreate -n lv1 -l 100%FREE gx</span><br><span class=\"line\"><span class=\"comment\">## lvext4</span></span><br><span class=\"line\">mkfs.ext4 /dev/gx/lv1</span><br></pre></td></tr></table></figure>\n<p>lv<code>/etc/fstab</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0</span><br></pre></td></tr></table></figure>\n<p>lv<code>/media/disk</code>250G</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## pv</span></span><br><span class=\"line\">pvcreate /dev/xvde1</span><br><span class=\"line\"><span class=\"comment\">## vg</span></span><br><span class=\"line\">vgextend gx /dev/xvde1</span><br><span class=\"line\"><span class=\"comment\">## lv</span></span><br><span class=\"line\">lvextend -l +100%FREE /dev/gx/lv1</span><br><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\">resize2fs /dev/gx/lv1</span><br></pre></td></tr></table></figure>\n<p><code>/media/disk</code>500G</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>lvmpvmetadata</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## pv</span></span><br><span class=\"line\">pvscan</span><br><span class=\"line\"><span class=\"comment\">## lv</span></span><br><span class=\"line\">lvscan</span><br><span class=\"line\"><span class=\"comment\">## vg</span></span><br><span class=\"line\">vgscan</span><br><span class=\"line\"><span class=\"comment\">## vg</span></span><br><span class=\"line\">vgchange -a y</span><br></pre></td></tr></table></figure>\n<p><code>/etc/fstab</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/dev/gx/lv1      /media/disk    ext4    defaults,noatime,nodiratime 0       0</span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"Advanced Linux Programing","date":"2016-04-22T11:03:00.000Z","comments":1,"_content":"\nAdvanced Linux Programing\n\n<!--more-->\n\n## \n\nLinux Kernel\n\n- \n- \n- \n- \n- \n\nGNU Project\n\n- \n- \n- Shell/bin/bashBourne-Again SHell\n\n\n\n1. Linux KernelGNU ProjectLinuxGNU/Linux\n2. LinuxUNIXUNIXFreeBSDSolaris\n\n## Hello, World\n\n### \n\n```c\n/** main.c **/\n#include <stdio.h>\n\nvoid sayHello() {\n    printf(\"Hello, World\\n\");\n}\n\nint main() {\n    sayHello();\n    return 0;\n}\n```\n\nShell`gcc -o main main.c``main``./main``Hello, World``main.c``main`\n\n- main.c --> main.i --> main.s --> main.o --> main\n-  + **(cpp)** -->  + **(ccl)** -->  + **(as)** -->  + printf.o + **(ld)** --> main\n\nShell\n\n```bash\ngcc -E main.c -o main.i\ngcc -S main.i -o main.s --> main.s\ngcc -c main.s -o main.o --> main.o\ngcc main.o -o main --> main\n\n# 4gcc\ngcc main.c -o main\n\n```\n\n`-E`C`-S``-c``-o`\n\n### g++c\n\n```c\n/** main.c **/\n#include <stdio.h>\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\nvoid sayHello();\n#ifdef __cplusplus\n}\n#endif\n\nvoid sayHello() {\n    printf(\"Hello, World\\n\");\n}\n\nint main() {\n    sayHello();\n    return 0;\n}\n```\n\n### gcc\n\n- `-I`\n- `-D`\n- `-O`\n- `-l`\n- `-L`\n\n```bash\n# main\n# /root/\n# DEBUG\n# 20<1<2<30\n# m\n# /usr/local/libm\ngcc main.c -o main -I /root/ -D DEBUG=2 -O2 -lm -L/usr/local/lib\n```\n\n### \n\n1. MakeFile\n2. autoconfautomakelibtool\n\nmakefile\n\n```\nmain.o: main.c\n        gcc -c main.c -o main.o\n\nall: main\n\nmain: main.o\n        gcc main.o -o main\n\nclean:\n        rm main.o main\n```\n\nmakefile\n\n```bash\n# allmain\n# 1-fmakefile\nmake -f makefile all\n# 2makefile\n# GNUmakefile-->makefile-->Makefile\nmake all\n\n# \nmake clean\nmake -f makefile clean\n```\n\nmakefile**commandtab**\n\n```\n# target\n# dependency_filestarget\n# command\ntarget: dependency_files\n        command\n```\n\nmakefile\n\n```\nCC=gcc\nEXE=main\n\nmain.o: main.c\n        $(CC) -c main.c -o main.o\n\nall: $(EXE)\n\n$(EXE): main.o\n        gcc main.o -o $(EXE)\n\nclean:\n        rm main.o $(EXE)\n```\n\nmakefile\n\n```bash\nmake EXE=mm all\nmake EXE=mm clean\n```\n\n### GDB\n\n`gdb `gdb\n2. `break main`main`break main.c:5``main.c`5\n3. `i b`\n4. `delete 1`\n5. `disable 1`\n6. `list main.c:5`gdb\n6. `r``run`gdb`n``next``s``step``return`\n7. gdb`print `\n8. `where``bt``backtrace`\n\n### \n\n`man ``man printf`\n\n```\nMan:  (set MAN_POSIXLY_CORRECT to avoid this)\n * printf (1)\n   printf (3)\n   printf (1p)\n   printf (3p)\nMan: \nMan: \n```\n\n1. 1user commands**echo**\n2. 2system calls**fork**\n3. 3stand library**printf**\n4. pPOSIXPOSIXPOSIXPOSIX\n\n## \n\n### \n\n1. \n    - `man mkstemp`\n    - `man tmpfile`\n1. \n    - shell`echo $USER``printenv USER``USER`\n    - shell`export USER=jayzee``USER``jayzee`\n    - shell`env`\n    - LinuxC/C++`stdlib.h``getenv``setenv``unsetenv`\n1. shell`echo $?`0\n1. IO\n    - `stdin`int0`stdout`int1`stderr`int2\n    - `stdin`bufferedbuffered size\n    - `stderr`unbuffered\n    - shell`stdout`line-bufferedbufferedbuffered size`man setvbuf`\n    - buffered`fflush(your_file)`buffer\n    - shell`your_program > output_file.txt 2>&1``your_program``output_file.txt``>``>>`Linux\n    - shell`program 2>&1 | filter`Linux\n1. `man getopt_long``getopt.h``ls -l``-l`\n\n### \n\nassert\n\n- true0`assert(condition)`\n- `-DNDEBUG`assert**assert**\n\n\n\n- `fork``errno`\n- `man strerror``string.h``strerror`\n\n```\nEINTR : blocking function interrupt, like sleep, read, select\nEPERM : Permission denied\nEROFS : PATH is on a read-only file system\nENAMETOOLONG : PATH is too long\nENOENT : PATH does not exit\nENOTDIR : A component of PATH is not a directory\nEACCES : A component of PATH is not accessible\nEFAULT : PATH contains an invalid memory address.  This is probably a bug\nENOMEM : Ran out of kernel memory\n```\n\n\n\n- \n\n### \n\n[C++ -  - ](http://www.cnblogs.com/skynet/p/3372855.html)\n\nmain.c\n\n```bash\n/** main.c **/\nint add(int x, int y) {\n    return x + y;\n}\n```\n\n#### \n\n\n\n- \n- \n- \n\n\n\n- lib[your_library_name].alib.a\n- .oar.a\n\n```bash\n# math.cint add(int x, int y)\ngcc -c math.c -o math.o\nar -crv libmath.a math.o\n```\n\n\n\n- -Llib.a-l\n\n```bash\n# -l\ngcc main.c -o main -Lfilepath_of_your_static_library -lmath\n```\n\n\n\n- \n- \n\n#### \n\n\n\n- \n- \n- \n- \n\n\n\n- lib[your_library_name].solib.so\n- .ogcc.so\n    - `-fPIC`picposition independent code\n    - `-shared`\n\n```bash\n# math.cint add(int x, int y)\ngcc -fPIC -c math.c -o math.o\ngcc -shared -o libmath.so math.o\n# \ngcc -fPIC -shared -o libmath.so math.c\n```\n\n\n\n- -Llib.so-l\n\n```bash\ngcc main.c -o main -Lfilepath_of_your_static_library -lmath\n```\n\n- \n    - LD_LIBRARY_PATH`LD_LIBRARY_PATH=/usr/local/lib:/opt/lib`\n    - /etc/ld.so.cache\n        + /etc/ld.so.conf\n        + ldconfig /etc/ld.so.cache\n    - /lib//usr/lib\n- `-L`\n\n\n\n- \n- \n\n#### \n\n`nm`nm\n\n- ()U\n- T\n- W\n\n`ldd`\n\n## \n\n[LinuxForkExec - hicjiajia - ](http://www.cnblogs.com/hicjiajia/archive/2011/01/20/1940154.html)[(3)](http://www.ibm.com/developerworks/cn/linux/kernel/syscall/part3/index.html)\n\n### \n\n`pid`id`ppid`id\n\n1. Linux****initinit`pid`1ppid0\n2. shell`ps -e -o pid,ppid,command`pidppidcommand\n3. `unistd.h``getpid()``getppid()`IDID\n\n### \n\n#### systemshell\n\nsystemC/C++shellAPI\n\n```bash\n#include <stdlib.h>\nint system(const char *command);\n```\n\n\n\n1. `fork()`\n2. `execl(\"/bin/sh\", \"sh\". \"-c\", command, (char *) 0);`shellcommand\n\n#### forkexec\n\n##### fork\n\nforkAPI\n\n```bash\n#include <unistd.h>\npid_t fork(void);\n```\n\nfork\n\n- fork`pid>0``pid==0`\n- fork**fork**\n- forkpidppidforkid\n\npid_t\n\n```c\n/* zombie.c */\n#include <sys/types.h>\n#include <unistd.h>\nint main() {\n    pid_t pid;\n    pid=fork();\n    if(pid<0) /*  */\n        printf(\"error occurred!\\n\");\n    else if(pid==0) /*  */\n        exit(0);\n    else /*  */\n        sleep(60); /* 60 */\n    wait(NULL); /*  */\n}\n```\n\n##### exec\n\nexec\n\n```c\n#include <unistd.h>\nint execl(const char *path, const char *arg, ...);\nint execlp(const char *file, const char *arg, ...);\nint execle(const char *path, const char *arg, ..., char *const envp[]);\nint execv(const char *path, char *const argv[]);\nint execvp(const char *file, char *const argv[]);\nint execve(const char *path, char *const argv[], char *const envp[]);\n```\n\n`execl`5vl\n\nexec\n\n- pidexec\n- forkforkexec****fork\n\n\n\n```c\n#include <errno.h>\n#include <stdio.h>\n#include <stdlib.h>\n\nchar command[256];\nvoid main()\n{\n   int rtn; /**/\n   while(1) {\n       /*  */\n       printf( \">\" );\n       fgets( command, 256, stdin );\n       command[strlen(command)-1] = 0;\n       if ( fork() == 0 ) {/*  */\n          execlp( command, NULL );\n          /* exec*/\n          perror( command );\n          exit( errno );\n       }\n       else {/*   */\n          wait ( &rtn );\n          printf( \" child process return %d\\n\", rtn );\n       }\n   }\n}\n```\n\n### \n\n\n\n- \n- \n- \n\n`signal()`\n\n```c\n// SIGPIPE\nsignal ( SIGPIPE, SIG_IGN );\n// PrepareExitSIGINT\nsignal ( SIGINT, (__sighandler_t ) PrepareExit );\n```\n\nLinux\n\n```\n  \nSIGHUP 1 A \nSIGINT 2 A break\nSIGQUIT 3 C \nSIGILL 4 C \nSIGABRT 6 C abort(3)\nSIGFPE 8 C \nSIGKILL 9 AEF Kill\nSIGSEGV 11 C \nSIGPIPE 13 A : \nSIGALRM 14 A alarm(2)\nSIGTERM 15 A \nSIGUSR1 30,10,16 A 1\nSIGUSR2 31,12,17 A 2\nSIGCHLD 20,17,18 B \nSIGCONT 19,18,25 \nSIGSTOP 17,19,23 DEF \nSIGTSTP 18,20,24 D tty\nSIGTTIN 21,21,26 D \nSIGTTOU 22,22,27 D \n\n\nA \nB \nC dump core\nD ptrace\nE \nF \n```\n\n****\n\n\n\n### \n\n#### \n\n1. `SIGINT`CRTL+C\n2. `SIGTERM`shell`kill pid`\n3. `abort()``SIGABRT`\n4. `SIGKILL`shell`kill -9 pid`\n\nshell`echo $?`exit code\n\n- exit code128\n- `exit(int exit_code)`exit_code0128\n\n\n\n- shell`kill -s SIGNAL_NAME pid`pidSIGNAL_NAME\n- `kill(pid, SIGNAL_NAME)`\n\n#### wait\n\nUnixpidexit codeCPU`wait`pidexit code\n\n`wait`API\n\n```c\npid_t wait(int *status);\n```\n\n\n\n- `wait`\n- `pid_t`-1`wait``pid_t`pid\n- `status`status\n- `WIFEXITED(status)`0`WTERMSIG(status)`int`WEXITSTATUS(status)`exit code`exit(7)``WEXITSTATUS(status)`7\n\n```c\n/* wait2.c */\n#include <sys/types.h>\n#include <sys/wait.h>\n#include <unistd.h>\n#include <stdio.h>\n#include <stdlib.h>\n\nmain()\n{\n    int status;\n    pid_t pc,pr;\n    pc=fork();\n    if(pc<0)     /*  */\n        printf(\"error ocurred!\\n\");\n    else if(pc==0){ /*  */\n        printf(\"This is child process with pid of %d.\\n\",getpid());\n        exit(3);    /* 3 */\n    }\n    else{       /*  */\n        pr=wait(&status);\n        if(WIFEXITED(status)){  /* WIFEXITED */\n            printf(\"the child process %d exit normally.\\n\",pr);\n            printf(\"the return code is %d.\\n\",WEXITSTATUS(status));\n        }else           /* WIFEXITEDprpid */\n            printf(\"the child process %d exit abnormally with signal number %d.\\n\",pr,WTERMSIG(status));\n    }\n}\n```\n\n#### \n\n`wait`\n\n```\n$ ps -ax\n  PID TTY      STAT   TIME COMMAND\n 1177 pts/0    S      0:00 -bash\n 1577 pts/0    S      0:00 ./zombie\n 1578 pts/0    Z      0:00 [zombie <defunct>]\n 1579 pts/0    R      0:00 ps -ax\n```\n\nSTATZ\n\n- init\n- SIGCHLD\n- `wait3``wait4`\n\n## \n\n### \n\n****`int pthread_create(pthread_t *thread, const pthread_attr_t *attr,\nvoid *(*start_routine) (void *), void *arg);`\n\n- `pthread_create`0\n- `thread``pthread_t`\n- `pthread_attr_t`\n- `start_routine`\n- `arg`\n\n****`int pthread_join(pthread_t thread, void **retval);`\n\n- `retval``exit``pthread_exit`\n- `When a joinable thread terminates, its memory resources (thread descriptor and stack) are not deallocated until another thread performs pthread_join on it. Therefore, pthread_join must be called  once  for each joinable thread created to avoid memory leaks.`\n- \n\n****`void pthread_exit(void *retval);`\n\n- `retval`\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n#include <unistd.h>\n\nint code = 11;\n\nvoid hello(void *args) {\n    char *str = (char *) args;\n    sleep(5);\n    printf(\"Hello, %s!\\n\", str);\n    pthread_exit(&code);\n}\n\nint main() {\n    pthread_t thread;\n    int status = pthread_create(&thread, NULL, (void *)hello, (void *) \"Jayzee\");\n    printf(\"thread create status : %d\\n\", status);\n    int *exit_code = 0;\n    status = pthread_join(thread, (void *) &exit_code);\n    printf(\"thread join status : %d\\n\", status);\n    printf(\"thread exit code : %d\\n\", *exit_code);\n    return 0;\n}\n```\n\n------\n\n`pthread_create``pthread_attr_t`\n\n1. `pthread_attr_t`\n2. `pthread_attr_t`\n3. `pthread_attr_t`\n4. `pthread_attr_t`\n\n\n\n1. detach\n2. detach`int pthread_detach(pthread_t thread);`detach\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n#include <unistd.h>\n\nint code = 11;\n\nvoid hello(void *args) {\n    char *str = (char *) args;\n    sleep(5);\n    printf(\"Hello, %s!\\n\", str);\n    pthread_exit(&code);\n}\n\nint main() {\n    pthread_t thread;\n    pthread_attr_t attr;\n    pthread_attr_init (&attr);\n    pthread_attr_setdetachstate (&attr, PTHREAD_CREATE_DETACHED);\n    int status = pthread_create (&thread, &attr, (void *)hello, (void *) \"Jayzee\");\n    pthread_attr_destroy (&attr);\n    printf(\"thread create status : %d\\n\", status);\n    return 0;\n}\n```\n\n### \n\n```\nint pthread_setcancelstate(int state, int *oldstate);\nint pthread_setcanceltype(int type, int *oldtype);\nint pthread_cancel(pthread_t thread);\n```\n\n- `pthread_setcancelstate``state``oldstate`\n- `pthread_setcanceltype``type``oldtype`\n- `pthread_cancel`\n\n\n\n\n1. type`PTHREAD_CANCEL_DEFERRED``PTHREAD_CANCEL_ASYNCHRONOUS`\n2. state`PTHREAD_CANCEL_ENABLE``PTHREAD_CANCEL_DISABLE`\n3. typestate`pthread_cancel`\n    - state`PTHREAD_CANCEL_DISABLE`type`pthread_cancel`\n    - type`PTHREAD_CANCEL_DEFERRED`type`PTHREAD_CANCEL_ASYNCHRONOUS`\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n#include <unistd.h>\n\nint code = 11;\n\nvoid hello(void *args) {\n    pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, &last_state); \n    pthread_setcanceltype(PTHREAD_CANCEL_DEFERRED, &last_type);\n    char *str = (char *) args;\n    sleep(5);\n    printf(\"Hello, %s!\\n\", str);\n    pthread_exit(&code);\n}\n\nint main() {\n    pthread_t thread;\n    int status = pthread_create(&thread, NULL, (void *)hello, (void *) \"Jayzee\");\n    printf(\"thread create status : %d\\n\", status);\n    int *exit_code = 0;\n    status = pthread_join(thread, (void *) &exit_code);\n    printf(\"thread join status : %d\\n\", status);\n    printf(\"thread exit code : %d\\n\", *exit_code);\n    pthread_cancel(thread);\n    return 0;\n}\n```\n\n### \n\n```\nint pthread_key_create(pthread_key_t *key, void (*destructor)(void*));\nint pthread_setspecific(pthread_key_t key, const void *value);\nvoid *pthread_getspecific(pthread_key_t key);\n```\n\n1. `pthread_key_create``key``destructor``key`\n2. `pthread_setspecific`key-value`pthread_getspecific`keyvalue\n3. `pthread_getspecific``destructor``pthread_getspecific``destructor`\n\n```c\n#include <malloc.h>\n#include <pthread.h>\n#include <stdio.h>\n\n/* The key used to associate a log file pointer with each thread. */\nstatic pthread_key_t thread_log_key;\n\n/* Write MESSAGE to the log file for the current thread. */\nvoid write_to_thread_log (const char* message) {\n    FILE* thread_log = (FILE*) pthread_getspecific (thread_log_key);\n    fprintf (thread_log, \"%s\\n\", message);\n}\n\n/* Close the log file pointer THREAD_LOG. */\nvoid close_thread_log (void* thread_log) {\n    fclose ((FILE*) thread_log);    \n}\n\nvoid* thread_function (void* args) {\n    char thread_log_filename[20];\n    FILE* thread_log;\n    /* Generate the filename for this threads log file. */\n    sprintf (thread_log_filename, \"thread%d.log\", (int) pthread_self ());\n    /* Open the log file. */\n    thread_log = fopen (thread_log_filename, \"w\");\n    /* Store the file pointer in thread-specific data under thread_log_key. */\n    pthread_setspecific (thread_log_key, thread_log);\n    write_to_thread_log (\"Thread starting.\");\n    /* Do work here... */\n    return NULL;\n}\n\nint main () {\n    int i;\n    pthread_t threads[5];\n    /* Create a key to associate thread log file pointers in\n    thread-specific data. Use close_thread_log to clean up the file\n    pointers. */\n    pthread_key_create (&thread_log_key, close_thread_log);\n    /* Create threads to do the work. */\n    for (i = 0; i < 5; ++i)\n        pthread_create (&(threads[i]), NULL, thread_function, NULL);\n    /* Wait for all threads to finish. */\n    for (i = 0; i < 5; ++i)\n        pthread_join (threads[i], NULL);\n    return 0;\n}  \n```\n\n```\nvoid pthread_cleanup_push(void (*routine)(void *), void *arg);\nvoid pthread_cleanup_pop(int execute);\n```\n\n1. `pthread_cleanup_push`\n2. `pthread_cleanup_pop``execute`0\n3. \n4. longjump`pthread_cleanup_pop`\n\n### \n\n#### \n\n```\nint pthread_mutex_destroy(pthread_mutex_t *mutex);\nint pthread_mutex_init(pthread_mutex_t *restrict mutex,\n    const pthread_mutexattr_t *restrict attr);\npthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;\n```\n\n1. `pthread_mutex_destroy``pthread_mutex_init`\n2. `pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;`\n\n```\nint pthread_mutex_lock(pthread_mutex_t *mutex);\nint pthread_mutex_trylock(pthread_mutex_t *mutex);\nint pthread_mutex_unlock(pthread_mutex_t *mutex);\n```\n\n1. `pthread_mutex_lock``pthread_mutex_trylock``pthread_mutex_unlock`\n\n```c\n#include <pthread.h>\n\nint main() {\n    pthread_mutexattr_t attr;\n    pthread_mutex_t mutex;\n    pthread_mutexattr_init (&attr);\n    // \n    pthread_mutexattr_setkind_np (&attr, PTHREAD_MUTEX_ERRORCHECK_NP);\n    pthread_mutex_init (&mutex, &attr);\n    pthread_mutex_lock(&mutex);\n    /** do some work **/\n    pthread_mutex_unlock(&mutex);\n    pthread_mutexattr_destroy (&attr);\n}\n```\n\n#### \n\n```\nint sem_init(sem_t *sem, int pshared, unsigned int value);\nint sem_post(sem_t *sem);\nint sem_wait(sem_t *sem);\n```\n\n1. `sem_init``sem``pshared`00`value`0\n2. `sem_wait``sem_wait`0`sem_post`\n3. `sem_post`\n4. `sem_wait``sem_post`\n\n```c\n#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n#include <pthread.h>\n#include <unistd.h>\n#include <semaphore.h>\n\nsem_t semaphore;\n\nvoid threadfunc() {\n    int i = 0;\n    for (; i<10; i++) {\n        // \n        sem_wait(&semaphore);\n        printf(\"Hello from da thread!\\n\");\n        sem_post(&semaphore);\n        sleep(1);\n    }\n}\n\nint main(void) {\n    // \n    sem_init(&semaphore, 0, 1);\n    \n    pthread_t *mythread;    \n    mythread = (pthread_t *)malloc(sizeof(*mythread));\n    \n    // \n    printf(\"Starting thread, semaphore is unlocked.\\n\");\n    pthread_create(mythread, NULL, (void*)threadfunc, NULL);\n    pthread_join(mythread, NULL);\n    \n    return 0;\n}\n```\n\n#### \n\n```\nint pthread_cond_init(pthread_cond_t *restrict cond,\n    const pthread_condattr_t *restrict attr);\npthread_cond_t cond = PTHREAD_COND_INITIALIZER;\nint pthread_cond_signal(pthread_cond_t *cond);\nint pthread_cond_wait(pthread_cond_t *restrict cond,\n   pthread_mutex_t *restrict mutex);\n```\n\n1. `pthread_cond_t cond = PTHREAD_COND_INITIALIZER;``pthread_cond_init(&pthread_cond_t, NULL);`\n2. `pthread_cond_signal``pthread_cond_wait`\n3. `pthread_cond_wait``pthread_cond_signal`\n4. `pthread_cond_timedwait`\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n\npthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;\npthread_cond_t cond = PTHREAD_COND_INITIALIZER;\nint condition = 0;\nint count = 0;\n\nint consume( void )\n{\n    while( 1 )\n    {\n        pthread_mutex_lock( &mutex );\n        while( condition == 0 )\n            pthread_cond_wait( &cond, &mutex );\n        printf( \"Consumed %d\\n\", count );\n        condition = 0;\n        pthread_cond_signal( &cond );        \n        pthread_mutex_unlock( &mutex );\n    }\n\n    return( 0 );\n}\n\nvoid* produce( void * arg )\n{\n    while( 1 )\n    {\n        pthread_mutex_lock( &mutex );\n        while( condition == 1 )\n            pthread_cond_wait( &cond, &mutex );\n        printf( \"Produced %d\\n\", count++ );\n        condition = 1;\n        pthread_cond_signal( &cond );        \n        pthread_mutex_unlock( &mutex );\n    }\n    return( 0 );\n}\n\nint main( void )\n{\n    pthread_create( NULL, NULL, &produce, NULL );\n    return consume();\n}\n```\n\n### \n\nLinux`clone()`\n\n## \n\n### \n\n```\n#include <sys/ipc.h>\n#include <sys/shm.h>\nint shmget(key_t key, size_t size, int shmflg);\nvoid *shmat(int shmid, const void *shmaddr, int shmflg);\nint shmdt(const void *shmaddr);\nint shmctl(int shmid, int cmd, struct shmid_ds *buf);\n```\n\n1. `shmget`\n2. `shmat`1\n3. `shmdt`10\n4. `shmctl`\n\n### \n\n```\n#include <sys/types.h>\n#include <sys/ipc.h>\n#include <sys/sem.h>\nint semget(key_t key, int nsems, int semflg);\nint semctl(int semid, int semnum, int cmd, ...);\nint semop(int semid, struct sembuf *sops, size_t nsops);\n```\n\n1. `semget`\n2. `semctl`\n3. `semop`waitpost\n\n### \n\n```\n#include <sys/mman.h>\nvoid *mmap(void *addr, size_t length, int prot, int flags,\n    int fd, off_t offset);\n```\n\n`mmap`read,write\n\n### \n\n```\n#include <unistd.h>\nint pipe(int pipefd[2]);\n```\n\n`pipe`\n\n### Socket\n\n```\n#include <sys/types.h>\n#include <sys/socket.h>\nint socket(int domain, int type, int protocol);\nint close(int fd);\nint connect(int sockfd, const struct sockaddr *addr,\n    socklen_t addrlen);\nint bind(int sockfd, const struct sockaddr *addr,\n    socklen_t addrlen);\nint listen(int sockfd, int backlog);\nint accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);\n```\n\n1. `socket`socket\n2. `close`socket\n3. `connect`socket\n4. `bind`socket\n5. `listen`socket\n6. `accept`socketsocket\n\n## \n\n### \n\n```\n#include <sys/types.h>\n#include <sys/stat.h>\n#include <fcntl.h>\n#include <unistd.h>\nint mknod(const char *pathname, mode_t mode, dev_t dev);\n```\n\n`mknod`\n\n```\n#include <sys/ioctl.h>\nint ioctl(int d, unsigned long request, ...);\n```\n\n`ioctl`\n\n### \n\n`/dev/null`IO`/dev/null`\n\n`/dev/zero`\n\n`/dev/random`\n\n`/dev/tty*`\n\n`pty`\n\n`pty`\n\n- `ptmx`master\n- `pts`masterslave`pts`SSHmaster`pts`\n\n## /proc\n\n`/proc/cpuinfo`cpu\n\n`/proc/meminfo`\n\n`/proc/self`\n\n`/proc/pid_number`pidpid_number\n\n`/proc/loadavg`\n\n`/proc/uptime`\n\n`/proc/interrupts`\n\n## \n\n`strace`\n\n`access`\n`fcntl`\n\n`fsync``fdatasync`\n\n`getrlimit`\n\n`getrusage`\n\n`gettimeofday`\n\n`mlock`\n\n`mprotect`\n\n## \n\n### ID\n\nIDIDIDShell`id`\n\n```\n# uid0root\nuid=0(root) gid=0(root) groups=0(root),1001(nagcmd)\n```\n\n### \n\n`ls -l APL.txt`\n\n```\n-rw-r--r-- 1 Jayzee None   1237  18 12:19 APL.txt\n```\n\n`-rw-r--r--`\n\n- `-``d`\n- 24`rw-``Jayzee`rwx\n- 57`r--``None`\n- 810`r--`\n\n`man chmod`\n`man chown`\n\n****\n\n```\ndrwxrwxrwt   1 root root 26416 5  18 21:53 tmp\n```\n\nxt`t`sticky bits\n\n### IDID\n\n`euid`ideffective`uid`idreal\n\n`man 2 getuid`Cuid\n`man 2 geteuid`Ceuid\n\neuid\n\n1. Linux Kerneleuid\n2. euiduid\n3. euiduiduid\n\nid\n\n1. Linux\n2. `exec`User Shellpts\n3. LinuxUser Shelleuiduiduideuid0User Shelleuiduid\n\n\n\n1. `euid = uid`Shell\n2. `uid = euid`LinuxeuiduidLinuxroot\n\n`su`\n\n1. `/bin/su`rootxsxs`geteuid`uideuid\n2. Linuxrootuideuid0\n3. `su`User ShellKernelUser Shell\n\nIDID\n","source":"_posts/2016-04-22-advanced-linux-programing.markdown","raw":"---\nlayout: post\ntitle: Advanced Linux Programing\ndate: '2016-04-22 19:03'\ncomments: true\ncategories: ['']  \ntags: ['Linux', 'C/C++']\n---\n\nAdvanced Linux Programing\n\n<!--more-->\n\n## \n\nLinux Kernel\n\n- \n- \n- \n- \n- \n\nGNU Project\n\n- \n- \n- Shell/bin/bashBourne-Again SHell\n\n\n\n1. Linux KernelGNU ProjectLinuxGNU/Linux\n2. LinuxUNIXUNIXFreeBSDSolaris\n\n## Hello, World\n\n### \n\n```c\n/** main.c **/\n#include <stdio.h>\n\nvoid sayHello() {\n    printf(\"Hello, World\\n\");\n}\n\nint main() {\n    sayHello();\n    return 0;\n}\n```\n\nShell`gcc -o main main.c``main``./main``Hello, World``main.c``main`\n\n- main.c --> main.i --> main.s --> main.o --> main\n-  + **(cpp)** -->  + **(ccl)** -->  + **(as)** -->  + printf.o + **(ld)** --> main\n\nShell\n\n```bash\ngcc -E main.c -o main.i\ngcc -S main.i -o main.s --> main.s\ngcc -c main.s -o main.o --> main.o\ngcc main.o -o main --> main\n\n# 4gcc\ngcc main.c -o main\n\n```\n\n`-E`C`-S``-c``-o`\n\n### g++c\n\n```c\n/** main.c **/\n#include <stdio.h>\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\nvoid sayHello();\n#ifdef __cplusplus\n}\n#endif\n\nvoid sayHello() {\n    printf(\"Hello, World\\n\");\n}\n\nint main() {\n    sayHello();\n    return 0;\n}\n```\n\n### gcc\n\n- `-I`\n- `-D`\n- `-O`\n- `-l`\n- `-L`\n\n```bash\n# main\n# /root/\n# DEBUG\n# 20<1<2<30\n# m\n# /usr/local/libm\ngcc main.c -o main -I /root/ -D DEBUG=2 -O2 -lm -L/usr/local/lib\n```\n\n### \n\n1. MakeFile\n2. autoconfautomakelibtool\n\nmakefile\n\n```\nmain.o: main.c\n        gcc -c main.c -o main.o\n\nall: main\n\nmain: main.o\n        gcc main.o -o main\n\nclean:\n        rm main.o main\n```\n\nmakefile\n\n```bash\n# allmain\n# 1-fmakefile\nmake -f makefile all\n# 2makefile\n# GNUmakefile-->makefile-->Makefile\nmake all\n\n# \nmake clean\nmake -f makefile clean\n```\n\nmakefile**commandtab**\n\n```\n# target\n# dependency_filestarget\n# command\ntarget: dependency_files\n        command\n```\n\nmakefile\n\n```\nCC=gcc\nEXE=main\n\nmain.o: main.c\n        $(CC) -c main.c -o main.o\n\nall: $(EXE)\n\n$(EXE): main.o\n        gcc main.o -o $(EXE)\n\nclean:\n        rm main.o $(EXE)\n```\n\nmakefile\n\n```bash\nmake EXE=mm all\nmake EXE=mm clean\n```\n\n### GDB\n\n`gdb `gdb\n2. `break main`main`break main.c:5``main.c`5\n3. `i b`\n4. `delete 1`\n5. `disable 1`\n6. `list main.c:5`gdb\n6. `r``run`gdb`n``next``s``step``return`\n7. gdb`print `\n8. `where``bt``backtrace`\n\n### \n\n`man ``man printf`\n\n```\nMan:  (set MAN_POSIXLY_CORRECT to avoid this)\n * printf (1)\n   printf (3)\n   printf (1p)\n   printf (3p)\nMan: \nMan: \n```\n\n1. 1user commands**echo**\n2. 2system calls**fork**\n3. 3stand library**printf**\n4. pPOSIXPOSIXPOSIXPOSIX\n\n## \n\n### \n\n1. \n    - `man mkstemp`\n    - `man tmpfile`\n1. \n    - shell`echo $USER``printenv USER``USER`\n    - shell`export USER=jayzee``USER``jayzee`\n    - shell`env`\n    - LinuxC/C++`stdlib.h``getenv``setenv``unsetenv`\n1. shell`echo $?`0\n1. IO\n    - `stdin`int0`stdout`int1`stderr`int2\n    - `stdin`bufferedbuffered size\n    - `stderr`unbuffered\n    - shell`stdout`line-bufferedbufferedbuffered size`man setvbuf`\n    - buffered`fflush(your_file)`buffer\n    - shell`your_program > output_file.txt 2>&1``your_program``output_file.txt``>``>>`Linux\n    - shell`program 2>&1 | filter`Linux\n1. `man getopt_long``getopt.h``ls -l``-l`\n\n### \n\nassert\n\n- true0`assert(condition)`\n- `-DNDEBUG`assert**assert**\n\n\n\n- `fork``errno`\n- `man strerror``string.h``strerror`\n\n```\nEINTR : blocking function interrupt, like sleep, read, select\nEPERM : Permission denied\nEROFS : PATH is on a read-only file system\nENAMETOOLONG : PATH is too long\nENOENT : PATH does not exit\nENOTDIR : A component of PATH is not a directory\nEACCES : A component of PATH is not accessible\nEFAULT : PATH contains an invalid memory address.  This is probably a bug\nENOMEM : Ran out of kernel memory\n```\n\n\n\n- \n\n### \n\n[C++ -  - ](http://www.cnblogs.com/skynet/p/3372855.html)\n\nmain.c\n\n```bash\n/** main.c **/\nint add(int x, int y) {\n    return x + y;\n}\n```\n\n#### \n\n\n\n- \n- \n- \n\n\n\n- lib[your_library_name].alib.a\n- .oar.a\n\n```bash\n# math.cint add(int x, int y)\ngcc -c math.c -o math.o\nar -crv libmath.a math.o\n```\n\n\n\n- -Llib.a-l\n\n```bash\n# -l\ngcc main.c -o main -Lfilepath_of_your_static_library -lmath\n```\n\n\n\n- \n- \n\n#### \n\n\n\n- \n- \n- \n- \n\n\n\n- lib[your_library_name].solib.so\n- .ogcc.so\n    - `-fPIC`picposition independent code\n    - `-shared`\n\n```bash\n# math.cint add(int x, int y)\ngcc -fPIC -c math.c -o math.o\ngcc -shared -o libmath.so math.o\n# \ngcc -fPIC -shared -o libmath.so math.c\n```\n\n\n\n- -Llib.so-l\n\n```bash\ngcc main.c -o main -Lfilepath_of_your_static_library -lmath\n```\n\n- \n    - LD_LIBRARY_PATH`LD_LIBRARY_PATH=/usr/local/lib:/opt/lib`\n    - /etc/ld.so.cache\n        + /etc/ld.so.conf\n        + ldconfig /etc/ld.so.cache\n    - /lib//usr/lib\n- `-L`\n\n\n\n- \n- \n\n#### \n\n`nm`nm\n\n- ()U\n- T\n- W\n\n`ldd`\n\n## \n\n[LinuxForkExec - hicjiajia - ](http://www.cnblogs.com/hicjiajia/archive/2011/01/20/1940154.html)[(3)](http://www.ibm.com/developerworks/cn/linux/kernel/syscall/part3/index.html)\n\n### \n\n`pid`id`ppid`id\n\n1. Linux****initinit`pid`1ppid0\n2. shell`ps -e -o pid,ppid,command`pidppidcommand\n3. `unistd.h``getpid()``getppid()`IDID\n\n### \n\n#### systemshell\n\nsystemC/C++shellAPI\n\n```bash\n#include <stdlib.h>\nint system(const char *command);\n```\n\n\n\n1. `fork()`\n2. `execl(\"/bin/sh\", \"sh\". \"-c\", command, (char *) 0);`shellcommand\n\n#### forkexec\n\n##### fork\n\nforkAPI\n\n```bash\n#include <unistd.h>\npid_t fork(void);\n```\n\nfork\n\n- fork`pid>0``pid==0`\n- fork**fork**\n- forkpidppidforkid\n\npid_t\n\n```c\n/* zombie.c */\n#include <sys/types.h>\n#include <unistd.h>\nint main() {\n    pid_t pid;\n    pid=fork();\n    if(pid<0) /*  */\n        printf(\"error occurred!\\n\");\n    else if(pid==0) /*  */\n        exit(0);\n    else /*  */\n        sleep(60); /* 60 */\n    wait(NULL); /*  */\n}\n```\n\n##### exec\n\nexec\n\n```c\n#include <unistd.h>\nint execl(const char *path, const char *arg, ...);\nint execlp(const char *file, const char *arg, ...);\nint execle(const char *path, const char *arg, ..., char *const envp[]);\nint execv(const char *path, char *const argv[]);\nint execvp(const char *file, char *const argv[]);\nint execve(const char *path, char *const argv[], char *const envp[]);\n```\n\n`execl`5vl\n\nexec\n\n- pidexec\n- forkforkexec****fork\n\n\n\n```c\n#include <errno.h>\n#include <stdio.h>\n#include <stdlib.h>\n\nchar command[256];\nvoid main()\n{\n   int rtn; /**/\n   while(1) {\n       /*  */\n       printf( \">\" );\n       fgets( command, 256, stdin );\n       command[strlen(command)-1] = 0;\n       if ( fork() == 0 ) {/*  */\n          execlp( command, NULL );\n          /* exec*/\n          perror( command );\n          exit( errno );\n       }\n       else {/*   */\n          wait ( &rtn );\n          printf( \" child process return %d\\n\", rtn );\n       }\n   }\n}\n```\n\n### \n\n\n\n- \n- \n- \n\n`signal()`\n\n```c\n// SIGPIPE\nsignal ( SIGPIPE, SIG_IGN );\n// PrepareExitSIGINT\nsignal ( SIGINT, (__sighandler_t ) PrepareExit );\n```\n\nLinux\n\n```\n  \nSIGHUP 1 A \nSIGINT 2 A break\nSIGQUIT 3 C \nSIGILL 4 C \nSIGABRT 6 C abort(3)\nSIGFPE 8 C \nSIGKILL 9 AEF Kill\nSIGSEGV 11 C \nSIGPIPE 13 A : \nSIGALRM 14 A alarm(2)\nSIGTERM 15 A \nSIGUSR1 30,10,16 A 1\nSIGUSR2 31,12,17 A 2\nSIGCHLD 20,17,18 B \nSIGCONT 19,18,25 \nSIGSTOP 17,19,23 DEF \nSIGTSTP 18,20,24 D tty\nSIGTTIN 21,21,26 D \nSIGTTOU 22,22,27 D \n\n\nA \nB \nC dump core\nD ptrace\nE \nF \n```\n\n****\n\n\n\n### \n\n#### \n\n1. `SIGINT`CRTL+C\n2. `SIGTERM`shell`kill pid`\n3. `abort()``SIGABRT`\n4. `SIGKILL`shell`kill -9 pid`\n\nshell`echo $?`exit code\n\n- exit code128\n- `exit(int exit_code)`exit_code0128\n\n\n\n- shell`kill -s SIGNAL_NAME pid`pidSIGNAL_NAME\n- `kill(pid, SIGNAL_NAME)`\n\n#### wait\n\nUnixpidexit codeCPU`wait`pidexit code\n\n`wait`API\n\n```c\npid_t wait(int *status);\n```\n\n\n\n- `wait`\n- `pid_t`-1`wait``pid_t`pid\n- `status`status\n- `WIFEXITED(status)`0`WTERMSIG(status)`int`WEXITSTATUS(status)`exit code`exit(7)``WEXITSTATUS(status)`7\n\n```c\n/* wait2.c */\n#include <sys/types.h>\n#include <sys/wait.h>\n#include <unistd.h>\n#include <stdio.h>\n#include <stdlib.h>\n\nmain()\n{\n    int status;\n    pid_t pc,pr;\n    pc=fork();\n    if(pc<0)     /*  */\n        printf(\"error ocurred!\\n\");\n    else if(pc==0){ /*  */\n        printf(\"This is child process with pid of %d.\\n\",getpid());\n        exit(3);    /* 3 */\n    }\n    else{       /*  */\n        pr=wait(&status);\n        if(WIFEXITED(status)){  /* WIFEXITED */\n            printf(\"the child process %d exit normally.\\n\",pr);\n            printf(\"the return code is %d.\\n\",WEXITSTATUS(status));\n        }else           /* WIFEXITEDprpid */\n            printf(\"the child process %d exit abnormally with signal number %d.\\n\",pr,WTERMSIG(status));\n    }\n}\n```\n\n#### \n\n`wait`\n\n```\n$ ps -ax\n  PID TTY      STAT   TIME COMMAND\n 1177 pts/0    S      0:00 -bash\n 1577 pts/0    S      0:00 ./zombie\n 1578 pts/0    Z      0:00 [zombie <defunct>]\n 1579 pts/0    R      0:00 ps -ax\n```\n\nSTATZ\n\n- init\n- SIGCHLD\n- `wait3``wait4`\n\n## \n\n### \n\n****`int pthread_create(pthread_t *thread, const pthread_attr_t *attr,\nvoid *(*start_routine) (void *), void *arg);`\n\n- `pthread_create`0\n- `thread``pthread_t`\n- `pthread_attr_t`\n- `start_routine`\n- `arg`\n\n****`int pthread_join(pthread_t thread, void **retval);`\n\n- `retval``exit``pthread_exit`\n- `When a joinable thread terminates, its memory resources (thread descriptor and stack) are not deallocated until another thread performs pthread_join on it. Therefore, pthread_join must be called  once  for each joinable thread created to avoid memory leaks.`\n- \n\n****`void pthread_exit(void *retval);`\n\n- `retval`\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n#include <unistd.h>\n\nint code = 11;\n\nvoid hello(void *args) {\n    char *str = (char *) args;\n    sleep(5);\n    printf(\"Hello, %s!\\n\", str);\n    pthread_exit(&code);\n}\n\nint main() {\n    pthread_t thread;\n    int status = pthread_create(&thread, NULL, (void *)hello, (void *) \"Jayzee\");\n    printf(\"thread create status : %d\\n\", status);\n    int *exit_code = 0;\n    status = pthread_join(thread, (void *) &exit_code);\n    printf(\"thread join status : %d\\n\", status);\n    printf(\"thread exit code : %d\\n\", *exit_code);\n    return 0;\n}\n```\n\n------\n\n`pthread_create``pthread_attr_t`\n\n1. `pthread_attr_t`\n2. `pthread_attr_t`\n3. `pthread_attr_t`\n4. `pthread_attr_t`\n\n\n\n1. detach\n2. detach`int pthread_detach(pthread_t thread);`detach\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n#include <unistd.h>\n\nint code = 11;\n\nvoid hello(void *args) {\n    char *str = (char *) args;\n    sleep(5);\n    printf(\"Hello, %s!\\n\", str);\n    pthread_exit(&code);\n}\n\nint main() {\n    pthread_t thread;\n    pthread_attr_t attr;\n    pthread_attr_init (&attr);\n    pthread_attr_setdetachstate (&attr, PTHREAD_CREATE_DETACHED);\n    int status = pthread_create (&thread, &attr, (void *)hello, (void *) \"Jayzee\");\n    pthread_attr_destroy (&attr);\n    printf(\"thread create status : %d\\n\", status);\n    return 0;\n}\n```\n\n### \n\n```\nint pthread_setcancelstate(int state, int *oldstate);\nint pthread_setcanceltype(int type, int *oldtype);\nint pthread_cancel(pthread_t thread);\n```\n\n- `pthread_setcancelstate``state``oldstate`\n- `pthread_setcanceltype``type``oldtype`\n- `pthread_cancel`\n\n\n\n\n1. type`PTHREAD_CANCEL_DEFERRED``PTHREAD_CANCEL_ASYNCHRONOUS`\n2. state`PTHREAD_CANCEL_ENABLE``PTHREAD_CANCEL_DISABLE`\n3. typestate`pthread_cancel`\n    - state`PTHREAD_CANCEL_DISABLE`type`pthread_cancel`\n    - type`PTHREAD_CANCEL_DEFERRED`type`PTHREAD_CANCEL_ASYNCHRONOUS`\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n#include <unistd.h>\n\nint code = 11;\n\nvoid hello(void *args) {\n    pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, &last_state); \n    pthread_setcanceltype(PTHREAD_CANCEL_DEFERRED, &last_type);\n    char *str = (char *) args;\n    sleep(5);\n    printf(\"Hello, %s!\\n\", str);\n    pthread_exit(&code);\n}\n\nint main() {\n    pthread_t thread;\n    int status = pthread_create(&thread, NULL, (void *)hello, (void *) \"Jayzee\");\n    printf(\"thread create status : %d\\n\", status);\n    int *exit_code = 0;\n    status = pthread_join(thread, (void *) &exit_code);\n    printf(\"thread join status : %d\\n\", status);\n    printf(\"thread exit code : %d\\n\", *exit_code);\n    pthread_cancel(thread);\n    return 0;\n}\n```\n\n### \n\n```\nint pthread_key_create(pthread_key_t *key, void (*destructor)(void*));\nint pthread_setspecific(pthread_key_t key, const void *value);\nvoid *pthread_getspecific(pthread_key_t key);\n```\n\n1. `pthread_key_create``key``destructor``key`\n2. `pthread_setspecific`key-value`pthread_getspecific`keyvalue\n3. `pthread_getspecific``destructor``pthread_getspecific``destructor`\n\n```c\n#include <malloc.h>\n#include <pthread.h>\n#include <stdio.h>\n\n/* The key used to associate a log file pointer with each thread. */\nstatic pthread_key_t thread_log_key;\n\n/* Write MESSAGE to the log file for the current thread. */\nvoid write_to_thread_log (const char* message) {\n    FILE* thread_log = (FILE*) pthread_getspecific (thread_log_key);\n    fprintf (thread_log, \"%s\\n\", message);\n}\n\n/* Close the log file pointer THREAD_LOG. */\nvoid close_thread_log (void* thread_log) {\n    fclose ((FILE*) thread_log);    \n}\n\nvoid* thread_function (void* args) {\n    char thread_log_filename[20];\n    FILE* thread_log;\n    /* Generate the filename for this threads log file. */\n    sprintf (thread_log_filename, \"thread%d.log\", (int) pthread_self ());\n    /* Open the log file. */\n    thread_log = fopen (thread_log_filename, \"w\");\n    /* Store the file pointer in thread-specific data under thread_log_key. */\n    pthread_setspecific (thread_log_key, thread_log);\n    write_to_thread_log (\"Thread starting.\");\n    /* Do work here... */\n    return NULL;\n}\n\nint main () {\n    int i;\n    pthread_t threads[5];\n    /* Create a key to associate thread log file pointers in\n    thread-specific data. Use close_thread_log to clean up the file\n    pointers. */\n    pthread_key_create (&thread_log_key, close_thread_log);\n    /* Create threads to do the work. */\n    for (i = 0; i < 5; ++i)\n        pthread_create (&(threads[i]), NULL, thread_function, NULL);\n    /* Wait for all threads to finish. */\n    for (i = 0; i < 5; ++i)\n        pthread_join (threads[i], NULL);\n    return 0;\n}  \n```\n\n```\nvoid pthread_cleanup_push(void (*routine)(void *), void *arg);\nvoid pthread_cleanup_pop(int execute);\n```\n\n1. `pthread_cleanup_push`\n2. `pthread_cleanup_pop``execute`0\n3. \n4. longjump`pthread_cleanup_pop`\n\n### \n\n#### \n\n```\nint pthread_mutex_destroy(pthread_mutex_t *mutex);\nint pthread_mutex_init(pthread_mutex_t *restrict mutex,\n    const pthread_mutexattr_t *restrict attr);\npthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;\n```\n\n1. `pthread_mutex_destroy``pthread_mutex_init`\n2. `pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;`\n\n```\nint pthread_mutex_lock(pthread_mutex_t *mutex);\nint pthread_mutex_trylock(pthread_mutex_t *mutex);\nint pthread_mutex_unlock(pthread_mutex_t *mutex);\n```\n\n1. `pthread_mutex_lock``pthread_mutex_trylock``pthread_mutex_unlock`\n\n```c\n#include <pthread.h>\n\nint main() {\n    pthread_mutexattr_t attr;\n    pthread_mutex_t mutex;\n    pthread_mutexattr_init (&attr);\n    // \n    pthread_mutexattr_setkind_np (&attr, PTHREAD_MUTEX_ERRORCHECK_NP);\n    pthread_mutex_init (&mutex, &attr);\n    pthread_mutex_lock(&mutex);\n    /** do some work **/\n    pthread_mutex_unlock(&mutex);\n    pthread_mutexattr_destroy (&attr);\n}\n```\n\n#### \n\n```\nint sem_init(sem_t *sem, int pshared, unsigned int value);\nint sem_post(sem_t *sem);\nint sem_wait(sem_t *sem);\n```\n\n1. `sem_init``sem``pshared`00`value`0\n2. `sem_wait``sem_wait`0`sem_post`\n3. `sem_post`\n4. `sem_wait``sem_post`\n\n```c\n#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n#include <pthread.h>\n#include <unistd.h>\n#include <semaphore.h>\n\nsem_t semaphore;\n\nvoid threadfunc() {\n    int i = 0;\n    for (; i<10; i++) {\n        // \n        sem_wait(&semaphore);\n        printf(\"Hello from da thread!\\n\");\n        sem_post(&semaphore);\n        sleep(1);\n    }\n}\n\nint main(void) {\n    // \n    sem_init(&semaphore, 0, 1);\n    \n    pthread_t *mythread;    \n    mythread = (pthread_t *)malloc(sizeof(*mythread));\n    \n    // \n    printf(\"Starting thread, semaphore is unlocked.\\n\");\n    pthread_create(mythread, NULL, (void*)threadfunc, NULL);\n    pthread_join(mythread, NULL);\n    \n    return 0;\n}\n```\n\n#### \n\n```\nint pthread_cond_init(pthread_cond_t *restrict cond,\n    const pthread_condattr_t *restrict attr);\npthread_cond_t cond = PTHREAD_COND_INITIALIZER;\nint pthread_cond_signal(pthread_cond_t *cond);\nint pthread_cond_wait(pthread_cond_t *restrict cond,\n   pthread_mutex_t *restrict mutex);\n```\n\n1. `pthread_cond_t cond = PTHREAD_COND_INITIALIZER;``pthread_cond_init(&pthread_cond_t, NULL);`\n2. `pthread_cond_signal``pthread_cond_wait`\n3. `pthread_cond_wait``pthread_cond_signal`\n4. `pthread_cond_timedwait`\n\n```c\n#include <stdio.h>\n#include <pthread.h>\n\npthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;\npthread_cond_t cond = PTHREAD_COND_INITIALIZER;\nint condition = 0;\nint count = 0;\n\nint consume( void )\n{\n    while( 1 )\n    {\n        pthread_mutex_lock( &mutex );\n        while( condition == 0 )\n            pthread_cond_wait( &cond, &mutex );\n        printf( \"Consumed %d\\n\", count );\n        condition = 0;\n        pthread_cond_signal( &cond );        \n        pthread_mutex_unlock( &mutex );\n    }\n\n    return( 0 );\n}\n\nvoid* produce( void * arg )\n{\n    while( 1 )\n    {\n        pthread_mutex_lock( &mutex );\n        while( condition == 1 )\n            pthread_cond_wait( &cond, &mutex );\n        printf( \"Produced %d\\n\", count++ );\n        condition = 1;\n        pthread_cond_signal( &cond );        \n        pthread_mutex_unlock( &mutex );\n    }\n    return( 0 );\n}\n\nint main( void )\n{\n    pthread_create( NULL, NULL, &produce, NULL );\n    return consume();\n}\n```\n\n### \n\nLinux`clone()`\n\n## \n\n### \n\n```\n#include <sys/ipc.h>\n#include <sys/shm.h>\nint shmget(key_t key, size_t size, int shmflg);\nvoid *shmat(int shmid, const void *shmaddr, int shmflg);\nint shmdt(const void *shmaddr);\nint shmctl(int shmid, int cmd, struct shmid_ds *buf);\n```\n\n1. `shmget`\n2. `shmat`1\n3. `shmdt`10\n4. `shmctl`\n\n### \n\n```\n#include <sys/types.h>\n#include <sys/ipc.h>\n#include <sys/sem.h>\nint semget(key_t key, int nsems, int semflg);\nint semctl(int semid, int semnum, int cmd, ...);\nint semop(int semid, struct sembuf *sops, size_t nsops);\n```\n\n1. `semget`\n2. `semctl`\n3. `semop`waitpost\n\n### \n\n```\n#include <sys/mman.h>\nvoid *mmap(void *addr, size_t length, int prot, int flags,\n    int fd, off_t offset);\n```\n\n`mmap`read,write\n\n### \n\n```\n#include <unistd.h>\nint pipe(int pipefd[2]);\n```\n\n`pipe`\n\n### Socket\n\n```\n#include <sys/types.h>\n#include <sys/socket.h>\nint socket(int domain, int type, int protocol);\nint close(int fd);\nint connect(int sockfd, const struct sockaddr *addr,\n    socklen_t addrlen);\nint bind(int sockfd, const struct sockaddr *addr,\n    socklen_t addrlen);\nint listen(int sockfd, int backlog);\nint accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);\n```\n\n1. `socket`socket\n2. `close`socket\n3. `connect`socket\n4. `bind`socket\n5. `listen`socket\n6. `accept`socketsocket\n\n## \n\n### \n\n```\n#include <sys/types.h>\n#include <sys/stat.h>\n#include <fcntl.h>\n#include <unistd.h>\nint mknod(const char *pathname, mode_t mode, dev_t dev);\n```\n\n`mknod`\n\n```\n#include <sys/ioctl.h>\nint ioctl(int d, unsigned long request, ...);\n```\n\n`ioctl`\n\n### \n\n`/dev/null`IO`/dev/null`\n\n`/dev/zero`\n\n`/dev/random`\n\n`/dev/tty*`\n\n`pty`\n\n`pty`\n\n- `ptmx`master\n- `pts`masterslave`pts`SSHmaster`pts`\n\n## /proc\n\n`/proc/cpuinfo`cpu\n\n`/proc/meminfo`\n\n`/proc/self`\n\n`/proc/pid_number`pidpid_number\n\n`/proc/loadavg`\n\n`/proc/uptime`\n\n`/proc/interrupts`\n\n## \n\n`strace`\n\n`access`\n`fcntl`\n\n`fsync``fdatasync`\n\n`getrlimit`\n\n`getrusage`\n\n`gettimeofday`\n\n`mlock`\n\n`mprotect`\n\n## \n\n### ID\n\nIDIDIDShell`id`\n\n```\n# uid0root\nuid=0(root) gid=0(root) groups=0(root),1001(nagcmd)\n```\n\n### \n\n`ls -l APL.txt`\n\n```\n-rw-r--r-- 1 Jayzee None   1237  18 12:19 APL.txt\n```\n\n`-rw-r--r--`\n\n- `-``d`\n- 24`rw-``Jayzee`rwx\n- 57`r--``None`\n- 810`r--`\n\n`man chmod`\n`man chown`\n\n****\n\n```\ndrwxrwxrwt   1 root root 26416 5  18 21:53 tmp\n```\n\nxt`t`sticky bits\n\n### IDID\n\n`euid`ideffective`uid`idreal\n\n`man 2 getuid`Cuid\n`man 2 geteuid`Ceuid\n\neuid\n\n1. Linux Kerneleuid\n2. euiduid\n3. euiduiduid\n\nid\n\n1. Linux\n2. `exec`User Shellpts\n3. LinuxUser Shelleuiduiduideuid0User Shelleuiduid\n\n\n\n1. `euid = uid`Shell\n2. `uid = euid`LinuxeuiduidLinuxroot\n\n`su`\n\n1. `/bin/su`rootxsxs`geteuid`uideuid\n2. Linuxrootuideuid0\n3. `su`User ShellKernelUser Shell\n\nIDID\n","slug":"advanced-linux-programing","published":1,"updated":"2020-04-12T03:41:20.727Z","_id":"ck8wh7las000y4supbnriy8vk","photos":[],"link":"","content":"<p>Advanced Linux Programing</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Linux Kernel</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>GNU Project</p>\n<ul>\n<li></li>\n<li></li>\n<li>Shell/bin/bashBourne-Again SHell</li>\n</ul>\n<p></p>\n<ol>\n<li>Linux KernelGNU ProjectLinuxGNU/Linux</li>\n<li>LinuxUNIXUNIXFreeBSDSolaris</li>\n</ol>\n<h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello, World\"></a>Hello, World</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** main.c **/</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sayHello</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, World\\n\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    sayHello();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Shell<code>gcc -o main main.c</code><code>main</code><code>./main</code><code>Hello, World</code><code>main.c</code><code>main</code></p>\n<ul>\n<li>main.c &gt; main.i &gt; main.s &gt; main.o &gt; main</li>\n<li> + <strong>(cpp)</strong> &gt;  + <strong>(ccl)</strong> &gt;  + <strong>(as)</strong> &gt;  + printf.o + <strong>(ld)</strong> &gt; main</li>\n</ul>\n<p>Shell</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -E main.c -o main.i</span><br><span class=\"line\">gcc -S main.i -o main.s --&gt; main.s</span><br><span class=\"line\">gcc -c main.s -o main.o --&gt; main.o</span><br><span class=\"line\">gcc main.o -o main --&gt; main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4gcc</span></span><br><span class=\"line\">gcc main.c -o main</span><br></pre></td></tr></table></figure>\n<p><code>-E</code>C<code>-S</code><code>-c</code><code>-o</code></p>\n<h3 id=\"g-c\"><a href=\"#g-c\" class=\"headerlink\" title=\"g++c\"></a>g++c</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** main.c **/</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifdef</span> __cplusplus</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"string\">\"C\"</span> &#123;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sayHello</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifdef</span> __cplusplus</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sayHello</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, World\\n\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    sayHello();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"gcc\"><a href=\"#gcc\" class=\"headerlink\" title=\"gcc\"></a>gcc</h3><ul>\n<li><code>-I</code></li>\n<li><code>-D</code></li>\n<li><code>-O</code></li>\n<li><code>-l</code></li>\n<li><code>-L</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># main</span></span><br><span class=\"line\"><span class=\"comment\"># /root/</span></span><br><span class=\"line\"><span class=\"comment\"># DEBUG</span></span><br><span class=\"line\"><span class=\"comment\"># 20&lt;1&lt;2&lt;30</span></span><br><span class=\"line\"><span class=\"comment\"># m</span></span><br><span class=\"line\"><span class=\"comment\"># /usr/local/libm</span></span><br><span class=\"line\">gcc main.c -o main -I /root/ -D DEBUG=2 -O2 -lm -L/usr/<span class=\"built_in\">local</span>/lib</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>MakeFile</li>\n<li>autoconfautomakelibtool</li>\n</ol>\n<p>makefile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.o: main.c</span><br><span class=\"line\">        gcc -c main.c -o main.o</span><br><span class=\"line\"></span><br><span class=\"line\">all: main</span><br><span class=\"line\"></span><br><span class=\"line\">main: main.o</span><br><span class=\"line\">        gcc main.o -o main</span><br><span class=\"line\"></span><br><span class=\"line\">clean:</span><br><span class=\"line\">        rm main.o main</span><br></pre></td></tr></table></figure>\n<p>makefile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># allmain</span></span><br><span class=\"line\"><span class=\"comment\"># 1-fmakefile</span></span><br><span class=\"line\">make -f makefile all</span><br><span class=\"line\"><span class=\"comment\"># 2makefile</span></span><br><span class=\"line\"><span class=\"comment\"># GNUmakefile--&gt;makefile--&gt;Makefile</span></span><br><span class=\"line\">make all</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">make clean</span><br><span class=\"line\">make -f makefile clean</span><br></pre></td></tr></table></figure>\n<p>makefile<strong>commandtab</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># target</span><br><span class=\"line\"># dependency_filestarget</span><br><span class=\"line\"># command</span><br><span class=\"line\">target: dependency_files</span><br><span class=\"line\">        command</span><br></pre></td></tr></table></figure>\n<p>makefile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CC=gcc</span><br><span class=\"line\">EXE=main</span><br><span class=\"line\"></span><br><span class=\"line\">main.o: main.c</span><br><span class=\"line\">        $(CC) -c main.c -o main.o</span><br><span class=\"line\"></span><br><span class=\"line\">all: $(EXE)</span><br><span class=\"line\"></span><br><span class=\"line\">$(EXE): main.o</span><br><span class=\"line\">        gcc main.o -o $(EXE)</span><br><span class=\"line\"></span><br><span class=\"line\">clean:</span><br><span class=\"line\">        rm main.o $(EXE)</span><br></pre></td></tr></table></figure>\n<p>makefile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make EXE=mm all</span><br><span class=\"line\">make EXE=mm clean</span><br></pre></td></tr></table></figure>\n<h3 id=\"GDB\"><a href=\"#GDB\" class=\"headerlink\" title=\"GDB\"></a>GDB</h3><p><code>gdb </code>gdb</p>\n<ol start=\"2\">\n<li><code>break main</code>main<code>break main.c:5</code><code>main.c</code>5</li>\n<li><code>i b</code></li>\n<li><code>delete 1</code></li>\n<li><code>disable 1</code></li>\n<li><code>list main.c:5</code>gdb</li>\n<li><code>r</code><code>run</code>gdb<code>n</code><code>next</code><code>s</code><code>step</code><code>return</code></li>\n<li>gdb<code>print </code></li>\n<li><code>where</code><code>bt</code><code>backtrace</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>man </code><code>man printf</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Man:  (set MAN_POSIXLY_CORRECT to avoid this)</span><br><span class=\"line\"> * printf (1)</span><br><span class=\"line\">   printf (3)</span><br><span class=\"line\">   printf (1p)</span><br><span class=\"line\">   printf (3p)</span><br><span class=\"line\">Man: </span><br><span class=\"line\">Man:</span><br></pre></td></tr></table></figure>\n<ol>\n<li>1user commands<strong>echo</strong></li>\n<li>2system calls<strong>fork</strong></li>\n<li>3stand library<strong>printf</strong></li>\n<li>pPOSIXPOSIXPOSIXPOSIX</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><ul>\n<li><code>man mkstemp</code></li>\n<li><code>man tmpfile</code></li>\n</ul>\n</li>\n<li><ul>\n<li>shell<code>echo $USER</code><code>printenv USER</code><code>USER</code></li>\n<li>shell<code>export USER=jayzee</code><code>USER</code><code>jayzee</code></li>\n<li>shell<code>env</code></li>\n<li>LinuxC/C++<code>stdlib.h</code><code>getenv</code><code>setenv</code><code>unsetenv</code></li>\n</ul>\n</li>\n<li>shell<code>echo $?</code>0</li>\n<li>IO<ul>\n<li><code>stdin</code>int0<code>stdout</code>int1<code>stderr</code>int2</li>\n<li><code>stdin</code>bufferedbuffered size</li>\n<li><code>stderr</code>unbuffered</li>\n<li>shell<code>stdout</code>line-bufferedbufferedbuffered size<code>man setvbuf</code></li>\n<li>buffered<code>fflush(your_file)</code>buffer</li>\n<li>shell<code>your_program &gt; output_file.txt 2&gt;&amp;1</code><code>your_program</code><code>output_file.txt</code><code>&gt;</code><code>&gt;&gt;</code>Linux</li>\n<li>shell<code>program 2&gt;&amp;1 | filter</code>Linux</li>\n</ul>\n</li>\n<li><code>man getopt_long</code><code>getopt.h</code><code>ls -l</code><code>-l</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>assert</p>\n<ul>\n<li>true0<code>assert(condition)</code></li>\n<li><code>-DNDEBUG</code>assert<strong>assert</strong></li>\n</ul>\n<p></p>\n<ul>\n<li><code>fork</code><code>errno</code></li>\n<li><code>man strerror</code><code>string.h</code><code>strerror</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">EINTR : blocking function interrupt, like sleep, read, select</span><br><span class=\"line\">EPERM : Permission denied</span><br><span class=\"line\">EROFS : PATH is on a read-only file system</span><br><span class=\"line\">ENAMETOOLONG : PATH is too long</span><br><span class=\"line\">ENOENT : PATH does not exit</span><br><span class=\"line\">ENOTDIR : A component of PATH is not a directory</span><br><span class=\"line\">EACCES : A component of PATH is not accessible</span><br><span class=\"line\">EFAULT : PATH contains an invalid memory address.  This is probably a bug</span><br><span class=\"line\">ENOMEM : Ran out of kernel memory</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://www.cnblogs.com/skynet/p/3372855.html\" target=\"_blank\" rel=\"noopener\">C++ -  - </a></p>\n<p>main.c</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/** main.c **/</span><br><span class=\"line\">int add(int x, int y) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">return</span> x + y;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>lib[your_library_name].alib.a</li>\n<li>.oar.a</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># math.cint add(int x, int y)</span></span><br><span class=\"line\">gcc -c math.c -o math.o</span><br><span class=\"line\">ar -crv libmath.a math.o</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>-Llib.a-l</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -l</span></span><br><span class=\"line\">gcc main.c -o main -Lfilepath_of_your_static_library -lmath</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>lib[your_library_name].solib.so</li>\n<li>.ogcc.so<ul>\n<li><code>-fPIC</code>picposition independent code</li>\n<li><code>-shared</code></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># math.cint add(int x, int y)</span></span><br><span class=\"line\">gcc -fPIC -c math.c -o math.o</span><br><span class=\"line\">gcc -shared -o libmath.so math.o</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">gcc -fPIC -shared -o libmath.so math.c</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>-Llib.so-l</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc main.c -o main -Lfilepath_of_your_static_library -lmath</span><br></pre></td></tr></table></figure>\n<ul>\n<li><ul>\n<li>LD_LIBRARY_PATH<code>LD_LIBRARY_PATH=/usr/local/lib:/opt/lib</code></li>\n<li>/etc/ld.so.cache<ul>\n<li>/etc/ld.so.conf</li>\n<li>ldconfig /etc/ld.so.cache</li>\n</ul>\n</li>\n<li>/lib//usr/lib</li>\n</ul>\n</li>\n<li><code>-L</code></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>nm</code>nm</p>\n<ul>\n<li>()U</li>\n<li>T</li>\n<li>W</li>\n</ul>\n<p><code>ldd</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.cnblogs.com/hicjiajia/archive/2011/01/20/1940154.html\" target=\"_blank\" rel=\"noopener\">LinuxForkExec - hicjiajia - </a><a href=\"http://www.ibm.com/developerworks/cn/linux/kernel/syscall/part3/index.html\" target=\"_blank\" rel=\"noopener\">(3)</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>pid</code>id<code>ppid</code>id</p>\n<ol>\n<li>Linux<strong></strong>initinit<code>pid</code>1ppid0</li>\n<li>shell<code>ps -e -o pid,ppid,command</code>pidppidcommand</li>\n<li><code>unistd.h</code><code>getpid()</code><code>getppid()</code>IDID</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"systemshell\"><a href=\"#systemshell\" class=\"headerlink\" title=\"systemshell\"></a>systemshell</h4><p>systemC/C++shellAPI</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#include &lt;stdlib.h&gt;</span></span><br><span class=\"line\">int system(const char *<span class=\"built_in\">command</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>fork()</code></li>\n<li><code>execl(&quot;/bin/sh&quot;, &quot;sh&quot;. &quot;-c&quot;, command, (char *) 0);</code>shellcommand</li>\n</ol>\n<h4 id=\"forkexec\"><a href=\"#forkexec\" class=\"headerlink\" title=\"forkexec\"></a>forkexec</h4><h5 id=\"fork\"><a href=\"#fork\" class=\"headerlink\" title=\"fork\"></a>fork</h5><p>forkAPI</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#include &lt;unistd.h&gt;</span></span><br><span class=\"line\">pid_t fork(void);</span><br></pre></td></tr></table></figure>\n<p>fork</p>\n<ul>\n<li>fork<code>pid&gt;0</code><code>pid==0</code></li>\n<li>fork<strong>fork</strong></li>\n<li>forkpidppidforkid</li>\n</ul>\n<p>pid_t</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* zombie.c */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/types.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pid_t</span> pid;</span><br><span class=\"line\">    pid=fork();</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pid&lt;<span class=\"number\">0</span>) <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"error occurred!\\n\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(pid==<span class=\"number\">0</span>) <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">exit</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        sleep(<span class=\"number\">60</span>); <span class=\"comment\">/* 60 */</span></span><br><span class=\"line\">    wait(<span class=\"literal\">NULL</span>); <span class=\"comment\">/*  */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"exec\"><a href=\"#exec\" class=\"headerlink\" title=\"exec\"></a>exec</h5><p>exec</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execl</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *arg, ...)</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execlp</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *file, <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *arg, ...)</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execle</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *arg, ..., <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> envp[])</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execv</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv[])</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execvp</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *file, <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv[])</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execve</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv[], <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> envp[])</span></span>;</span><br></pre></td></tr></table></figure>\n<p><code>execl</code>5vl</p>\n<p>exec</p>\n<ul>\n<li>pidexec</li>\n<li>forkforkexec<strong></strong>fork</li>\n</ul>\n<p></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;errno.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">char</span> command[<span class=\"number\">256</span>];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">int</span> rtn; <span class=\"comment\">/**/</span></span><br><span class=\"line\">   <span class=\"keyword\">while</span>(<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">       <span class=\"comment\">/*  */</span></span><br><span class=\"line\">       <span class=\"built_in\">printf</span>( <span class=\"string\">\"&gt;\"</span> );</span><br><span class=\"line\">       fgets( command, <span class=\"number\">256</span>, <span class=\"built_in\">stdin</span> );</span><br><span class=\"line\">       command[<span class=\"built_in\">strlen</span>(command)<span class=\"number\">-1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> ( fork() == <span class=\"number\">0</span> ) &#123;<span class=\"comment\">/*  */</span></span><br><span class=\"line\">          execlp( command, <span class=\"literal\">NULL</span> );</span><br><span class=\"line\">          <span class=\"comment\">/* exec*/</span></span><br><span class=\"line\">          perror( command );</span><br><span class=\"line\">          <span class=\"built_in\">exit</span>( errno );</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">else</span> &#123;<span class=\"comment\">/*   */</span></span><br><span class=\"line\">          wait ( &amp;rtn );</span><br><span class=\"line\">          <span class=\"built_in\">printf</span>( <span class=\"string\">\" child process return %d\\n\"</span>, rtn );</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><code>signal()</code></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// SIGPIPE</span></span><br><span class=\"line\">signal ( SIGPIPE, SIG_IGN );</span><br><span class=\"line\"><span class=\"comment\">// PrepareExitSIGINT</span></span><br><span class=\"line\">signal ( SIGINT, (<span class=\"keyword\">__sighandler_t</span> ) PrepareExit );</span><br></pre></td></tr></table></figure>\n<p>Linux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  </span><br><span class=\"line\">SIGHUP 1 A </span><br><span class=\"line\">SIGINT 2 A break</span><br><span class=\"line\">SIGQUIT 3 C </span><br><span class=\"line\">SIGILL 4 C </span><br><span class=\"line\">SIGABRT 6 C abort(3)</span><br><span class=\"line\">SIGFPE 8 C </span><br><span class=\"line\">SIGKILL 9 AEF Kill</span><br><span class=\"line\">SIGSEGV 11 C </span><br><span class=\"line\">SIGPIPE 13 A : </span><br><span class=\"line\">SIGALRM 14 A alarm(2)</span><br><span class=\"line\">SIGTERM 15 A </span><br><span class=\"line\">SIGUSR1 30,10,16 A 1</span><br><span class=\"line\">SIGUSR2 31,12,17 A 2</span><br><span class=\"line\">SIGCHLD 20,17,18 B </span><br><span class=\"line\">SIGCONT 19,18,25 </span><br><span class=\"line\">SIGSTOP 17,19,23 DEF </span><br><span class=\"line\">SIGTSTP 18,20,24 D tty</span><br><span class=\"line\">SIGTTIN 21,21,26 D </span><br><span class=\"line\">SIGTTOU 22,22,27 D </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">A </span><br><span class=\"line\">B </span><br><span class=\"line\">C dump core</span><br><span class=\"line\">D ptrace</span><br><span class=\"line\">E </span><br><span class=\"line\">F </span><br></pre></td></tr></table></figure>\n<p><strong></strong><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><code>SIGINT</code>CRTL+C</li>\n<li><code>SIGTERM</code>shell<code>kill pid</code></li>\n<li><code>abort()</code><code>SIGABRT</code></li>\n<li><code>SIGKILL</code>shell<code>kill -9 pid</code></li>\n</ol>\n<p>shell<code>echo $?</code>exit code</p>\n<ul>\n<li>exit code128</li>\n<li><code>exit(int exit_code)</code>exit_code0128</li>\n</ul>\n<p></p>\n<ul>\n<li>shell<code>kill -s SIGNAL_NAME pid</code>pidSIGNAL_NAME</li>\n<li><code>kill(pid, SIGNAL_NAME)</code></li>\n</ul>\n<h4 id=\"wait\"><a href=\"#wait\" class=\"headerlink\" title=\"wait\"></a>wait</h4><p>Unixpidexit codeCPU<code>wait</code>pidexit code</p>\n<p><code>wait</code>API</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">pid_t</span> wait(<span class=\"keyword\">int</span> *status);</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li><code>wait</code></li>\n<li><code>pid_t</code>-1<code>wait</code><code>pid_t</code>pid</li>\n<li><code>status</code>status</li>\n<li><code>WIFEXITED(status)</code>0<code>WTERMSIG(status)</code>int<code>WEXITSTATUS(status)</code>exit code<code>exit(7)</code><code>WEXITSTATUS(status)</code>7</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* wait2.c */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/types.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/wait.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status;</span><br><span class=\"line\">    <span class=\"keyword\">pid_t</span> pc,pr;</span><br><span class=\"line\">    pc=fork();</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pc&lt;<span class=\"number\">0</span>)     <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"error ocurred!\\n\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(pc==<span class=\"number\">0</span>)&#123; <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"This is child process with pid of %d.\\n\"</span>,getpid());</span><br><span class=\"line\">        <span class=\"built_in\">exit</span>(<span class=\"number\">3</span>);    <span class=\"comment\">/* 3 */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span>&#123;       <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        pr=wait(&amp;status);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(WIFEXITED(status))&#123;  <span class=\"comment\">/* WIFEXITED */</span></span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"the child process %d exit normally.\\n\"</span>,pr);</span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"the return code is %d.\\n\"</span>,WEXITSTATUS(status));</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>           <span class=\"comment\">/* WIFEXITEDprpid */</span></span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"the child process %d exit abnormally with signal number %d.\\n\"</span>,pr,WTERMSIG(status));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>wait</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ps -ax</span><br><span class=\"line\">  PID TTY      STAT   TIME COMMAND</span><br><span class=\"line\"> 1177 pts/0    S      0:00 -bash</span><br><span class=\"line\"> 1577 pts/0    S      0:00 ./zombie</span><br><span class=\"line\"> 1578 pts/0    Z      0:00 [zombie &lt;defunct&gt;]</span><br><span class=\"line\"> 1579 pts/0    R      0:00 ps -ax</span><br></pre></td></tr></table></figure>\n<p>STATZ</p>\n<ul>\n<li>init</li>\n<li>SIGCHLD</li>\n<li><code>wait3</code><code>wait4</code></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong><code>int pthread_create(pthread_t *thread, const pthread_attr_t *attr,\nvoid *(*start_routine) (void *), void *arg);</code></p>\n<ul>\n<li><code>pthread_create</code>0</li>\n<li><code>thread</code><code>pthread_t</code></li>\n<li><code>pthread_attr_t</code></li>\n<li><code>start_routine</code></li>\n<li><code>arg</code></li>\n</ul>\n<p><strong></strong><code>int pthread_join(pthread_t thread, void **retval);</code></p>\n<ul>\n<li><code>retval</code><code>exit</code><code>pthread_exit</code></li>\n<li><code>When a joinable thread terminates, its memory resources (thread descriptor and stack) are not deallocated until another thread performs pthread_join on it. Therefore, pthread_join must be called  once  for each joinable thread created to avoid memory leaks.</code></li>\n<li></li>\n</ul>\n<p><strong></strong><code>void pthread_exit(void *retval);</code></p>\n<ul>\n<li><code>retval</code></li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> code = <span class=\"number\">11</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">(<span class=\"keyword\">void</span> *args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = (<span class=\"keyword\">char</span> *) args;</span><br><span class=\"line\">    sleep(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, %s!\\n\"</span>, str);</span><br><span class=\"line\">    pthread_exit(&amp;code);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> thread;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status = pthread_create(&amp;thread, <span class=\"literal\">NULL</span>, (<span class=\"keyword\">void</span> *)hello, (<span class=\"keyword\">void</span> *) <span class=\"string\">\"Jayzee\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread create status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *exit_code = <span class=\"number\">0</span>;</span><br><span class=\"line\">    status = pthread_join(thread, (<span class=\"keyword\">void</span> *) &amp;exit_code);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread join status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread exit code : %d\\n\"</span>, *exit_code);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<p><code>pthread_create</code><code>pthread_attr_t</code></p>\n<ol>\n<li><code>pthread_attr_t</code></li>\n<li><code>pthread_attr_t</code></li>\n<li><code>pthread_attr_t</code></li>\n<li><code>pthread_attr_t</code></li>\n</ol>\n<p></p>\n<ol>\n<li>detach</li>\n<li>detach<code>int pthread_detach(pthread_t thread);</code>detach</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> code = <span class=\"number\">11</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">(<span class=\"keyword\">void</span> *args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = (<span class=\"keyword\">char</span> *) args;</span><br><span class=\"line\">    sleep(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, %s!\\n\"</span>, str);</span><br><span class=\"line\">    pthread_exit(&amp;code);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> thread;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_attr_t</span> attr;</span><br><span class=\"line\">    pthread_attr_init (&amp;attr);</span><br><span class=\"line\">    pthread_attr_setdetachstate (&amp;attr, PTHREAD_CREATE_DETACHED);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status = pthread_create (&amp;thread, &amp;attr, (<span class=\"keyword\">void</span> *)hello, (<span class=\"keyword\">void</span> *) <span class=\"string\">\"Jayzee\"</span>);</span><br><span class=\"line\">    pthread_attr_destroy (&amp;attr);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread create status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_setcancelstate(int state, int *oldstate);</span><br><span class=\"line\">int pthread_setcanceltype(int type, int *oldtype);</span><br><span class=\"line\">int pthread_cancel(pthread_t thread);</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>pthread_setcancelstate</code><code>state</code><code>oldstate</code></li>\n<li><code>pthread_setcanceltype</code><code>type</code><code>oldtype</code></li>\n<li><code>pthread_cancel</code></li>\n</ul>\n<p></p>\n<ol>\n<li>type<code>PTHREAD_CANCEL_DEFERRED</code><code>PTHREAD_CANCEL_ASYNCHRONOUS</code></li>\n<li>state<code>PTHREAD_CANCEL_ENABLE</code><code>PTHREAD_CANCEL_DISABLE</code></li>\n<li>typestate<code>pthread_cancel</code><ul>\n<li>state<code>PTHREAD_CANCEL_DISABLE</code>type<code>pthread_cancel</code></li>\n<li>type<code>PTHREAD_CANCEL_DEFERRED</code>type<code>PTHREAD_CANCEL_ASYNCHRONOUS</code></li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> code = <span class=\"number\">11</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">(<span class=\"keyword\">void</span> *args)</span> </span>&#123;</span><br><span class=\"line\">    pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, &amp;last_state); </span><br><span class=\"line\">    pthread_setcanceltype(PTHREAD_CANCEL_DEFERRED, &amp;last_type);</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = (<span class=\"keyword\">char</span> *) args;</span><br><span class=\"line\">    sleep(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, %s!\\n\"</span>, str);</span><br><span class=\"line\">    pthread_exit(&amp;code);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> thread;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status = pthread_create(&amp;thread, <span class=\"literal\">NULL</span>, (<span class=\"keyword\">void</span> *)hello, (<span class=\"keyword\">void</span> *) <span class=\"string\">\"Jayzee\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread create status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *exit_code = <span class=\"number\">0</span>;</span><br><span class=\"line\">    status = pthread_join(thread, (<span class=\"keyword\">void</span> *) &amp;exit_code);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread join status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread exit code : %d\\n\"</span>, *exit_code);</span><br><span class=\"line\">    pthread_cancel(thread);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_key_create(pthread_key_t *key, void (*destructor)(void*));</span><br><span class=\"line\">int pthread_setspecific(pthread_key_t key, const void *value);</span><br><span class=\"line\">void *pthread_getspecific(pthread_key_t key);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_key_create</code><code>key</code><code>destructor</code><code>key</code></li>\n<li><code>pthread_setspecific</code>key-value<code>pthread_getspecific</code>keyvalue</li>\n<li><code>pthread_getspecific</code><code>destructor</code><code>pthread_getspecific</code><code>destructor</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;malloc.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* The key used to associate a log file pointer with each thread. */</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"keyword\">pthread_key_t</span> thread_log_key;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Write MESSAGE to the log file for the current thread. */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">write_to_thread_log</span> <span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span>* message)</span> </span>&#123;</span><br><span class=\"line\">    FILE* thread_log = (FILE*) pthread_getspecific (thread_log_key);</span><br><span class=\"line\">    <span class=\"built_in\">fprintf</span> (thread_log, <span class=\"string\">\"%s\\n\"</span>, message);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Close the log file pointer THREAD_LOG. */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">close_thread_log</span> <span class=\"params\">(<span class=\"keyword\">void</span>* thread_log)</span> </span>&#123;</span><br><span class=\"line\">    fclose ((FILE*) thread_log);    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span>* <span class=\"title\">thread_function</span> <span class=\"params\">(<span class=\"keyword\">void</span>* args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> thread_log_filename[<span class=\"number\">20</span>];</span><br><span class=\"line\">    FILE* thread_log;</span><br><span class=\"line\">    <span class=\"comment\">/* Generate the filename for this threads log file. */</span></span><br><span class=\"line\">    <span class=\"built_in\">sprintf</span> (thread_log_filename, <span class=\"string\">\"thread%d.log\"</span>, (<span class=\"keyword\">int</span>) pthread_self ());</span><br><span class=\"line\">    <span class=\"comment\">/* Open the log file. */</span></span><br><span class=\"line\">    thread_log = fopen (thread_log_filename, <span class=\"string\">\"w\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">/* Store the file pointer in thread-specific data under thread_log_key. */</span></span><br><span class=\"line\">    pthread_setspecific (thread_log_key, thread_log);</span><br><span class=\"line\">    write_to_thread_log (<span class=\"string\">\"Thread starting.\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">/* Do work here... */</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span> <span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> threads[<span class=\"number\">5</span>];</span><br><span class=\"line\">    <span class=\"comment\">/* Create a key to associate thread log file pointers in</span></span><br><span class=\"line\"><span class=\"comment\">    thread-specific data. Use close_thread_log to clean up the file</span></span><br><span class=\"line\"><span class=\"comment\">    pointers. */</span></span><br><span class=\"line\">    pthread_key_create (&amp;thread_log_key, close_thread_log);</span><br><span class=\"line\">    <span class=\"comment\">/* Create threads to do the work. */</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i)</span><br><span class=\"line\">        pthread_create (&amp;(threads[i]), <span class=\"literal\">NULL</span>, thread_function, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    <span class=\"comment\">/* Wait for all threads to finish. */</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i)</span><br><span class=\"line\">        pthread_join (threads[i], <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void pthread_cleanup_push(void (*routine)(void *), void *arg);</span><br><span class=\"line\">void pthread_cleanup_pop(int execute);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_cleanup_push</code></li>\n<li><code>pthread_cleanup_pop</code><code>execute</code>0</li>\n<li></li>\n<li>longjump<code>pthread_cleanup_pop</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_mutex_destroy(pthread_mutex_t *mutex);</span><br><span class=\"line\">int pthread_mutex_init(pthread_mutex_t *restrict mutex,</span><br><span class=\"line\">    const pthread_mutexattr_t *restrict attr);</span><br><span class=\"line\">pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_mutex_destroy</code><code>pthread_mutex_init</code></li>\n<li><code>pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;</code></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_mutex_lock(pthread_mutex_t *mutex);</span><br><span class=\"line\">int pthread_mutex_trylock(pthread_mutex_t *mutex);</span><br><span class=\"line\">int pthread_mutex_unlock(pthread_mutex_t *mutex);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_mutex_lock</code><code>pthread_mutex_trylock</code><code>pthread_mutex_unlock</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_mutexattr_t</span> attr;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_mutex_t</span> mutex;</span><br><span class=\"line\">    pthread_mutexattr_init (&amp;attr);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    pthread_mutexattr_setkind_np (&amp;attr, PTHREAD_MUTEX_ERRORCHECK_NP);</span><br><span class=\"line\">    pthread_mutex_init (&amp;mutex, &amp;attr);</span><br><span class=\"line\">    pthread_mutex_lock(&amp;mutex);</span><br><span class=\"line\">    <span class=\"comment\">/** do some work **/</span></span><br><span class=\"line\">    pthread_mutex_unlock(&amp;mutex);</span><br><span class=\"line\">    pthread_mutexattr_destroy (&amp;attr);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int sem_init(sem_t *sem, int pshared, unsigned int value);</span><br><span class=\"line\">int sem_post(sem_t *sem);</span><br><span class=\"line\">int sem_wait(sem_t *sem);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>sem_init</code><code>sem</code><code>pshared</code>00<code>value</code>0</li>\n<li><code>sem_wait</code><code>sem_wait</code>0<code>sem_post</code></li>\n<li><code>sem_post</code></li>\n<li><code>sem_wait</code><code>sem_post</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;semaphore.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">sem_t</span> semaphore;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">threadfunc</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (; i&lt;<span class=\"number\">10</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        sem_wait(&amp;semaphore);</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello from da thread!\\n\"</span>);</span><br><span class=\"line\">        sem_post(&amp;semaphore);</span><br><span class=\"line\">        sleep(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">void</span>)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    sem_init(&amp;semaphore, <span class=\"number\">0</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> *mythread;    </span><br><span class=\"line\">    mythread = (<span class=\"keyword\">pthread_t</span> *)<span class=\"built_in\">malloc</span>(<span class=\"keyword\">sizeof</span>(*mythread));</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Starting thread, semaphore is unlocked.\\n\"</span>);</span><br><span class=\"line\">    pthread_create(mythread, <span class=\"literal\">NULL</span>, (<span class=\"keyword\">void</span>*)threadfunc, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    pthread_join(mythread, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_cond_init(pthread_cond_t *restrict cond,</span><br><span class=\"line\">    const pthread_condattr_t *restrict attr);</span><br><span class=\"line\">pthread_cond_t cond = PTHREAD_COND_INITIALIZER;</span><br><span class=\"line\">int pthread_cond_signal(pthread_cond_t *cond);</span><br><span class=\"line\">int pthread_cond_wait(pthread_cond_t *restrict cond,</span><br><span class=\"line\">   pthread_mutex_t *restrict mutex);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_cond_t cond = PTHREAD_COND_INITIALIZER;</code><code>pthread_cond_init(&amp;pthread_cond_t, NULL);</code></li>\n<li><code>pthread_cond_signal</code><code>pthread_cond_wait</code></li>\n<li><code>pthread_cond_wait</code><code>pthread_cond_signal</code></li>\n<li><code>pthread_cond_timedwait</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">pthread_mutex_t</span> mutex = PTHREAD_MUTEX_INITIALIZER;</span><br><span class=\"line\"><span class=\"keyword\">pthread_cond_t</span> cond = PTHREAD_COND_INITIALIZER;</span><br><span class=\"line\"><span class=\"keyword\">int</span> condition = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">consume</span><span class=\"params\">( <span class=\"keyword\">void</span> )</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>( <span class=\"number\">1</span> )</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        pthread_mutex_lock( &amp;mutex );</span><br><span class=\"line\">        <span class=\"keyword\">while</span>( condition == <span class=\"number\">0</span> )</span><br><span class=\"line\">            pthread_cond_wait( &amp;cond, &amp;mutex );</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>( <span class=\"string\">\"Consumed %d\\n\"</span>, count );</span><br><span class=\"line\">        condition = <span class=\"number\">0</span>;</span><br><span class=\"line\">        pthread_cond_signal( &amp;cond );        </span><br><span class=\"line\">        pthread_mutex_unlock( &amp;mutex );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span>( <span class=\"number\">0</span> );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span>* <span class=\"title\">produce</span><span class=\"params\">( <span class=\"keyword\">void</span> * arg )</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>( <span class=\"number\">1</span> )</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        pthread_mutex_lock( &amp;mutex );</span><br><span class=\"line\">        <span class=\"keyword\">while</span>( condition == <span class=\"number\">1</span> )</span><br><span class=\"line\">            pthread_cond_wait( &amp;cond, &amp;mutex );</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>( <span class=\"string\">\"Produced %d\\n\"</span>, count++ );</span><br><span class=\"line\">        condition = <span class=\"number\">1</span>;</span><br><span class=\"line\">        pthread_cond_signal( &amp;cond );        </span><br><span class=\"line\">        pthread_mutex_unlock( &amp;mutex );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>( <span class=\"number\">0</span> );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">( <span class=\"keyword\">void</span> )</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    pthread_create( <span class=\"literal\">NULL</span>, <span class=\"literal\">NULL</span>, &amp;produce, <span class=\"literal\">NULL</span> );</span><br><span class=\"line\">    <span class=\"keyword\">return</span> consume();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Linux<code>clone()</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/ipc.h&gt;</span><br><span class=\"line\">#include &lt;sys/shm.h&gt;</span><br><span class=\"line\">int shmget(key_t key, size_t size, int shmflg);</span><br><span class=\"line\">void *shmat(int shmid, const void *shmaddr, int shmflg);</span><br><span class=\"line\">int shmdt(const void *shmaddr);</span><br><span class=\"line\">int shmctl(int shmid, int cmd, struct shmid_ds *buf);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>shmget</code></li>\n<li><code>shmat</code>1</li>\n<li><code>shmdt</code>10</li>\n<li><code>shmctl</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/types.h&gt;</span><br><span class=\"line\">#include &lt;sys/ipc.h&gt;</span><br><span class=\"line\">#include &lt;sys/sem.h&gt;</span><br><span class=\"line\">int semget(key_t key, int nsems, int semflg);</span><br><span class=\"line\">int semctl(int semid, int semnum, int cmd, ...);</span><br><span class=\"line\">int semop(int semid, struct sembuf *sops, size_t nsops);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>semget</code></li>\n<li><code>semctl</code></li>\n<li><code>semop</code>waitpost</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/mman.h&gt;</span><br><span class=\"line\">void *mmap(void *addr, size_t length, int prot, int flags,</span><br><span class=\"line\">    int fd, off_t offset);</span><br></pre></td></tr></table></figure>\n<p><code>mmap</code>read,write</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;unistd.h&gt;</span><br><span class=\"line\">int pipe(int pipefd[2]);</span><br></pre></td></tr></table></figure>\n<p><code>pipe</code></p>\n<h3 id=\"Socket\"><a href=\"#Socket\" class=\"headerlink\" title=\"Socket\"></a>Socket</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/types.h&gt;</span><br><span class=\"line\">#include &lt;sys/socket.h&gt;</span><br><span class=\"line\">int socket(int domain, int type, int protocol);</span><br><span class=\"line\">int close(int fd);</span><br><span class=\"line\">int connect(int sockfd, const struct sockaddr *addr,</span><br><span class=\"line\">    socklen_t addrlen);</span><br><span class=\"line\">int bind(int sockfd, const struct sockaddr *addr,</span><br><span class=\"line\">    socklen_t addrlen);</span><br><span class=\"line\">int listen(int sockfd, int backlog);</span><br><span class=\"line\">int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>socket</code>socket</li>\n<li><code>close</code>socket</li>\n<li><code>connect</code>socket</li>\n<li><code>bind</code>socket</li>\n<li><code>listen</code>socket</li>\n<li><code>accept</code>socketsocket</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/types.h&gt;</span><br><span class=\"line\">#include &lt;sys/stat.h&gt;</span><br><span class=\"line\">#include &lt;fcntl.h&gt;</span><br><span class=\"line\">#include &lt;unistd.h&gt;</span><br><span class=\"line\">int mknod(const char *pathname, mode_t mode, dev_t dev);</span><br></pre></td></tr></table></figure>\n<p><code>mknod</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/ioctl.h&gt;</span><br><span class=\"line\">int ioctl(int d, unsigned long request, ...);</span><br></pre></td></tr></table></figure>\n<p><code>ioctl</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>/dev/null</code>IO<code>/dev/null</code></p>\n<p><code>/dev/zero</code></p>\n<p><code>/dev/random</code></p>\n<p><code>/dev/tty*</code></p>\n<p><code>pty</code></p>\n<p><code>pty</code></p>\n<ul>\n<li><code>ptmx</code>master</li>\n<li><code>pts</code>masterslave<code>pts</code>SSHmaster<code>pts</code></li>\n</ul>\n<h2 id=\"-proc\"><a href=\"#-proc\" class=\"headerlink\" title=\"/proc\"></a>/proc</h2><p><code>/proc/cpuinfo</code>cpu</p>\n<p><code>/proc/meminfo</code></p>\n<p><code>/proc/self</code></p>\n<p><code>/proc/pid_number</code>pidpid_number</p>\n<p><code>/proc/loadavg</code></p>\n<p><code>/proc/uptime</code></p>\n<p><code>/proc/interrupts</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>strace</code></p>\n<p><code>access</code><br><code>fcntl</code></p>\n<p><code>fsync</code><code>fdatasync</code></p>\n<p><code>getrlimit</code></p>\n<p><code>getrusage</code></p>\n<p><code>gettimeofday</code></p>\n<p><code>mlock</code></p>\n<p><code>mprotect</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>IDIDIDShell<code>id</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># uid0root</span><br><span class=\"line\">uid=0(root) gid=0(root) groups=0(root),1001(nagcmd)</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>ls -l APL.txt</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-rw-r--r-- 1 Jayzee None   1237  18 12:19 APL.txt</span><br></pre></td></tr></table></figure>\n<p><code>-rw-r--r--</code></p>\n<ul>\n<li><code>-</code><code>d</code></li>\n<li>24<code>rw-</code><code>Jayzee</code>rwx</li>\n<li>57<code>r--</code><code>None</code></li>\n<li>810<code>r--</code></li>\n</ul>\n<p><code>man chmod</code><br><code>man chown</code></p>\n<p><strong></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">drwxrwxrwt   1 root root 26416 5  18 21:53 tmp</span><br></pre></td></tr></table></figure>\n<p>xt<code>t</code>sticky bits</p>\n<h3 id=\"IDID\"><a href=\"#IDID\" class=\"headerlink\" title=\"IDID\"></a>IDID</h3><p><code>euid</code>ideffective<code>uid</code>idreal</p>\n<p><code>man 2 getuid</code>Cuid<br><code>man 2 geteuid</code>Ceuid</p>\n<p>euid</p>\n<ol>\n<li>Linux Kerneleuid</li>\n<li>euiduid</li>\n<li>euiduiduid</li>\n</ol>\n<p>id</p>\n<ol>\n<li>Linux</li>\n<li><code>exec</code>User Shellpts</li>\n<li>LinuxUser Shelleuiduiduideuid0User Shelleuiduid</li>\n</ol>\n<p></p>\n<ol>\n<li><code>euid = uid</code>Shell</li>\n<li><code>uid = euid</code>LinuxeuiduidLinuxroot</li>\n</ol>\n<p><code>su</code></p>\n<ol>\n<li><code>/bin/su</code>rootxsxs<code>geteuid</code>uideuid</li>\n<li>Linuxrootuideuid0</li>\n<li><code>su</code>User ShellKernelUser Shell</li>\n</ol>\n<p>IDID</p>\n","site":{"data":{}},"excerpt":"<p>Advanced Linux Programing</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Linux Kernel</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>GNU Project</p>\n<ul>\n<li></li>\n<li></li>\n<li>Shell/bin/bashBourne-Again SHell</li>\n</ul>\n<p></p>\n<ol>\n<li>Linux KernelGNU ProjectLinuxGNU/Linux</li>\n<li>LinuxUNIXUNIXFreeBSDSolaris</li>\n</ol>\n<h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello, World\"></a>Hello, World</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** main.c **/</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sayHello</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, World\\n\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    sayHello();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Shell<code>gcc -o main main.c</code><code>main</code><code>./main</code><code>Hello, World</code><code>main.c</code><code>main</code></p>\n<ul>\n<li>main.c &gt; main.i &gt; main.s &gt; main.o &gt; main</li>\n<li> + <strong>(cpp)</strong> &gt;  + <strong>(ccl)</strong> &gt;  + <strong>(as)</strong> &gt;  + printf.o + <strong>(ld)</strong> &gt; main</li>\n</ul>\n<p>Shell</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -E main.c -o main.i</span><br><span class=\"line\">gcc -S main.i -o main.s --&gt; main.s</span><br><span class=\"line\">gcc -c main.s -o main.o --&gt; main.o</span><br><span class=\"line\">gcc main.o -o main --&gt; main</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4gcc</span></span><br><span class=\"line\">gcc main.c -o main</span><br></pre></td></tr></table></figure>\n<p><code>-E</code>C<code>-S</code><code>-c</code><code>-o</code></p>\n<h3 id=\"g-c\"><a href=\"#g-c\" class=\"headerlink\" title=\"g++c\"></a>g++c</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** main.c **/</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifdef</span> __cplusplus</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"string\">\"C\"</span> &#123;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sayHello</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">ifdef</span> __cplusplus</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">endif</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">sayHello</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, World\\n\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    sayHello();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"gcc\"><a href=\"#gcc\" class=\"headerlink\" title=\"gcc\"></a>gcc</h3><ul>\n<li><code>-I</code></li>\n<li><code>-D</code></li>\n<li><code>-O</code></li>\n<li><code>-l</code></li>\n<li><code>-L</code></li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># main</span></span><br><span class=\"line\"><span class=\"comment\"># /root/</span></span><br><span class=\"line\"><span class=\"comment\"># DEBUG</span></span><br><span class=\"line\"><span class=\"comment\"># 20&lt;1&lt;2&lt;30</span></span><br><span class=\"line\"><span class=\"comment\"># m</span></span><br><span class=\"line\"><span class=\"comment\"># /usr/local/libm</span></span><br><span class=\"line\">gcc main.c -o main -I /root/ -D DEBUG=2 -O2 -lm -L/usr/<span class=\"built_in\">local</span>/lib</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>MakeFile</li>\n<li>autoconfautomakelibtool</li>\n</ol>\n<p>makefile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.o: main.c</span><br><span class=\"line\">        gcc -c main.c -o main.o</span><br><span class=\"line\"></span><br><span class=\"line\">all: main</span><br><span class=\"line\"></span><br><span class=\"line\">main: main.o</span><br><span class=\"line\">        gcc main.o -o main</span><br><span class=\"line\"></span><br><span class=\"line\">clean:</span><br><span class=\"line\">        rm main.o main</span><br></pre></td></tr></table></figure>\n<p>makefile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># allmain</span></span><br><span class=\"line\"><span class=\"comment\"># 1-fmakefile</span></span><br><span class=\"line\">make -f makefile all</span><br><span class=\"line\"><span class=\"comment\"># 2makefile</span></span><br><span class=\"line\"><span class=\"comment\"># GNUmakefile--&gt;makefile--&gt;Makefile</span></span><br><span class=\"line\">make all</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">make clean</span><br><span class=\"line\">make -f makefile clean</span><br></pre></td></tr></table></figure>\n<p>makefile<strong>commandtab</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># target</span><br><span class=\"line\"># dependency_filestarget</span><br><span class=\"line\"># command</span><br><span class=\"line\">target: dependency_files</span><br><span class=\"line\">        command</span><br></pre></td></tr></table></figure>\n<p>makefile</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CC=gcc</span><br><span class=\"line\">EXE=main</span><br><span class=\"line\"></span><br><span class=\"line\">main.o: main.c</span><br><span class=\"line\">        $(CC) -c main.c -o main.o</span><br><span class=\"line\"></span><br><span class=\"line\">all: $(EXE)</span><br><span class=\"line\"></span><br><span class=\"line\">$(EXE): main.o</span><br><span class=\"line\">        gcc main.o -o $(EXE)</span><br><span class=\"line\"></span><br><span class=\"line\">clean:</span><br><span class=\"line\">        rm main.o $(EXE)</span><br></pre></td></tr></table></figure>\n<p>makefile</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make EXE=mm all</span><br><span class=\"line\">make EXE=mm clean</span><br></pre></td></tr></table></figure>\n<h3 id=\"GDB\"><a href=\"#GDB\" class=\"headerlink\" title=\"GDB\"></a>GDB</h3><p><code>gdb </code>gdb</p>\n<ol start=\"2\">\n<li><code>break main</code>main<code>break main.c:5</code><code>main.c</code>5</li>\n<li><code>i b</code></li>\n<li><code>delete 1</code></li>\n<li><code>disable 1</code></li>\n<li><code>list main.c:5</code>gdb</li>\n<li><code>r</code><code>run</code>gdb<code>n</code><code>next</code><code>s</code><code>step</code><code>return</code></li>\n<li>gdb<code>print </code></li>\n<li><code>where</code><code>bt</code><code>backtrace</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>man </code><code>man printf</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Man:  (set MAN_POSIXLY_CORRECT to avoid this)</span><br><span class=\"line\"> * printf (1)</span><br><span class=\"line\">   printf (3)</span><br><span class=\"line\">   printf (1p)</span><br><span class=\"line\">   printf (3p)</span><br><span class=\"line\">Man: </span><br><span class=\"line\">Man:</span><br></pre></td></tr></table></figure>\n<ol>\n<li>1user commands<strong>echo</strong></li>\n<li>2system calls<strong>fork</strong></li>\n<li>3stand library<strong>printf</strong></li>\n<li>pPOSIXPOSIXPOSIXPOSIX</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><ul>\n<li><code>man mkstemp</code></li>\n<li><code>man tmpfile</code></li>\n</ul>\n</li>\n<li><ul>\n<li>shell<code>echo $USER</code><code>printenv USER</code><code>USER</code></li>\n<li>shell<code>export USER=jayzee</code><code>USER</code><code>jayzee</code></li>\n<li>shell<code>env</code></li>\n<li>LinuxC/C++<code>stdlib.h</code><code>getenv</code><code>setenv</code><code>unsetenv</code></li>\n</ul>\n</li>\n<li>shell<code>echo $?</code>0</li>\n<li>IO<ul>\n<li><code>stdin</code>int0<code>stdout</code>int1<code>stderr</code>int2</li>\n<li><code>stdin</code>bufferedbuffered size</li>\n<li><code>stderr</code>unbuffered</li>\n<li>shell<code>stdout</code>line-bufferedbufferedbuffered size<code>man setvbuf</code></li>\n<li>buffered<code>fflush(your_file)</code>buffer</li>\n<li>shell<code>your_program &gt; output_file.txt 2&gt;&amp;1</code><code>your_program</code><code>output_file.txt</code><code>&gt;</code><code>&gt;&gt;</code>Linux</li>\n<li>shell<code>program 2&gt;&amp;1 | filter</code>Linux</li>\n</ul>\n</li>\n<li><code>man getopt_long</code><code>getopt.h</code><code>ls -l</code><code>-l</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>assert</p>\n<ul>\n<li>true0<code>assert(condition)</code></li>\n<li><code>-DNDEBUG</code>assert<strong>assert</strong></li>\n</ul>\n<p></p>\n<ul>\n<li><code>fork</code><code>errno</code></li>\n<li><code>man strerror</code><code>string.h</code><code>strerror</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">EINTR : blocking function interrupt, like sleep, read, select</span><br><span class=\"line\">EPERM : Permission denied</span><br><span class=\"line\">EROFS : PATH is on a read-only file system</span><br><span class=\"line\">ENAMETOOLONG : PATH is too long</span><br><span class=\"line\">ENOENT : PATH does not exit</span><br><span class=\"line\">ENOTDIR : A component of PATH is not a directory</span><br><span class=\"line\">EACCES : A component of PATH is not accessible</span><br><span class=\"line\">EFAULT : PATH contains an invalid memory address.  This is probably a bug</span><br><span class=\"line\">ENOMEM : Ran out of kernel memory</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"http://www.cnblogs.com/skynet/p/3372855.html\" target=\"_blank\" rel=\"noopener\">C++ -  - </a></p>\n<p>main.c</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/** main.c **/</span><br><span class=\"line\">int add(int x, int y) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">return</span> x + y;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>lib[your_library_name].alib.a</li>\n<li>.oar.a</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># math.cint add(int x, int y)</span></span><br><span class=\"line\">gcc -c math.c -o math.o</span><br><span class=\"line\">ar -crv libmath.a math.o</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>-Llib.a-l</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -l</span></span><br><span class=\"line\">gcc main.c -o main -Lfilepath_of_your_static_library -lmath</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>lib[your_library_name].solib.so</li>\n<li>.ogcc.so<ul>\n<li><code>-fPIC</code>picposition independent code</li>\n<li><code>-shared</code></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># math.cint add(int x, int y)</span></span><br><span class=\"line\">gcc -fPIC -c math.c -o math.o</span><br><span class=\"line\">gcc -shared -o libmath.so math.o</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">gcc -fPIC -shared -o libmath.so math.c</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li>-Llib.so-l</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc main.c -o main -Lfilepath_of_your_static_library -lmath</span><br></pre></td></tr></table></figure>\n<ul>\n<li><ul>\n<li>LD_LIBRARY_PATH<code>LD_LIBRARY_PATH=/usr/local/lib:/opt/lib</code></li>\n<li>/etc/ld.so.cache<ul>\n<li>/etc/ld.so.conf</li>\n<li>ldconfig /etc/ld.so.cache</li>\n</ul>\n</li>\n<li>/lib//usr/lib</li>\n</ul>\n</li>\n<li><code>-L</code></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>nm</code>nm</p>\n<ul>\n<li>()U</li>\n<li>T</li>\n<li>W</li>\n</ul>\n<p><code>ldd</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.cnblogs.com/hicjiajia/archive/2011/01/20/1940154.html\" target=\"_blank\" rel=\"noopener\">LinuxForkExec - hicjiajia - </a><a href=\"http://www.ibm.com/developerworks/cn/linux/kernel/syscall/part3/index.html\" target=\"_blank\" rel=\"noopener\">(3)</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>pid</code>id<code>ppid</code>id</p>\n<ol>\n<li>Linux<strong></strong>initinit<code>pid</code>1ppid0</li>\n<li>shell<code>ps -e -o pid,ppid,command</code>pidppidcommand</li>\n<li><code>unistd.h</code><code>getpid()</code><code>getppid()</code>IDID</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"systemshell\"><a href=\"#systemshell\" class=\"headerlink\" title=\"systemshell\"></a>systemshell</h4><p>systemC/C++shellAPI</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#include &lt;stdlib.h&gt;</span></span><br><span class=\"line\">int system(const char *<span class=\"built_in\">command</span>);</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>fork()</code></li>\n<li><code>execl(&quot;/bin/sh&quot;, &quot;sh&quot;. &quot;-c&quot;, command, (char *) 0);</code>shellcommand</li>\n</ol>\n<h4 id=\"forkexec\"><a href=\"#forkexec\" class=\"headerlink\" title=\"forkexec\"></a>forkexec</h4><h5 id=\"fork\"><a href=\"#fork\" class=\"headerlink\" title=\"fork\"></a>fork</h5><p>forkAPI</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#include &lt;unistd.h&gt;</span></span><br><span class=\"line\">pid_t fork(void);</span><br></pre></td></tr></table></figure>\n<p>fork</p>\n<ul>\n<li>fork<code>pid&gt;0</code><code>pid==0</code></li>\n<li>fork<strong>fork</strong></li>\n<li>forkpidppidforkid</li>\n</ul>\n<p>pid_t</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* zombie.c */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/types.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pid_t</span> pid;</span><br><span class=\"line\">    pid=fork();</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pid&lt;<span class=\"number\">0</span>) <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"error occurred!\\n\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(pid==<span class=\"number\">0</span>) <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">exit</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        sleep(<span class=\"number\">60</span>); <span class=\"comment\">/* 60 */</span></span><br><span class=\"line\">    wait(<span class=\"literal\">NULL</span>); <span class=\"comment\">/*  */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"exec\"><a href=\"#exec\" class=\"headerlink\" title=\"exec\"></a>exec</h5><p>exec</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execl</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *arg, ...)</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execlp</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *file, <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *arg, ...)</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execle</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *arg, ..., <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> envp[])</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execv</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv[])</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execvp</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *file, <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv[])</span></span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">execve</span><span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span> *path, <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv[], <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> envp[])</span></span>;</span><br></pre></td></tr></table></figure>\n<p><code>execl</code>5vl</p>\n<p>exec</p>\n<ul>\n<li>pidexec</li>\n<li>forkforkexec<strong></strong>fork</li>\n</ul>\n<p></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;errno.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">char</span> command[<span class=\"number\">256</span>];</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">int</span> rtn; <span class=\"comment\">/**/</span></span><br><span class=\"line\">   <span class=\"keyword\">while</span>(<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">       <span class=\"comment\">/*  */</span></span><br><span class=\"line\">       <span class=\"built_in\">printf</span>( <span class=\"string\">\"&gt;\"</span> );</span><br><span class=\"line\">       fgets( command, <span class=\"number\">256</span>, <span class=\"built_in\">stdin</span> );</span><br><span class=\"line\">       command[<span class=\"built_in\">strlen</span>(command)<span class=\"number\">-1</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> ( fork() == <span class=\"number\">0</span> ) &#123;<span class=\"comment\">/*  */</span></span><br><span class=\"line\">          execlp( command, <span class=\"literal\">NULL</span> );</span><br><span class=\"line\">          <span class=\"comment\">/* exec*/</span></span><br><span class=\"line\">          perror( command );</span><br><span class=\"line\">          <span class=\"built_in\">exit</span>( errno );</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">else</span> &#123;<span class=\"comment\">/*   */</span></span><br><span class=\"line\">          wait ( &amp;rtn );</span><br><span class=\"line\">          <span class=\"built_in\">printf</span>( <span class=\"string\">\" child process return %d\\n\"</span>, rtn );</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><code>signal()</code></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// SIGPIPE</span></span><br><span class=\"line\">signal ( SIGPIPE, SIG_IGN );</span><br><span class=\"line\"><span class=\"comment\">// PrepareExitSIGINT</span></span><br><span class=\"line\">signal ( SIGINT, (<span class=\"keyword\">__sighandler_t</span> ) PrepareExit );</span><br></pre></td></tr></table></figure>\n<p>Linux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  </span><br><span class=\"line\">SIGHUP 1 A </span><br><span class=\"line\">SIGINT 2 A break</span><br><span class=\"line\">SIGQUIT 3 C </span><br><span class=\"line\">SIGILL 4 C </span><br><span class=\"line\">SIGABRT 6 C abort(3)</span><br><span class=\"line\">SIGFPE 8 C </span><br><span class=\"line\">SIGKILL 9 AEF Kill</span><br><span class=\"line\">SIGSEGV 11 C </span><br><span class=\"line\">SIGPIPE 13 A : </span><br><span class=\"line\">SIGALRM 14 A alarm(2)</span><br><span class=\"line\">SIGTERM 15 A </span><br><span class=\"line\">SIGUSR1 30,10,16 A 1</span><br><span class=\"line\">SIGUSR2 31,12,17 A 2</span><br><span class=\"line\">SIGCHLD 20,17,18 B </span><br><span class=\"line\">SIGCONT 19,18,25 </span><br><span class=\"line\">SIGSTOP 17,19,23 DEF </span><br><span class=\"line\">SIGTSTP 18,20,24 D tty</span><br><span class=\"line\">SIGTTIN 21,21,26 D </span><br><span class=\"line\">SIGTTOU 22,22,27 D </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">A </span><br><span class=\"line\">B </span><br><span class=\"line\">C dump core</span><br><span class=\"line\">D ptrace</span><br><span class=\"line\">E </span><br><span class=\"line\">F </span><br></pre></td></tr></table></figure>\n<p><strong></strong><br></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><code>SIGINT</code>CRTL+C</li>\n<li><code>SIGTERM</code>shell<code>kill pid</code></li>\n<li><code>abort()</code><code>SIGABRT</code></li>\n<li><code>SIGKILL</code>shell<code>kill -9 pid</code></li>\n</ol>\n<p>shell<code>echo $?</code>exit code</p>\n<ul>\n<li>exit code128</li>\n<li><code>exit(int exit_code)</code>exit_code0128</li>\n</ul>\n<p></p>\n<ul>\n<li>shell<code>kill -s SIGNAL_NAME pid</code>pidSIGNAL_NAME</li>\n<li><code>kill(pid, SIGNAL_NAME)</code></li>\n</ul>\n<h4 id=\"wait\"><a href=\"#wait\" class=\"headerlink\" title=\"wait\"></a>wait</h4><p>Unixpidexit codeCPU<code>wait</code>pidexit code</p>\n<p><code>wait</code>API</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">pid_t</span> wait(<span class=\"keyword\">int</span> *status);</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li><code>wait</code></li>\n<li><code>pid_t</code>-1<code>wait</code><code>pid_t</code>pid</li>\n<li><code>status</code>status</li>\n<li><code>WIFEXITED(status)</code>0<code>WTERMSIG(status)</code>int<code>WEXITSTATUS(status)</code>exit code<code>exit(7)</code><code>WEXITSTATUS(status)</code>7</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* wait2.c */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/types.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;sys/wait.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status;</span><br><span class=\"line\">    <span class=\"keyword\">pid_t</span> pc,pr;</span><br><span class=\"line\">    pc=fork();</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pc&lt;<span class=\"number\">0</span>)     <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"error ocurred!\\n\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(pc==<span class=\"number\">0</span>)&#123; <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"This is child process with pid of %d.\\n\"</span>,getpid());</span><br><span class=\"line\">        <span class=\"built_in\">exit</span>(<span class=\"number\">3</span>);    <span class=\"comment\">/* 3 */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span>&#123;       <span class=\"comment\">/*  */</span></span><br><span class=\"line\">        pr=wait(&amp;status);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(WIFEXITED(status))&#123;  <span class=\"comment\">/* WIFEXITED */</span></span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"the child process %d exit normally.\\n\"</span>,pr);</span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"the return code is %d.\\n\"</span>,WEXITSTATUS(status));</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>           <span class=\"comment\">/* WIFEXITEDprpid */</span></span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"the child process %d exit abnormally with signal number %d.\\n\"</span>,pr,WTERMSIG(status));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>wait</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ps -ax</span><br><span class=\"line\">  PID TTY      STAT   TIME COMMAND</span><br><span class=\"line\"> 1177 pts/0    S      0:00 -bash</span><br><span class=\"line\"> 1577 pts/0    S      0:00 ./zombie</span><br><span class=\"line\"> 1578 pts/0    Z      0:00 [zombie &lt;defunct&gt;]</span><br><span class=\"line\"> 1579 pts/0    R      0:00 ps -ax</span><br></pre></td></tr></table></figure>\n<p>STATZ</p>\n<ul>\n<li>init</li>\n<li>SIGCHLD</li>\n<li><code>wait3</code><code>wait4</code></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong><code>int pthread_create(pthread_t *thread, const pthread_attr_t *attr,\nvoid *(*start_routine) (void *), void *arg);</code></p>\n<ul>\n<li><code>pthread_create</code>0</li>\n<li><code>thread</code><code>pthread_t</code></li>\n<li><code>pthread_attr_t</code></li>\n<li><code>start_routine</code></li>\n<li><code>arg</code></li>\n</ul>\n<p><strong></strong><code>int pthread_join(pthread_t thread, void **retval);</code></p>\n<ul>\n<li><code>retval</code><code>exit</code><code>pthread_exit</code></li>\n<li><code>When a joinable thread terminates, its memory resources (thread descriptor and stack) are not deallocated until another thread performs pthread_join on it. Therefore, pthread_join must be called  once  for each joinable thread created to avoid memory leaks.</code></li>\n<li></li>\n</ul>\n<p><strong></strong><code>void pthread_exit(void *retval);</code></p>\n<ul>\n<li><code>retval</code></li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> code = <span class=\"number\">11</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">(<span class=\"keyword\">void</span> *args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = (<span class=\"keyword\">char</span> *) args;</span><br><span class=\"line\">    sleep(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, %s!\\n\"</span>, str);</span><br><span class=\"line\">    pthread_exit(&amp;code);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> thread;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status = pthread_create(&amp;thread, <span class=\"literal\">NULL</span>, (<span class=\"keyword\">void</span> *)hello, (<span class=\"keyword\">void</span> *) <span class=\"string\">\"Jayzee\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread create status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *exit_code = <span class=\"number\">0</span>;</span><br><span class=\"line\">    status = pthread_join(thread, (<span class=\"keyword\">void</span> *) &amp;exit_code);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread join status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread exit code : %d\\n\"</span>, *exit_code);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<p><code>pthread_create</code><code>pthread_attr_t</code></p>\n<ol>\n<li><code>pthread_attr_t</code></li>\n<li><code>pthread_attr_t</code></li>\n<li><code>pthread_attr_t</code></li>\n<li><code>pthread_attr_t</code></li>\n</ol>\n<p></p>\n<ol>\n<li>detach</li>\n<li>detach<code>int pthread_detach(pthread_t thread);</code>detach</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> code = <span class=\"number\">11</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">(<span class=\"keyword\">void</span> *args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = (<span class=\"keyword\">char</span> *) args;</span><br><span class=\"line\">    sleep(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, %s!\\n\"</span>, str);</span><br><span class=\"line\">    pthread_exit(&amp;code);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> thread;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_attr_t</span> attr;</span><br><span class=\"line\">    pthread_attr_init (&amp;attr);</span><br><span class=\"line\">    pthread_attr_setdetachstate (&amp;attr, PTHREAD_CREATE_DETACHED);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status = pthread_create (&amp;thread, &amp;attr, (<span class=\"keyword\">void</span> *)hello, (<span class=\"keyword\">void</span> *) <span class=\"string\">\"Jayzee\"</span>);</span><br><span class=\"line\">    pthread_attr_destroy (&amp;attr);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread create status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_setcancelstate(int state, int *oldstate);</span><br><span class=\"line\">int pthread_setcanceltype(int type, int *oldtype);</span><br><span class=\"line\">int pthread_cancel(pthread_t thread);</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>pthread_setcancelstate</code><code>state</code><code>oldstate</code></li>\n<li><code>pthread_setcanceltype</code><code>type</code><code>oldtype</code></li>\n<li><code>pthread_cancel</code></li>\n</ul>\n<p></p>\n<ol>\n<li>type<code>PTHREAD_CANCEL_DEFERRED</code><code>PTHREAD_CANCEL_ASYNCHRONOUS</code></li>\n<li>state<code>PTHREAD_CANCEL_ENABLE</code><code>PTHREAD_CANCEL_DISABLE</code></li>\n<li>typestate<code>pthread_cancel</code><ul>\n<li>state<code>PTHREAD_CANCEL_DISABLE</code>type<code>pthread_cancel</code></li>\n<li>type<code>PTHREAD_CANCEL_DEFERRED</code>type<code>PTHREAD_CANCEL_ASYNCHRONOUS</code></li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">int</span> code = <span class=\"number\">11</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">(<span class=\"keyword\">void</span> *args)</span> </span>&#123;</span><br><span class=\"line\">    pthread_setcancelstate(PTHREAD_CANCEL_ENABLE, &amp;last_state); </span><br><span class=\"line\">    pthread_setcanceltype(PTHREAD_CANCEL_DEFERRED, &amp;last_type);</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = (<span class=\"keyword\">char</span> *) args;</span><br><span class=\"line\">    sleep(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, %s!\\n\"</span>, str);</span><br><span class=\"line\">    pthread_exit(&amp;code);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> thread;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> status = pthread_create(&amp;thread, <span class=\"literal\">NULL</span>, (<span class=\"keyword\">void</span> *)hello, (<span class=\"keyword\">void</span> *) <span class=\"string\">\"Jayzee\"</span>);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread create status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *exit_code = <span class=\"number\">0</span>;</span><br><span class=\"line\">    status = pthread_join(thread, (<span class=\"keyword\">void</span> *) &amp;exit_code);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread join status : %d\\n\"</span>, status);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"thread exit code : %d\\n\"</span>, *exit_code);</span><br><span class=\"line\">    pthread_cancel(thread);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_key_create(pthread_key_t *key, void (*destructor)(void*));</span><br><span class=\"line\">int pthread_setspecific(pthread_key_t key, const void *value);</span><br><span class=\"line\">void *pthread_getspecific(pthread_key_t key);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_key_create</code><code>key</code><code>destructor</code><code>key</code></li>\n<li><code>pthread_setspecific</code>key-value<code>pthread_getspecific</code>keyvalue</li>\n<li><code>pthread_getspecific</code><code>destructor</code><code>pthread_getspecific</code><code>destructor</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;malloc.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* The key used to associate a log file pointer with each thread. */</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"keyword\">pthread_key_t</span> thread_log_key;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Write MESSAGE to the log file for the current thread. */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">write_to_thread_log</span> <span class=\"params\">(<span class=\"keyword\">const</span> <span class=\"keyword\">char</span>* message)</span> </span>&#123;</span><br><span class=\"line\">    FILE* thread_log = (FILE*) pthread_getspecific (thread_log_key);</span><br><span class=\"line\">    <span class=\"built_in\">fprintf</span> (thread_log, <span class=\"string\">\"%s\\n\"</span>, message);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Close the log file pointer THREAD_LOG. */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">close_thread_log</span> <span class=\"params\">(<span class=\"keyword\">void</span>* thread_log)</span> </span>&#123;</span><br><span class=\"line\">    fclose ((FILE*) thread_log);    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span>* <span class=\"title\">thread_function</span> <span class=\"params\">(<span class=\"keyword\">void</span>* args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> thread_log_filename[<span class=\"number\">20</span>];</span><br><span class=\"line\">    FILE* thread_log;</span><br><span class=\"line\">    <span class=\"comment\">/* Generate the filename for this threads log file. */</span></span><br><span class=\"line\">    <span class=\"built_in\">sprintf</span> (thread_log_filename, <span class=\"string\">\"thread%d.log\"</span>, (<span class=\"keyword\">int</span>) pthread_self ());</span><br><span class=\"line\">    <span class=\"comment\">/* Open the log file. */</span></span><br><span class=\"line\">    thread_log = fopen (thread_log_filename, <span class=\"string\">\"w\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">/* Store the file pointer in thread-specific data under thread_log_key. */</span></span><br><span class=\"line\">    pthread_setspecific (thread_log_key, thread_log);</span><br><span class=\"line\">    write_to_thread_log (<span class=\"string\">\"Thread starting.\"</span>);</span><br><span class=\"line\">    <span class=\"comment\">/* Do work here... */</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span> <span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> threads[<span class=\"number\">5</span>];</span><br><span class=\"line\">    <span class=\"comment\">/* Create a key to associate thread log file pointers in</span></span><br><span class=\"line\"><span class=\"comment\">    thread-specific data. Use close_thread_log to clean up the file</span></span><br><span class=\"line\"><span class=\"comment\">    pointers. */</span></span><br><span class=\"line\">    pthread_key_create (&amp;thread_log_key, close_thread_log);</span><br><span class=\"line\">    <span class=\"comment\">/* Create threads to do the work. */</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i)</span><br><span class=\"line\">        pthread_create (&amp;(threads[i]), <span class=\"literal\">NULL</span>, thread_function, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    <span class=\"comment\">/* Wait for all threads to finish. */</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i)</span><br><span class=\"line\">        pthread_join (threads[i], <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void pthread_cleanup_push(void (*routine)(void *), void *arg);</span><br><span class=\"line\">void pthread_cleanup_pop(int execute);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_cleanup_push</code></li>\n<li><code>pthread_cleanup_pop</code><code>execute</code>0</li>\n<li></li>\n<li>longjump<code>pthread_cleanup_pop</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_mutex_destroy(pthread_mutex_t *mutex);</span><br><span class=\"line\">int pthread_mutex_init(pthread_mutex_t *restrict mutex,</span><br><span class=\"line\">    const pthread_mutexattr_t *restrict attr);</span><br><span class=\"line\">pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_mutex_destroy</code><code>pthread_mutex_init</code></li>\n<li><code>pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;</code></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_mutex_lock(pthread_mutex_t *mutex);</span><br><span class=\"line\">int pthread_mutex_trylock(pthread_mutex_t *mutex);</span><br><span class=\"line\">int pthread_mutex_unlock(pthread_mutex_t *mutex);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_mutex_lock</code><code>pthread_mutex_trylock</code><code>pthread_mutex_unlock</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_mutexattr_t</span> attr;</span><br><span class=\"line\">    <span class=\"keyword\">pthread_mutex_t</span> mutex;</span><br><span class=\"line\">    pthread_mutexattr_init (&amp;attr);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    pthread_mutexattr_setkind_np (&amp;attr, PTHREAD_MUTEX_ERRORCHECK_NP);</span><br><span class=\"line\">    pthread_mutex_init (&amp;mutex, &amp;attr);</span><br><span class=\"line\">    pthread_mutex_lock(&amp;mutex);</span><br><span class=\"line\">    <span class=\"comment\">/** do some work **/</span></span><br><span class=\"line\">    pthread_mutex_unlock(&amp;mutex);</span><br><span class=\"line\">    pthread_mutexattr_destroy (&amp;attr);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int sem_init(sem_t *sem, int pshared, unsigned int value);</span><br><span class=\"line\">int sem_post(sem_t *sem);</span><br><span class=\"line\">int sem_wait(sem_t *sem);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>sem_init</code><code>sem</code><code>pshared</code>00<code>value</code>0</li>\n<li><code>sem_wait</code><code>sem_wait</code>0<code>sem_post</code></li>\n<li><code>sem_post</code></li>\n<li><code>sem_wait</code><code>sem_post</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;unistd.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;semaphore.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">sem_t</span> semaphore;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">threadfunc</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (; i&lt;<span class=\"number\">10</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        sem_wait(&amp;semaphore);</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello from da thread!\\n\"</span>);</span><br><span class=\"line\">        sem_post(&amp;semaphore);</span><br><span class=\"line\">        sleep(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">void</span>)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    sem_init(&amp;semaphore, <span class=\"number\">0</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">pthread_t</span> *mythread;    </span><br><span class=\"line\">    mythread = (<span class=\"keyword\">pthread_t</span> *)<span class=\"built_in\">malloc</span>(<span class=\"keyword\">sizeof</span>(*mythread));</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Starting thread, semaphore is unlocked.\\n\"</span>);</span><br><span class=\"line\">    pthread_create(mythread, <span class=\"literal\">NULL</span>, (<span class=\"keyword\">void</span>*)threadfunc, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    pthread_join(mythread, <span class=\"literal\">NULL</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int pthread_cond_init(pthread_cond_t *restrict cond,</span><br><span class=\"line\">    const pthread_condattr_t *restrict attr);</span><br><span class=\"line\">pthread_cond_t cond = PTHREAD_COND_INITIALIZER;</span><br><span class=\"line\">int pthread_cond_signal(pthread_cond_t *cond);</span><br><span class=\"line\">int pthread_cond_wait(pthread_cond_t *restrict cond,</span><br><span class=\"line\">   pthread_mutex_t *restrict mutex);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>pthread_cond_t cond = PTHREAD_COND_INITIALIZER;</code><code>pthread_cond_init(&amp;pthread_cond_t, NULL);</code></li>\n<li><code>pthread_cond_signal</code><code>pthread_cond_wait</code></li>\n<li><code>pthread_cond_wait</code><code>pthread_cond_signal</code></li>\n<li><code>pthread_cond_timedwait</code></li>\n</ol>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;pthread.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">pthread_mutex_t</span> mutex = PTHREAD_MUTEX_INITIALIZER;</span><br><span class=\"line\"><span class=\"keyword\">pthread_cond_t</span> cond = PTHREAD_COND_INITIALIZER;</span><br><span class=\"line\"><span class=\"keyword\">int</span> condition = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">consume</span><span class=\"params\">( <span class=\"keyword\">void</span> )</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>( <span class=\"number\">1</span> )</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        pthread_mutex_lock( &amp;mutex );</span><br><span class=\"line\">        <span class=\"keyword\">while</span>( condition == <span class=\"number\">0</span> )</span><br><span class=\"line\">            pthread_cond_wait( &amp;cond, &amp;mutex );</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>( <span class=\"string\">\"Consumed %d\\n\"</span>, count );</span><br><span class=\"line\">        condition = <span class=\"number\">0</span>;</span><br><span class=\"line\">        pthread_cond_signal( &amp;cond );        </span><br><span class=\"line\">        pthread_mutex_unlock( &amp;mutex );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span>( <span class=\"number\">0</span> );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span>* <span class=\"title\">produce</span><span class=\"params\">( <span class=\"keyword\">void</span> * arg )</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>( <span class=\"number\">1</span> )</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        pthread_mutex_lock( &amp;mutex );</span><br><span class=\"line\">        <span class=\"keyword\">while</span>( condition == <span class=\"number\">1</span> )</span><br><span class=\"line\">            pthread_cond_wait( &amp;cond, &amp;mutex );</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>( <span class=\"string\">\"Produced %d\\n\"</span>, count++ );</span><br><span class=\"line\">        condition = <span class=\"number\">1</span>;</span><br><span class=\"line\">        pthread_cond_signal( &amp;cond );        </span><br><span class=\"line\">        pthread_mutex_unlock( &amp;mutex );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>( <span class=\"number\">0</span> );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">( <span class=\"keyword\">void</span> )</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    pthread_create( <span class=\"literal\">NULL</span>, <span class=\"literal\">NULL</span>, &amp;produce, <span class=\"literal\">NULL</span> );</span><br><span class=\"line\">    <span class=\"keyword\">return</span> consume();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Linux<code>clone()</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/ipc.h&gt;</span><br><span class=\"line\">#include &lt;sys/shm.h&gt;</span><br><span class=\"line\">int shmget(key_t key, size_t size, int shmflg);</span><br><span class=\"line\">void *shmat(int shmid, const void *shmaddr, int shmflg);</span><br><span class=\"line\">int shmdt(const void *shmaddr);</span><br><span class=\"line\">int shmctl(int shmid, int cmd, struct shmid_ds *buf);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>shmget</code></li>\n<li><code>shmat</code>1</li>\n<li><code>shmdt</code>10</li>\n<li><code>shmctl</code></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/types.h&gt;</span><br><span class=\"line\">#include &lt;sys/ipc.h&gt;</span><br><span class=\"line\">#include &lt;sys/sem.h&gt;</span><br><span class=\"line\">int semget(key_t key, int nsems, int semflg);</span><br><span class=\"line\">int semctl(int semid, int semnum, int cmd, ...);</span><br><span class=\"line\">int semop(int semid, struct sembuf *sops, size_t nsops);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>semget</code></li>\n<li><code>semctl</code></li>\n<li><code>semop</code>waitpost</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/mman.h&gt;</span><br><span class=\"line\">void *mmap(void *addr, size_t length, int prot, int flags,</span><br><span class=\"line\">    int fd, off_t offset);</span><br></pre></td></tr></table></figure>\n<p><code>mmap</code>read,write</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;unistd.h&gt;</span><br><span class=\"line\">int pipe(int pipefd[2]);</span><br></pre></td></tr></table></figure>\n<p><code>pipe</code></p>\n<h3 id=\"Socket\"><a href=\"#Socket\" class=\"headerlink\" title=\"Socket\"></a>Socket</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/types.h&gt;</span><br><span class=\"line\">#include &lt;sys/socket.h&gt;</span><br><span class=\"line\">int socket(int domain, int type, int protocol);</span><br><span class=\"line\">int close(int fd);</span><br><span class=\"line\">int connect(int sockfd, const struct sockaddr *addr,</span><br><span class=\"line\">    socklen_t addrlen);</span><br><span class=\"line\">int bind(int sockfd, const struct sockaddr *addr,</span><br><span class=\"line\">    socklen_t addrlen);</span><br><span class=\"line\">int listen(int sockfd, int backlog);</span><br><span class=\"line\">int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);</span><br></pre></td></tr></table></figure>\n<ol>\n<li><code>socket</code>socket</li>\n<li><code>close</code>socket</li>\n<li><code>connect</code>socket</li>\n<li><code>bind</code>socket</li>\n<li><code>listen</code>socket</li>\n<li><code>accept</code>socketsocket</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/types.h&gt;</span><br><span class=\"line\">#include &lt;sys/stat.h&gt;</span><br><span class=\"line\">#include &lt;fcntl.h&gt;</span><br><span class=\"line\">#include &lt;unistd.h&gt;</span><br><span class=\"line\">int mknod(const char *pathname, mode_t mode, dev_t dev);</span><br></pre></td></tr></table></figure>\n<p><code>mknod</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;sys/ioctl.h&gt;</span><br><span class=\"line\">int ioctl(int d, unsigned long request, ...);</span><br></pre></td></tr></table></figure>\n<p><code>ioctl</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>/dev/null</code>IO<code>/dev/null</code></p>\n<p><code>/dev/zero</code></p>\n<p><code>/dev/random</code></p>\n<p><code>/dev/tty*</code></p>\n<p><code>pty</code></p>\n<p><code>pty</code></p>\n<ul>\n<li><code>ptmx</code>master</li>\n<li><code>pts</code>masterslave<code>pts</code>SSHmaster<code>pts</code></li>\n</ul>\n<h2 id=\"-proc\"><a href=\"#-proc\" class=\"headerlink\" title=\"/proc\"></a>/proc</h2><p><code>/proc/cpuinfo</code>cpu</p>\n<p><code>/proc/meminfo</code></p>\n<p><code>/proc/self</code></p>\n<p><code>/proc/pid_number</code>pidpid_number</p>\n<p><code>/proc/loadavg</code></p>\n<p><code>/proc/uptime</code></p>\n<p><code>/proc/interrupts</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>strace</code></p>\n<p><code>access</code><br><code>fcntl</code></p>\n<p><code>fsync</code><code>fdatasync</code></p>\n<p><code>getrlimit</code></p>\n<p><code>getrusage</code></p>\n<p><code>gettimeofday</code></p>\n<p><code>mlock</code></p>\n<p><code>mprotect</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"ID\"><a href=\"#ID\" class=\"headerlink\" title=\"ID\"></a>ID</h3><p>IDIDIDShell<code>id</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># uid0root</span><br><span class=\"line\">uid=0(root) gid=0(root) groups=0(root),1001(nagcmd)</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>ls -l APL.txt</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-rw-r--r-- 1 Jayzee None   1237  18 12:19 APL.txt</span><br></pre></td></tr></table></figure>\n<p><code>-rw-r--r--</code></p>\n<ul>\n<li><code>-</code><code>d</code></li>\n<li>24<code>rw-</code><code>Jayzee</code>rwx</li>\n<li>57<code>r--</code><code>None</code></li>\n<li>810<code>r--</code></li>\n</ul>\n<p><code>man chmod</code><br><code>man chown</code></p>\n<p><strong></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">drwxrwxrwt   1 root root 26416 5  18 21:53 tmp</span><br></pre></td></tr></table></figure>\n<p>xt<code>t</code>sticky bits</p>\n<h3 id=\"IDID\"><a href=\"#IDID\" class=\"headerlink\" title=\"IDID\"></a>IDID</h3><p><code>euid</code>ideffective<code>uid</code>idreal</p>\n<p><code>man 2 getuid</code>Cuid<br><code>man 2 geteuid</code>Ceuid</p>\n<p>euid</p>\n<ol>\n<li>Linux Kerneleuid</li>\n<li>euiduid</li>\n<li>euiduiduid</li>\n</ol>\n<p>id</p>\n<ol>\n<li>Linux</li>\n<li><code>exec</code>User Shellpts</li>\n<li>LinuxUser Shelleuiduiduideuid0User Shelleuiduid</li>\n</ol>\n<p></p>\n<ol>\n<li><code>euid = uid</code>Shell</li>\n<li><code>uid = euid</code>LinuxeuiduidLinuxroot</li>\n</ol>\n<p><code>su</code></p>\n<ol>\n<li><code>/bin/su</code>rootxsxs<code>geteuid</code>uideuid</li>\n<li>Linuxrootuideuid0</li>\n<li><code>su</code>User ShellKernelUser Shell</li>\n</ol>\n<p>IDID</p>"},{"layout":"post","title":"HBase","date":"2016-05-11T13:19:00.000Z","comments":1,"_content":"\nHBase\n\n<!--more-->\n\n## Exportrowkey\n\n\n\n```\nhbase org.apache.hadoop.hbase.mapreduce.Export your_hbase_table_name your_hdfs_file_path\n```\n\nrowkeyHBase\n\n<!--more-->\n\n## \n\nhadoop+hbase\n\n$ `hadoop version`\n\n```\nHadoop 2.6.0-cdh5.4.3\nSubversion http://github.com/cloudera/hadoop -r 4cd9f51a3f1ef748d45b8d77d0f211ad44296d4b\nCompiled by jenkins on 2015-06-25T02:34Z\nCompiled with protoc 2.5.0\nFrom source with checksum 4acea6ac185376e0b48b33695e88e7a7\nThis command was run using /opt/cloudera/parcels/CDH-5.4.3-1.cdh5.4.3.p0.6/jars/hadoop-common-2.6.0-cdh5.4.3.jar\n```\n\n$ `hbase version`\n\n```\nJava HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release\n16/06/04 13:13:30 INFO util.VersionInfo: HBase 1.0.0-cdh5.4.3\n16/06/04 13:13:30 INFO util.VersionInfo: Source code repository file:///data/jenkins/workspace/generic-package-ubuntu64-12-04/CDH5.4.3-Packaging-HBase-2015-06-24_19-16-53/hbase-1.0.0+cdh5.4.3+159-1.cdh5.4.3.p0.9~precise revision=Unknown\n16/06/04 13:13:30 INFO util.VersionInfo: Compiled by jenkins on Wed Jun 24 19:32:40 PDT 2015\n16/06/04 13:13:30 INFO util.VersionInfo: From source with checksum d5809febb1e487265280a25f5c74202e\n```\n\n## Exportrowkey\n\norg.apache.hadoop.hbase.mapreduce.Export.javahadoop+hbase\n\n\n\n```bash\n# \nexport HADOOP_CLASSPATH=$(hbase classpath)\nhadoop com.sun.tools.javac.Main Export.java\njar cf Export.jar Export.class\n# hdfs\nsu\nsu hdfs -c 'hdfs dfs -mkdir /backup'\nsu hdfs -c 'hdfs dfs -mkdir /backup/20160512'\nsu hdfs -c 'hdfs dfs -ls  /'\n# jar\n## Export\nhadoop jar Export.jar Export group_hour /backup/20160512/group_hour\n## rowkey\nhadoop jar Export.jar Export -D hbase.mapreduce.scan.row.start=1,9,2016-05-01 -D hbase.mapreduce.scan.row.stop=1,9,2015-05-02 group_hour /backup/20160512/group_hour_rowkey\n```\n\n`hdfs dfs -get your_hdfs_filepath your_filesystem_filepath`\n\nExport.java\n\n```java\n/**\n *\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport java.io.IOException;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\n\nimport com.sun.security.auth.module.UnixSystem;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.apache.hadoop.hbase.classification.InterfaceAudience;\nimport org.apache.hadoop.hbase.classification.InterfaceStability;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.client.Scan;\nimport org.apache.hadoop.hbase.filter.CompareFilter.CompareOp;\nimport org.apache.hadoop.hbase.filter.Filter;\nimport org.apache.hadoop.hbase.filter.IncompatibleFilterException;\nimport org.apache.hadoop.hbase.filter.PrefixFilter;\nimport org.apache.hadoop.hbase.filter.RegexStringComparator;\nimport org.apache.hadoop.hbase.filter.RowFilter;\nimport org.apache.hadoop.hbase.io.ImmutableBytesWritable;\nimport org.apache.hadoop.hbase.mapreduce.IdentityTableMapper;\nimport org.apache.hadoop.hbase.mapreduce.TableInputFormat;\nimport org.apache.hadoop.hbase.util.Bytes;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat;\nimport org.apache.hadoop.util.GenericOptionsParser;\n\n/**\n * Export an HBase table. Writes content to sequence files up in HDFS. Use\n * {@link Import} to read it back in again.\n */\n@InterfaceAudience.Public\n@InterfaceStability.Stable\npublic class Export {\n    private static final Log LOG = LogFactory.getLog(Export.class);\n    final static String NAME = \"export\";\n    final static String RAW_SCAN = \"hbase.mapreduce.include.deleted.rows\";\n    final static String EXPORT_BATCHING = \"hbase.export.scanner.batch\";\n    final static DateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n    /**\n     * Sets up the actual job.\n     *\n     * @param conf\n     *            The current configuration.\n     * @param args\n     *            The command line parameters.\n     * @return The newly created job.\n     * @throws IOException\n     *             When setting up the job fails.\n     */\n    public static Job createSubmittableJob(Configuration conf, String[] args)\n            throws IOException {\n        String tableName = args[0];\n        Path outputDir = new Path(args[1]);\n        Job job = new Job(conf, NAME + \"_\" + tableName);\n        job.setJobName(NAME + \"_\" + tableName);\n        job.setJarByClass(Export.class);\n        job.setUser(\"hdfs\");\n        // Set optional scan parameters\n        Scan s = getConfiguredScanForJob(conf, args);\n        IdentityTableMapper.initJob(tableName, s, IdentityTableMapper.class,\n                job);\n        // No reducers. Just write straight to output files.\n        job.setNumReduceTasks(0);\n        job.setOutputFormatClass(SequenceFileOutputFormat.class);\n        job.setOutputKeyClass(ImmutableBytesWritable.class);\n        job.setOutputValueClass(Result.class);\n        FileOutputFormat.setOutputPath(job, outputDir); // job conf doesn't\n                                                        // contain the conf so\n                                                        // doesn't have a\n                                                        // default fs.\n        return job;\n    }\n\n    private static Scan getConfiguredScanForJob(Configuration conf,\n            String[] args) throws IOException {\n        Scan s = new Scan();\n        // Optional arguments.\n        // Set Scan Versions\n        int versions = args.length > 2 ? Integer.parseInt(args[2]) : 1;\n        s.setMaxVersions(versions);\n        // Set Scan Range\n        long startTime = args.length > 3 ? Long.parseLong(args[3]) : 0L;\n        long endTime = args.length > 4 ? Long.parseLong(args[4])\n                : Long.MAX_VALUE;\n        s.setTimeRange(startTime, endTime);\n        // Set cache blocks\n        s.setCacheBlocks(false);\n        // set Start and Stop row\n        if (conf.get(TableInputFormat.SCAN_ROW_START) != null) {\n            String rowStart[] = conf.get(TableInputFormat.SCAN_ROW_START).split(\",\");\n            Short companyID = Short.valueOf(rowStart[0]);\n            Short deviceID = Short.valueOf(rowStart[1]);\n            Long insertTime = 0l;\n            try {\n                insertTime = format.parse(rowStart[2]).getTime();\n            } catch (ParseException e) {\n                // ignore\n            }\n            s.setStartRow(Bytes.add(Bytes.toBytes(companyID),\n                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));\n        }\n        if (conf.get(TableInputFormat.SCAN_ROW_STOP) != null) {\n            String rowStop[] = conf.get(TableInputFormat.SCAN_ROW_STOP).split(\",\");\n            Short companyID = Short.valueOf(rowStop[0]);\n            Short deviceID = Short.valueOf(rowStop[1]);\n            Long insertTime = 0l;\n            try {\n                insertTime = format.parse(rowStop[2]).getTime();\n            } catch (ParseException e) {\n                // ignore\n            }\n            s.setStopRow(Bytes.add(Bytes.toBytes(companyID),\n                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));\n        }\n        // Set Scan Column Family\n        boolean raw = Boolean.parseBoolean(conf.get(RAW_SCAN));\n        if (raw) {\n            s.setRaw(raw);\n        }\n\n        if (conf.get(TableInputFormat.SCAN_COLUMN_FAMILY) != null) {\n            s.addFamily(Bytes.toBytes(conf\n                    .get(TableInputFormat.SCAN_COLUMN_FAMILY)));\n        }\n        // Set RowFilter or Prefix Filter if applicable.\n        Filter exportFilter = getExportFilter(args);\n        if (exportFilter != null) {\n            LOG.info(\"Setting Scan Filter for Export.\");\n            s.setFilter(exportFilter);\n        }\n\n        int batching = conf.getInt(EXPORT_BATCHING, -1);\n        if (batching != -1) {\n            try {\n                s.setBatch(batching);\n            } catch (IncompatibleFilterException e) {\n                LOG.error(\"Batching could not be set\", e);\n            }\n        }\n        StringBuffer sb = new StringBuffer(\"versions=\" + versions + \", starttime=\" + startTime\n                + \", endtime=\" + endTime + \", keepDeletedCells=\" + raw);\n        if (conf.get(TableInputFormat.SCAN_ROW_START) != null) {\n            sb.append(\", startRow=\" + conf.get(TableInputFormat.SCAN_ROW_START));\n            sb.append(\", stopRow=\" + conf.get(TableInputFormat.SCAN_ROW_STOP));\n        }\n        LOG.info(sb.toString());\n        return s;\n    }\n\n    private static Filter getExportFilter(String[] args) {\n        Filter exportFilter = null;\n        String filterCriteria = (args.length > 5) ? args[5] : null;\n        if (filterCriteria == null)\n            return null;\n        if (filterCriteria.startsWith(\"^\")) {\n            String regexPattern = filterCriteria.substring(1,\n                    filterCriteria.length());\n            exportFilter = new RowFilter(CompareOp.EQUAL,\n                    new RegexStringComparator(regexPattern));\n        } else {\n            exportFilter = new PrefixFilter(Bytes.toBytes(filterCriteria));\n        }\n        return exportFilter;\n    }\n\n    /*\n     * @param errorMsg Error message. Can be null.\n     */\n    private static void usage(final String errorMsg) {\n        if (errorMsg != null && errorMsg.length() > 0) {\n            System.err.println(\"ERROR: \" + errorMsg);\n        }\n        System.err\n                .println(\"Usage: Export [-D <property=value>]* <tablename> <outputdir> [<versions> \"\n                        + \"[<starttime> [<endtime>]] [^[regex pattern] or [Prefix] to filter]]\\n\");\n        System.err\n                .println(\"  Note: -D properties will be applied to the conf used. \");\n        System.err.println(\"  For example: \");\n        System.err\n                .println(\"   -D mapreduce.output.fileoutputformat.compress=true\");\n        System.err\n                .println(\"   -D mapreduce.output.fileoutputformat.compress.codec=org.apache.hadoop.io.compress.GzipCodec\");\n        System.err\n                .println(\"   -D mapreduce.output.fileoutputformat.compress.type=BLOCK\");\n        System.err\n                .println(\"  Additionally, the following SCAN properties can be specified\");\n        System.err.println(\"  to control/limit what is exported..\");\n        System.err.println(\"   -D \" + TableInputFormat.SCAN_COLUMN_FAMILY\n                + \"=<familyName>\");\n        System.err.println(\"   -D \" + RAW_SCAN + \"=true\");\n        System.err.println(\"   -D \" + TableInputFormat.SCAN_ROW_START\n                + \"=<CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)>\");\n        System.err.println(\"   -D \" + TableInputFormat.SCAN_ROW_STOP\n                + \"=<CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)>\");\n        System.err\n                .println(\"For performance consider the following properties:\\n\"\n                        + \"   -Dhbase.client.scanner.caching=100\\n\"\n                        + \"   -Dmapreduce.map.speculative=false\\n\"\n                        + \"   -Dmapreduce.reduce.speculative=false\");\n        System.err\n                .println(\"For tables with very wide rows consider setting the batch size as below:\\n\"\n                        + \"   -D\" + EXPORT_BATCHING + \"=10\");\n    }\n\n    /**\n     * Main entry point.\n     *\n     * @param args\n     *            The command line parameters.\n     * @throws Exception\n     *             When running the job fails.\n     */\n    public static void main(String[] args) throws Exception {\n        System.setProperty(\"HADOOP_USER_NAME\", \"hdfs\");\n        UnixSystem us = new UnixSystem();\n        System.out.println(\"Unix Username : \" + us.getUsername());\n        // -----------------------------------------------------\n        Configuration conf = HBaseConfiguration.create();\n        String[] otherArgs = new GenericOptionsParser(conf, args)\n                .getRemainingArgs();\n        if (otherArgs.length < 2) {\n            usage(\"Wrong number of arguments: \" + otherArgs.length);\n            System.exit(-1);\n        }\n        // Check StartRow And StopRow\n        String rowStart = conf.get(TableInputFormat.SCAN_ROW_START);\n        String rowStop = conf.get(TableInputFormat.SCAN_ROW_STOP);\n        if(rowStart == null && rowStop == null) {\n            // do nothing\n        } else {\n            if(rowStart != null && rowStop != null) {\n                // check rowStart\n                String strToCheck[] = rowStart.split(\",\");\n                try {\n                    Short.valueOf(strToCheck[0]);\n                    Short.valueOf(strToCheck[1]);\n                } catch (Exception e) {\n                    usage(\"String parsed to Short error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_START + \" : \" + rowStart);\n                    System.exit(-1);\n                }\n                try {\n                    format.parse(strToCheck[2]);\n                } catch (Exception e) {\n                    usage(\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_START + \" : \" + rowStart);\n                    System.exit(-1);\n                }\n                // check rowStop\n                strToCheck = rowStop.split(\",\");\n                try {\n                    Short.valueOf(strToCheck[0]);\n                    Short.valueOf(strToCheck[1]);\n                } catch (Exception e) {\n                    usage(\"String parsed to Short error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_STOP + \" : \" + rowStop);\n                    System.exit(-1);\n                }\n                try {\n                    format.parse(strToCheck[2]);\n                } catch (Exception e) {\n                    usage(\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_STOP + \" : \" + rowStop);\n                    System.exit(-1);\n                }\n            } else {\n                usage(TableInputFormat.SCAN_ROW_START + \" and \" + TableInputFormat.SCAN_ROW_STOP + \" must both not be null.\");\n                System.exit(-1);\n            }\n        }\n        Job job = createSubmittableJob(conf, otherArgs);\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\n    }\n}\n\n```\n","source":"_posts/2016-05-11-hbase-incremental-backup.markdown","raw":"---\nlayout: post\ntitle: HBase\ndate: '2016-05-11 21:19'\ncomments: true\ncategories: ['']  \ntags: ['HBase', 'Hadoop']\n---\n\nHBase\n\n<!--more-->\n\n## Exportrowkey\n\n\n\n```\nhbase org.apache.hadoop.hbase.mapreduce.Export your_hbase_table_name your_hdfs_file_path\n```\n\nrowkeyHBase\n\n<!--more-->\n\n## \n\nhadoop+hbase\n\n$ `hadoop version`\n\n```\nHadoop 2.6.0-cdh5.4.3\nSubversion http://github.com/cloudera/hadoop -r 4cd9f51a3f1ef748d45b8d77d0f211ad44296d4b\nCompiled by jenkins on 2015-06-25T02:34Z\nCompiled with protoc 2.5.0\nFrom source with checksum 4acea6ac185376e0b48b33695e88e7a7\nThis command was run using /opt/cloudera/parcels/CDH-5.4.3-1.cdh5.4.3.p0.6/jars/hadoop-common-2.6.0-cdh5.4.3.jar\n```\n\n$ `hbase version`\n\n```\nJava HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release\n16/06/04 13:13:30 INFO util.VersionInfo: HBase 1.0.0-cdh5.4.3\n16/06/04 13:13:30 INFO util.VersionInfo: Source code repository file:///data/jenkins/workspace/generic-package-ubuntu64-12-04/CDH5.4.3-Packaging-HBase-2015-06-24_19-16-53/hbase-1.0.0+cdh5.4.3+159-1.cdh5.4.3.p0.9~precise revision=Unknown\n16/06/04 13:13:30 INFO util.VersionInfo: Compiled by jenkins on Wed Jun 24 19:32:40 PDT 2015\n16/06/04 13:13:30 INFO util.VersionInfo: From source with checksum d5809febb1e487265280a25f5c74202e\n```\n\n## Exportrowkey\n\norg.apache.hadoop.hbase.mapreduce.Export.javahadoop+hbase\n\n\n\n```bash\n# \nexport HADOOP_CLASSPATH=$(hbase classpath)\nhadoop com.sun.tools.javac.Main Export.java\njar cf Export.jar Export.class\n# hdfs\nsu\nsu hdfs -c 'hdfs dfs -mkdir /backup'\nsu hdfs -c 'hdfs dfs -mkdir /backup/20160512'\nsu hdfs -c 'hdfs dfs -ls  /'\n# jar\n## Export\nhadoop jar Export.jar Export group_hour /backup/20160512/group_hour\n## rowkey\nhadoop jar Export.jar Export -D hbase.mapreduce.scan.row.start=1,9,2016-05-01 -D hbase.mapreduce.scan.row.stop=1,9,2015-05-02 group_hour /backup/20160512/group_hour_rowkey\n```\n\n`hdfs dfs -get your_hdfs_filepath your_filesystem_filepath`\n\nExport.java\n\n```java\n/**\n *\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport java.io.IOException;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\n\nimport com.sun.security.auth.module.UnixSystem;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.apache.hadoop.hbase.classification.InterfaceAudience;\nimport org.apache.hadoop.hbase.classification.InterfaceStability;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.client.Scan;\nimport org.apache.hadoop.hbase.filter.CompareFilter.CompareOp;\nimport org.apache.hadoop.hbase.filter.Filter;\nimport org.apache.hadoop.hbase.filter.IncompatibleFilterException;\nimport org.apache.hadoop.hbase.filter.PrefixFilter;\nimport org.apache.hadoop.hbase.filter.RegexStringComparator;\nimport org.apache.hadoop.hbase.filter.RowFilter;\nimport org.apache.hadoop.hbase.io.ImmutableBytesWritable;\nimport org.apache.hadoop.hbase.mapreduce.IdentityTableMapper;\nimport org.apache.hadoop.hbase.mapreduce.TableInputFormat;\nimport org.apache.hadoop.hbase.util.Bytes;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat;\nimport org.apache.hadoop.util.GenericOptionsParser;\n\n/**\n * Export an HBase table. Writes content to sequence files up in HDFS. Use\n * {@link Import} to read it back in again.\n */\n@InterfaceAudience.Public\n@InterfaceStability.Stable\npublic class Export {\n    private static final Log LOG = LogFactory.getLog(Export.class);\n    final static String NAME = \"export\";\n    final static String RAW_SCAN = \"hbase.mapreduce.include.deleted.rows\";\n    final static String EXPORT_BATCHING = \"hbase.export.scanner.batch\";\n    final static DateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n    /**\n     * Sets up the actual job.\n     *\n     * @param conf\n     *            The current configuration.\n     * @param args\n     *            The command line parameters.\n     * @return The newly created job.\n     * @throws IOException\n     *             When setting up the job fails.\n     */\n    public static Job createSubmittableJob(Configuration conf, String[] args)\n            throws IOException {\n        String tableName = args[0];\n        Path outputDir = new Path(args[1]);\n        Job job = new Job(conf, NAME + \"_\" + tableName);\n        job.setJobName(NAME + \"_\" + tableName);\n        job.setJarByClass(Export.class);\n        job.setUser(\"hdfs\");\n        // Set optional scan parameters\n        Scan s = getConfiguredScanForJob(conf, args);\n        IdentityTableMapper.initJob(tableName, s, IdentityTableMapper.class,\n                job);\n        // No reducers. Just write straight to output files.\n        job.setNumReduceTasks(0);\n        job.setOutputFormatClass(SequenceFileOutputFormat.class);\n        job.setOutputKeyClass(ImmutableBytesWritable.class);\n        job.setOutputValueClass(Result.class);\n        FileOutputFormat.setOutputPath(job, outputDir); // job conf doesn't\n                                                        // contain the conf so\n                                                        // doesn't have a\n                                                        // default fs.\n        return job;\n    }\n\n    private static Scan getConfiguredScanForJob(Configuration conf,\n            String[] args) throws IOException {\n        Scan s = new Scan();\n        // Optional arguments.\n        // Set Scan Versions\n        int versions = args.length > 2 ? Integer.parseInt(args[2]) : 1;\n        s.setMaxVersions(versions);\n        // Set Scan Range\n        long startTime = args.length > 3 ? Long.parseLong(args[3]) : 0L;\n        long endTime = args.length > 4 ? Long.parseLong(args[4])\n                : Long.MAX_VALUE;\n        s.setTimeRange(startTime, endTime);\n        // Set cache blocks\n        s.setCacheBlocks(false);\n        // set Start and Stop row\n        if (conf.get(TableInputFormat.SCAN_ROW_START) != null) {\n            String rowStart[] = conf.get(TableInputFormat.SCAN_ROW_START).split(\",\");\n            Short companyID = Short.valueOf(rowStart[0]);\n            Short deviceID = Short.valueOf(rowStart[1]);\n            Long insertTime = 0l;\n            try {\n                insertTime = format.parse(rowStart[2]).getTime();\n            } catch (ParseException e) {\n                // ignore\n            }\n            s.setStartRow(Bytes.add(Bytes.toBytes(companyID),\n                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));\n        }\n        if (conf.get(TableInputFormat.SCAN_ROW_STOP) != null) {\n            String rowStop[] = conf.get(TableInputFormat.SCAN_ROW_STOP).split(\",\");\n            Short companyID = Short.valueOf(rowStop[0]);\n            Short deviceID = Short.valueOf(rowStop[1]);\n            Long insertTime = 0l;\n            try {\n                insertTime = format.parse(rowStop[2]).getTime();\n            } catch (ParseException e) {\n                // ignore\n            }\n            s.setStopRow(Bytes.add(Bytes.toBytes(companyID),\n                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));\n        }\n        // Set Scan Column Family\n        boolean raw = Boolean.parseBoolean(conf.get(RAW_SCAN));\n        if (raw) {\n            s.setRaw(raw);\n        }\n\n        if (conf.get(TableInputFormat.SCAN_COLUMN_FAMILY) != null) {\n            s.addFamily(Bytes.toBytes(conf\n                    .get(TableInputFormat.SCAN_COLUMN_FAMILY)));\n        }\n        // Set RowFilter or Prefix Filter if applicable.\n        Filter exportFilter = getExportFilter(args);\n        if (exportFilter != null) {\n            LOG.info(\"Setting Scan Filter for Export.\");\n            s.setFilter(exportFilter);\n        }\n\n        int batching = conf.getInt(EXPORT_BATCHING, -1);\n        if (batching != -1) {\n            try {\n                s.setBatch(batching);\n            } catch (IncompatibleFilterException e) {\n                LOG.error(\"Batching could not be set\", e);\n            }\n        }\n        StringBuffer sb = new StringBuffer(\"versions=\" + versions + \", starttime=\" + startTime\n                + \", endtime=\" + endTime + \", keepDeletedCells=\" + raw);\n        if (conf.get(TableInputFormat.SCAN_ROW_START) != null) {\n            sb.append(\", startRow=\" + conf.get(TableInputFormat.SCAN_ROW_START));\n            sb.append(\", stopRow=\" + conf.get(TableInputFormat.SCAN_ROW_STOP));\n        }\n        LOG.info(sb.toString());\n        return s;\n    }\n\n    private static Filter getExportFilter(String[] args) {\n        Filter exportFilter = null;\n        String filterCriteria = (args.length > 5) ? args[5] : null;\n        if (filterCriteria == null)\n            return null;\n        if (filterCriteria.startsWith(\"^\")) {\n            String regexPattern = filterCriteria.substring(1,\n                    filterCriteria.length());\n            exportFilter = new RowFilter(CompareOp.EQUAL,\n                    new RegexStringComparator(regexPattern));\n        } else {\n            exportFilter = new PrefixFilter(Bytes.toBytes(filterCriteria));\n        }\n        return exportFilter;\n    }\n\n    /*\n     * @param errorMsg Error message. Can be null.\n     */\n    private static void usage(final String errorMsg) {\n        if (errorMsg != null && errorMsg.length() > 0) {\n            System.err.println(\"ERROR: \" + errorMsg);\n        }\n        System.err\n                .println(\"Usage: Export [-D <property=value>]* <tablename> <outputdir> [<versions> \"\n                        + \"[<starttime> [<endtime>]] [^[regex pattern] or [Prefix] to filter]]\\n\");\n        System.err\n                .println(\"  Note: -D properties will be applied to the conf used. \");\n        System.err.println(\"  For example: \");\n        System.err\n                .println(\"   -D mapreduce.output.fileoutputformat.compress=true\");\n        System.err\n                .println(\"   -D mapreduce.output.fileoutputformat.compress.codec=org.apache.hadoop.io.compress.GzipCodec\");\n        System.err\n                .println(\"   -D mapreduce.output.fileoutputformat.compress.type=BLOCK\");\n        System.err\n                .println(\"  Additionally, the following SCAN properties can be specified\");\n        System.err.println(\"  to control/limit what is exported..\");\n        System.err.println(\"   -D \" + TableInputFormat.SCAN_COLUMN_FAMILY\n                + \"=<familyName>\");\n        System.err.println(\"   -D \" + RAW_SCAN + \"=true\");\n        System.err.println(\"   -D \" + TableInputFormat.SCAN_ROW_START\n                + \"=<CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)>\");\n        System.err.println(\"   -D \" + TableInputFormat.SCAN_ROW_STOP\n                + \"=<CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)>\");\n        System.err\n                .println(\"For performance consider the following properties:\\n\"\n                        + \"   -Dhbase.client.scanner.caching=100\\n\"\n                        + \"   -Dmapreduce.map.speculative=false\\n\"\n                        + \"   -Dmapreduce.reduce.speculative=false\");\n        System.err\n                .println(\"For tables with very wide rows consider setting the batch size as below:\\n\"\n                        + \"   -D\" + EXPORT_BATCHING + \"=10\");\n    }\n\n    /**\n     * Main entry point.\n     *\n     * @param args\n     *            The command line parameters.\n     * @throws Exception\n     *             When running the job fails.\n     */\n    public static void main(String[] args) throws Exception {\n        System.setProperty(\"HADOOP_USER_NAME\", \"hdfs\");\n        UnixSystem us = new UnixSystem();\n        System.out.println(\"Unix Username : \" + us.getUsername());\n        // -----------------------------------------------------\n        Configuration conf = HBaseConfiguration.create();\n        String[] otherArgs = new GenericOptionsParser(conf, args)\n                .getRemainingArgs();\n        if (otherArgs.length < 2) {\n            usage(\"Wrong number of arguments: \" + otherArgs.length);\n            System.exit(-1);\n        }\n        // Check StartRow And StopRow\n        String rowStart = conf.get(TableInputFormat.SCAN_ROW_START);\n        String rowStop = conf.get(TableInputFormat.SCAN_ROW_STOP);\n        if(rowStart == null && rowStop == null) {\n            // do nothing\n        } else {\n            if(rowStart != null && rowStop != null) {\n                // check rowStart\n                String strToCheck[] = rowStart.split(\",\");\n                try {\n                    Short.valueOf(strToCheck[0]);\n                    Short.valueOf(strToCheck[1]);\n                } catch (Exception e) {\n                    usage(\"String parsed to Short error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_START + \" : \" + rowStart);\n                    System.exit(-1);\n                }\n                try {\n                    format.parse(strToCheck[2]);\n                } catch (Exception e) {\n                    usage(\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_START + \" : \" + rowStart);\n                    System.exit(-1);\n                }\n                // check rowStop\n                strToCheck = rowStop.split(\",\");\n                try {\n                    Short.valueOf(strToCheck[0]);\n                    Short.valueOf(strToCheck[1]);\n                } catch (Exception e) {\n                    usage(\"String parsed to Short error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_STOP + \" : \" + rowStop);\n                    System.exit(-1);\n                }\n                try {\n                    format.parse(strToCheck[2]);\n                } catch (Exception e) {\n                    usage(\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \" + TableInputFormat.SCAN_ROW_STOP + \" : \" + rowStop);\n                    System.exit(-1);\n                }\n            } else {\n                usage(TableInputFormat.SCAN_ROW_START + \" and \" + TableInputFormat.SCAN_ROW_STOP + \" must both not be null.\");\n                System.exit(-1);\n            }\n        }\n        Job job = createSubmittableJob(conf, otherArgs);\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\n    }\n}\n\n```\n","slug":"hbase-incremental-backup","published":1,"updated":"2020-01-11T03:26:55.202Z","photos":[],"link":"","_id":"ck8wh7lau00104suph5zdd0zf","content":"<p>HBase</p>\n<a id=\"more\"></a>\n<h2 id=\"Exportrowkey\"><a href=\"#Exportrowkey\" class=\"headerlink\" title=\"Exportrowkey\"></a>Exportrowkey</h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hbase org.apache.hadoop.hbase.mapreduce.Export your_hbase_table_name your_hdfs_file_path</span><br></pre></td></tr></table></figure>\n<p>rowkeyHBase</p>\n<!--more-->\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>hadoop+hbase</p>\n<p>$ <code>hadoop version</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Hadoop 2.6.0-cdh5.4.3</span><br><span class=\"line\">Subversion http://github.com/cloudera/hadoop -r 4cd9f51a3f1ef748d45b8d77d0f211ad44296d4b</span><br><span class=\"line\">Compiled by jenkins on 2015-06-25T02:34Z</span><br><span class=\"line\">Compiled with protoc 2.5.0</span><br><span class=\"line\">From source with checksum 4acea6ac185376e0b48b33695e88e7a7</span><br><span class=\"line\">This command was run using /opt/cloudera/parcels/CDH-5.4.3-1.cdh5.4.3.p0.6/jars/hadoop-common-2.6.0-cdh5.4.3.jar</span><br></pre></td></tr></table></figure>\n<p>$ <code>hbase version</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Java HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: HBase 1.0.0-cdh5.4.3</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: Source code repository file:///data/jenkins/workspace/generic-package-ubuntu64-12-04/CDH5.4.3-Packaging-HBase-2015-06-24_19-16-53/hbase-1.0.0+cdh5.4.3+159-1.cdh5.4.3.p0.9~precise revision=Unknown</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: Compiled by jenkins on Wed Jun 24 19:32:40 PDT 2015</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: From source with checksum d5809febb1e487265280a25f5c74202e</span><br></pre></td></tr></table></figure>\n<h2 id=\"Exportrowkey\"><a href=\"#Exportrowkey\" class=\"headerlink\" title=\"Exportrowkey\"></a>Exportrowkey</h2><p>org.apache.hadoop.hbase.mapreduce.Export.javahadoop+hbase</p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HADOOP_CLASSPATH=$(hbase classpath)</span><br><span class=\"line\">hadoop com.sun.tools.javac.Main Export.java</span><br><span class=\"line\">jar cf Export.jar Export.class</span><br><span class=\"line\"><span class=\"comment\"># hdfs</span></span><br><span class=\"line\">su</span><br><span class=\"line\">su hdfs -c <span class=\"string\">'hdfs dfs -mkdir /backup'</span></span><br><span class=\"line\">su hdfs -c <span class=\"string\">'hdfs dfs -mkdir /backup/20160512'</span></span><br><span class=\"line\">su hdfs -c <span class=\"string\">'hdfs dfs -ls  /'</span></span><br><span class=\"line\"><span class=\"comment\"># jar</span></span><br><span class=\"line\"><span class=\"comment\">## Export</span></span><br><span class=\"line\">hadoop jar Export.jar Export group_hour /backup/20160512/group_hour</span><br><span class=\"line\"><span class=\"comment\">## rowkey</span></span><br><span class=\"line\">hadoop jar Export.jar Export -D hbase.mapreduce.scan.row.start=1,9,2016-05-01 -D hbase.mapreduce.scan.row.stop=1,9,2015-05-02 group_hour /backup/20160512/group_hour_rowkey</span><br></pre></td></tr></table></figure>\n<p><code>hdfs dfs -get your_hdfs_filepath your_filesystem_filepath</code></p>\n<p>Export.java</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * Licensed to the Apache Software Foundation (ASF) under one</span></span><br><span class=\"line\"><span class=\"comment\"> * or more contributor license agreements.  See the NOTICE file</span></span><br><span class=\"line\"><span class=\"comment\"> * distributed with this work for additional information</span></span><br><span class=\"line\"><span class=\"comment\"> * regarding copyright ownership.  The ASF licenses this file</span></span><br><span class=\"line\"><span class=\"comment\"> * to you under the Apache License, Version 2.0 (the</span></span><br><span class=\"line\"><span class=\"comment\"> * \"License\"); you may not use this file except in compliance</span></span><br><span class=\"line\"><span class=\"comment\"> * with the License.  You may obtain a copy of the License at</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> *     http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * Unless required by applicable law or agreed to in writing, software</span></span><br><span class=\"line\"><span class=\"comment\"> * distributed under the License is distributed on an \"AS IS\" BASIS,</span></span><br><span class=\"line\"><span class=\"comment\"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class=\"line\"><span class=\"comment\"> * See the License for the specific language governing permissions and</span></span><br><span class=\"line\"><span class=\"comment\"> * limitations under the License.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.text.DateFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.text.ParseException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.text.SimpleDateFormat;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.sun.security.auth.<span class=\"keyword\">module</span>.UnixSystem;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.logging.Log;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.logging.LogFactory;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.classification.InterfaceAudience;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.classification.InterfaceStability;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.Path;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.HBaseConfiguration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.client.Result;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.client.Scan;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.CompareFilter.CompareOp;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.Filter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.IncompatibleFilterException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.PrefixFilter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.RegexStringComparator;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.RowFilter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.io.ImmutableBytesWritable;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.mapreduce.IdentityTableMapper;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.mapreduce.TableInputFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.util.Bytes;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.mapreduce.Job;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.util.GenericOptionsParser;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Export an HBase table. Writes content to sequence files up in HDFS. Use</span></span><br><span class=\"line\"><span class=\"comment\"> * &#123;<span class=\"doctag\">@link</span> Import&#125; to read it back in again.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@InterfaceAudience</span>.Public</span><br><span class=\"line\"><span class=\"meta\">@InterfaceStability</span>.Stable</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Export</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Log LOG = LogFactory.getLog(Export.class);</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> String NAME = <span class=\"string\">\"export\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> String RAW_SCAN = <span class=\"string\">\"hbase.mapreduce.include.deleted.rows\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> String EXPORT_BATCHING = <span class=\"string\">\"hbase.export.scanner.batch\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> DateFormat format = <span class=\"keyword\">new</span> SimpleDateFormat(<span class=\"string\">\"yyyy-MM-dd\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Sets up the actual job.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> conf</span></span><br><span class=\"line\"><span class=\"comment\">     *            The current configuration.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> args</span></span><br><span class=\"line\"><span class=\"comment\">     *            The command line parameters.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> The newly created job.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@throws</span> IOException</span></span><br><span class=\"line\"><span class=\"comment\">     *             When setting up the job fails.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Job <span class=\"title\">createSubmittableJob</span><span class=\"params\">(Configuration conf, String[] args)</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">        String tableName = args[<span class=\"number\">0</span>];</span><br><span class=\"line\">        Path outputDir = <span class=\"keyword\">new</span> Path(args[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        Job job = <span class=\"keyword\">new</span> Job(conf, NAME + <span class=\"string\">\"_\"</span> + tableName);</span><br><span class=\"line\">        job.setJobName(NAME + <span class=\"string\">\"_\"</span> + tableName);</span><br><span class=\"line\">        job.setJarByClass(Export.class);</span><br><span class=\"line\">        job.setUser(<span class=\"string\">\"hdfs\"</span>);</span><br><span class=\"line\">        <span class=\"comment\">// Set optional scan parameters</span></span><br><span class=\"line\">        Scan s = getConfiguredScanForJob(conf, args);</span><br><span class=\"line\">        IdentityTableMapper.initJob(tableName, s, IdentityTableMapper.class,</span><br><span class=\"line\">                job);</span><br><span class=\"line\">        <span class=\"comment\">// No reducers. Just write straight to output files.</span></span><br><span class=\"line\">        job.setNumReduceTasks(<span class=\"number\">0</span>);</span><br><span class=\"line\">        job.setOutputFormatClass(SequenceFileOutputFormat.class);</span><br><span class=\"line\">        job.setOutputKeyClass(ImmutableBytesWritable.class);</span><br><span class=\"line\">        job.setOutputValueClass(Result.class);</span><br><span class=\"line\">        FileOutputFormat.setOutputPath(job, outputDir); <span class=\"comment\">// job conf doesn't</span></span><br><span class=\"line\">                                                        <span class=\"comment\">// contain the conf so</span></span><br><span class=\"line\">                                                        <span class=\"comment\">// doesn't have a</span></span><br><span class=\"line\">                                                        <span class=\"comment\">// default fs.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> job;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Scan <span class=\"title\">getConfiguredScanForJob</span><span class=\"params\">(Configuration conf,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">            String[] args)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">        Scan s = <span class=\"keyword\">new</span> Scan();</span><br><span class=\"line\">        <span class=\"comment\">// Optional arguments.</span></span><br><span class=\"line\">        <span class=\"comment\">// Set Scan Versions</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> versions = args.length &gt; <span class=\"number\">2</span> ? Integer.parseInt(args[<span class=\"number\">2</span>]) : <span class=\"number\">1</span>;</span><br><span class=\"line\">        s.setMaxVersions(versions);</span><br><span class=\"line\">        <span class=\"comment\">// Set Scan Range</span></span><br><span class=\"line\">        <span class=\"keyword\">long</span> startTime = args.length &gt; <span class=\"number\">3</span> ? Long.parseLong(args[<span class=\"number\">3</span>]) : <span class=\"number\">0L</span>;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> endTime = args.length &gt; <span class=\"number\">4</span> ? Long.parseLong(args[<span class=\"number\">4</span>])</span><br><span class=\"line\">                : Long.MAX_VALUE;</span><br><span class=\"line\">        s.setTimeRange(startTime, endTime);</span><br><span class=\"line\">        <span class=\"comment\">// Set cache blocks</span></span><br><span class=\"line\">        s.setCacheBlocks(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">        <span class=\"comment\">// set Start and Stop row</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_ROW_START) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            String rowStart[] = conf.get(TableInputFormat.SCAN_ROW_START).split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">            Short companyID = Short.valueOf(rowStart[<span class=\"number\">0</span>]);</span><br><span class=\"line\">            Short deviceID = Short.valueOf(rowStart[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            Long insertTime = <span class=\"number\">0l</span>;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                insertTime = format.parse(rowStart[<span class=\"number\">2</span>]).getTime();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (ParseException e) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// ignore</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            s.setStartRow(Bytes.add(Bytes.toBytes(companyID),</span><br><span class=\"line\">                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_ROW_STOP) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            String rowStop[] = conf.get(TableInputFormat.SCAN_ROW_STOP).split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">            Short companyID = Short.valueOf(rowStop[<span class=\"number\">0</span>]);</span><br><span class=\"line\">            Short deviceID = Short.valueOf(rowStop[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            Long insertTime = <span class=\"number\">0l</span>;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                insertTime = format.parse(rowStop[<span class=\"number\">2</span>]).getTime();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (ParseException e) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// ignore</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            s.setStopRow(Bytes.add(Bytes.toBytes(companyID),</span><br><span class=\"line\">                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Set Scan Column Family</span></span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> raw = Boolean.parseBoolean(conf.get(RAW_SCAN));</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (raw) &#123;</span><br><span class=\"line\">            s.setRaw(raw);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_COLUMN_FAMILY) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            s.addFamily(Bytes.toBytes(conf</span><br><span class=\"line\">                    .get(TableInputFormat.SCAN_COLUMN_FAMILY)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Set RowFilter or Prefix Filter if applicable.</span></span><br><span class=\"line\">        Filter exportFilter = getExportFilter(args);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (exportFilter != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            LOG.info(<span class=\"string\">\"Setting Scan Filter for Export.\"</span>);</span><br><span class=\"line\">            s.setFilter(exportFilter);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> batching = conf.getInt(EXPORT_BATCHING, -<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (batching != -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                s.setBatch(batching);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (IncompatibleFilterException e) &#123;</span><br><span class=\"line\">                LOG.error(<span class=\"string\">\"Batching could not be set\"</span>, e);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuffer sb = <span class=\"keyword\">new</span> StringBuffer(<span class=\"string\">\"versions=\"</span> + versions + <span class=\"string\">\", starttime=\"</span> + startTime</span><br><span class=\"line\">                + <span class=\"string\">\", endtime=\"</span> + endTime + <span class=\"string\">\", keepDeletedCells=\"</span> + raw);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_ROW_START) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            sb.append(<span class=\"string\">\", startRow=\"</span> + conf.get(TableInputFormat.SCAN_ROW_START));</span><br><span class=\"line\">            sb.append(<span class=\"string\">\", stopRow=\"</span> + conf.get(TableInputFormat.SCAN_ROW_STOP));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LOG.info(sb.toString());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Filter <span class=\"title\">getExportFilter</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        Filter exportFilter = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        String filterCriteria = (args.length &gt; <span class=\"number\">5</span>) ? args[<span class=\"number\">5</span>] : <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (filterCriteria == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (filterCriteria.startsWith(<span class=\"string\">\"^\"</span>)) &#123;</span><br><span class=\"line\">            String regexPattern = filterCriteria.substring(<span class=\"number\">1</span>,</span><br><span class=\"line\">                    filterCriteria.length());</span><br><span class=\"line\">            exportFilter = <span class=\"keyword\">new</span> RowFilter(CompareOp.EQUAL,</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> RegexStringComparator(regexPattern));</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            exportFilter = <span class=\"keyword\">new</span> PrefixFilter(Bytes.toBytes(filterCriteria));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> exportFilter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * @param errorMsg Error message. Can be null.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">usage</span><span class=\"params\">(<span class=\"keyword\">final</span> String errorMsg)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (errorMsg != <span class=\"keyword\">null</span> &amp;&amp; errorMsg.length() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            System.err.println(<span class=\"string\">\"ERROR: \"</span> + errorMsg);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"Usage: Export [-D &lt;property=value&gt;]* &lt;tablename&gt; &lt;outputdir&gt; [&lt;versions&gt; \"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"[&lt;starttime&gt; [&lt;endtime&gt;]] [^[regex pattern] or [Prefix] to filter]]\\n\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"  Note: -D properties will be applied to the conf used. \"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"  For example: \"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"   -D mapreduce.output.fileoutputformat.compress=true\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"   -D mapreduce.output.fileoutputformat.compress.codec=org.apache.hadoop.io.compress.GzipCodec\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"   -D mapreduce.output.fileoutputformat.compress.type=BLOCK\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"  Additionally, the following SCAN properties can be specified\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"  to control/limit what is exported..\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + TableInputFormat.SCAN_COLUMN_FAMILY</span><br><span class=\"line\">                + <span class=\"string\">\"=&lt;familyName&gt;\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + RAW_SCAN + <span class=\"string\">\"=true\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + TableInputFormat.SCAN_ROW_START</span><br><span class=\"line\">                + <span class=\"string\">\"=&lt;CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)&gt;\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + TableInputFormat.SCAN_ROW_STOP</span><br><span class=\"line\">                + <span class=\"string\">\"=&lt;CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)&gt;\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"For performance consider the following properties:\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -Dhbase.client.scanner.caching=100\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -Dmapreduce.map.speculative=false\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -Dmapreduce.reduce.speculative=false\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"For tables with very wide rows consider setting the batch size as below:\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -D\"</span> + EXPORT_BATCHING + <span class=\"string\">\"=10\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Main entry point.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> args</span></span><br><span class=\"line\"><span class=\"comment\">     *            The command line parameters.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@throws</span> Exception</span></span><br><span class=\"line\"><span class=\"comment\">     *             When running the job fails.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">        System.setProperty(<span class=\"string\">\"HADOOP_USER_NAME\"</span>, <span class=\"string\">\"hdfs\"</span>);</span><br><span class=\"line\">        UnixSystem us = <span class=\"keyword\">new</span> UnixSystem();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"Unix Username : \"</span> + us.getUsername());</span><br><span class=\"line\">        <span class=\"comment\">// -----------------------------------------------------</span></span><br><span class=\"line\">        Configuration conf = HBaseConfiguration.create();</span><br><span class=\"line\">        String[] otherArgs = <span class=\"keyword\">new</span> GenericOptionsParser(conf, args)</span><br><span class=\"line\">                .getRemainingArgs();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (otherArgs.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            usage(<span class=\"string\">\"Wrong number of arguments: \"</span> + otherArgs.length);</span><br><span class=\"line\">            System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Check StartRow And StopRow</span></span><br><span class=\"line\">        String rowStart = conf.get(TableInputFormat.SCAN_ROW_START);</span><br><span class=\"line\">        String rowStop = conf.get(TableInputFormat.SCAN_ROW_STOP);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(rowStart == <span class=\"keyword\">null</span> &amp;&amp; rowStop == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// do nothing</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(rowStart != <span class=\"keyword\">null</span> &amp;&amp; rowStop != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// check rowStart</span></span><br><span class=\"line\">                String strToCheck[] = rowStart.split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">1</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"String parsed to Short error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_START + <span class=\"string\">\" : \"</span> + rowStart);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    format.parse(strToCheck[<span class=\"number\">2</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_START + <span class=\"string\">\" : \"</span> + rowStart);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">// check rowStop</span></span><br><span class=\"line\">                strToCheck = rowStop.split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">1</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"String parsed to Short error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_STOP + <span class=\"string\">\" : \"</span> + rowStop);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    format.parse(strToCheck[<span class=\"number\">2</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_STOP + <span class=\"string\">\" : \"</span> + rowStop);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                usage(TableInputFormat.SCAN_ROW_START + <span class=\"string\">\" and \"</span> + TableInputFormat.SCAN_ROW_STOP + <span class=\"string\">\" must both not be null.\"</span>);</span><br><span class=\"line\">                System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        Job job = createSubmittableJob(conf, otherArgs);</span><br><span class=\"line\">        System.exit(job.waitForCompletion(<span class=\"keyword\">true</span>) ? <span class=\"number\">0</span> : <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>HBase</p>","more":"<h2 id=\"Exportrowkey\"><a href=\"#Exportrowkey\" class=\"headerlink\" title=\"Exportrowkey\"></a>Exportrowkey</h2><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hbase org.apache.hadoop.hbase.mapreduce.Export your_hbase_table_name your_hdfs_file_path</span><br></pre></td></tr></table></figure>\n<p>rowkeyHBase</p>\n<!--more-->\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>hadoop+hbase</p>\n<p>$ <code>hadoop version</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Hadoop 2.6.0-cdh5.4.3</span><br><span class=\"line\">Subversion http://github.com/cloudera/hadoop -r 4cd9f51a3f1ef748d45b8d77d0f211ad44296d4b</span><br><span class=\"line\">Compiled by jenkins on 2015-06-25T02:34Z</span><br><span class=\"line\">Compiled with protoc 2.5.0</span><br><span class=\"line\">From source with checksum 4acea6ac185376e0b48b33695e88e7a7</span><br><span class=\"line\">This command was run using /opt/cloudera/parcels/CDH-5.4.3-1.cdh5.4.3.p0.6/jars/hadoop-common-2.6.0-cdh5.4.3.jar</span><br></pre></td></tr></table></figure>\n<p>$ <code>hbase version</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Java HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: HBase 1.0.0-cdh5.4.3</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: Source code repository file:///data/jenkins/workspace/generic-package-ubuntu64-12-04/CDH5.4.3-Packaging-HBase-2015-06-24_19-16-53/hbase-1.0.0+cdh5.4.3+159-1.cdh5.4.3.p0.9~precise revision=Unknown</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: Compiled by jenkins on Wed Jun 24 19:32:40 PDT 2015</span><br><span class=\"line\">16/06/04 13:13:30 INFO util.VersionInfo: From source with checksum d5809febb1e487265280a25f5c74202e</span><br></pre></td></tr></table></figure>\n<h2 id=\"Exportrowkey\"><a href=\"#Exportrowkey\" class=\"headerlink\" title=\"Exportrowkey\"></a>Exportrowkey</h2><p>org.apache.hadoop.hbase.mapreduce.Export.javahadoop+hbase</p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HADOOP_CLASSPATH=$(hbase classpath)</span><br><span class=\"line\">hadoop com.sun.tools.javac.Main Export.java</span><br><span class=\"line\">jar cf Export.jar Export.class</span><br><span class=\"line\"><span class=\"comment\"># hdfs</span></span><br><span class=\"line\">su</span><br><span class=\"line\">su hdfs -c <span class=\"string\">'hdfs dfs -mkdir /backup'</span></span><br><span class=\"line\">su hdfs -c <span class=\"string\">'hdfs dfs -mkdir /backup/20160512'</span></span><br><span class=\"line\">su hdfs -c <span class=\"string\">'hdfs dfs -ls  /'</span></span><br><span class=\"line\"><span class=\"comment\"># jar</span></span><br><span class=\"line\"><span class=\"comment\">## Export</span></span><br><span class=\"line\">hadoop jar Export.jar Export group_hour /backup/20160512/group_hour</span><br><span class=\"line\"><span class=\"comment\">## rowkey</span></span><br><span class=\"line\">hadoop jar Export.jar Export -D hbase.mapreduce.scan.row.start=1,9,2016-05-01 -D hbase.mapreduce.scan.row.stop=1,9,2015-05-02 group_hour /backup/20160512/group_hour_rowkey</span><br></pre></td></tr></table></figure>\n<p><code>hdfs dfs -get your_hdfs_filepath your_filesystem_filepath</code></p>\n<p>Export.java</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * Licensed to the Apache Software Foundation (ASF) under one</span></span><br><span class=\"line\"><span class=\"comment\"> * or more contributor license agreements.  See the NOTICE file</span></span><br><span class=\"line\"><span class=\"comment\"> * distributed with this work for additional information</span></span><br><span class=\"line\"><span class=\"comment\"> * regarding copyright ownership.  The ASF licenses this file</span></span><br><span class=\"line\"><span class=\"comment\"> * to you under the Apache License, Version 2.0 (the</span></span><br><span class=\"line\"><span class=\"comment\"> * \"License\"); you may not use this file except in compliance</span></span><br><span class=\"line\"><span class=\"comment\"> * with the License.  You may obtain a copy of the License at</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> *     http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * Unless required by applicable law or agreed to in writing, software</span></span><br><span class=\"line\"><span class=\"comment\"> * distributed under the License is distributed on an \"AS IS\" BASIS,</span></span><br><span class=\"line\"><span class=\"comment\"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class=\"line\"><span class=\"comment\"> * See the License for the specific language governing permissions and</span></span><br><span class=\"line\"><span class=\"comment\"> * limitations under the License.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.text.DateFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.text.ParseException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.text.SimpleDateFormat;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.sun.security.auth.<span class=\"keyword\">module</span>.UnixSystem;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.logging.Log;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.logging.LogFactory;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.classification.InterfaceAudience;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.classification.InterfaceStability;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.Path;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.HBaseConfiguration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.client.Result;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.client.Scan;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.CompareFilter.CompareOp;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.Filter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.IncompatibleFilterException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.PrefixFilter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.RegexStringComparator;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.filter.RowFilter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.io.ImmutableBytesWritable;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.mapreduce.IdentityTableMapper;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.mapreduce.TableInputFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.hbase.util.Bytes;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.mapreduce.Job;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.util.GenericOptionsParser;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Export an HBase table. Writes content to sequence files up in HDFS. Use</span></span><br><span class=\"line\"><span class=\"comment\"> * &#123;<span class=\"doctag\">@link</span> Import&#125; to read it back in again.</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@InterfaceAudience</span>.Public</span><br><span class=\"line\"><span class=\"meta\">@InterfaceStability</span>.Stable</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Export</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Log LOG = LogFactory.getLog(Export.class);</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> String NAME = <span class=\"string\">\"export\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> String RAW_SCAN = <span class=\"string\">\"hbase.mapreduce.include.deleted.rows\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> String EXPORT_BATCHING = <span class=\"string\">\"hbase.export.scanner.batch\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> DateFormat format = <span class=\"keyword\">new</span> SimpleDateFormat(<span class=\"string\">\"yyyy-MM-dd\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Sets up the actual job.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> conf</span></span><br><span class=\"line\"><span class=\"comment\">     *            The current configuration.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> args</span></span><br><span class=\"line\"><span class=\"comment\">     *            The command line parameters.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> The newly created job.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@throws</span> IOException</span></span><br><span class=\"line\"><span class=\"comment\">     *             When setting up the job fails.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Job <span class=\"title\">createSubmittableJob</span><span class=\"params\">(Configuration conf, String[] args)</span></span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">        String tableName = args[<span class=\"number\">0</span>];</span><br><span class=\"line\">        Path outputDir = <span class=\"keyword\">new</span> Path(args[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        Job job = <span class=\"keyword\">new</span> Job(conf, NAME + <span class=\"string\">\"_\"</span> + tableName);</span><br><span class=\"line\">        job.setJobName(NAME + <span class=\"string\">\"_\"</span> + tableName);</span><br><span class=\"line\">        job.setJarByClass(Export.class);</span><br><span class=\"line\">        job.setUser(<span class=\"string\">\"hdfs\"</span>);</span><br><span class=\"line\">        <span class=\"comment\">// Set optional scan parameters</span></span><br><span class=\"line\">        Scan s = getConfiguredScanForJob(conf, args);</span><br><span class=\"line\">        IdentityTableMapper.initJob(tableName, s, IdentityTableMapper.class,</span><br><span class=\"line\">                job);</span><br><span class=\"line\">        <span class=\"comment\">// No reducers. Just write straight to output files.</span></span><br><span class=\"line\">        job.setNumReduceTasks(<span class=\"number\">0</span>);</span><br><span class=\"line\">        job.setOutputFormatClass(SequenceFileOutputFormat.class);</span><br><span class=\"line\">        job.setOutputKeyClass(ImmutableBytesWritable.class);</span><br><span class=\"line\">        job.setOutputValueClass(Result.class);</span><br><span class=\"line\">        FileOutputFormat.setOutputPath(job, outputDir); <span class=\"comment\">// job conf doesn't</span></span><br><span class=\"line\">                                                        <span class=\"comment\">// contain the conf so</span></span><br><span class=\"line\">                                                        <span class=\"comment\">// doesn't have a</span></span><br><span class=\"line\">                                                        <span class=\"comment\">// default fs.</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> job;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Scan <span class=\"title\">getConfiguredScanForJob</span><span class=\"params\">(Configuration conf,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">            String[] args)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">        Scan s = <span class=\"keyword\">new</span> Scan();</span><br><span class=\"line\">        <span class=\"comment\">// Optional arguments.</span></span><br><span class=\"line\">        <span class=\"comment\">// Set Scan Versions</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> versions = args.length &gt; <span class=\"number\">2</span> ? Integer.parseInt(args[<span class=\"number\">2</span>]) : <span class=\"number\">1</span>;</span><br><span class=\"line\">        s.setMaxVersions(versions);</span><br><span class=\"line\">        <span class=\"comment\">// Set Scan Range</span></span><br><span class=\"line\">        <span class=\"keyword\">long</span> startTime = args.length &gt; <span class=\"number\">3</span> ? Long.parseLong(args[<span class=\"number\">3</span>]) : <span class=\"number\">0L</span>;</span><br><span class=\"line\">        <span class=\"keyword\">long</span> endTime = args.length &gt; <span class=\"number\">4</span> ? Long.parseLong(args[<span class=\"number\">4</span>])</span><br><span class=\"line\">                : Long.MAX_VALUE;</span><br><span class=\"line\">        s.setTimeRange(startTime, endTime);</span><br><span class=\"line\">        <span class=\"comment\">// Set cache blocks</span></span><br><span class=\"line\">        s.setCacheBlocks(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">        <span class=\"comment\">// set Start and Stop row</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_ROW_START) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            String rowStart[] = conf.get(TableInputFormat.SCAN_ROW_START).split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">            Short companyID = Short.valueOf(rowStart[<span class=\"number\">0</span>]);</span><br><span class=\"line\">            Short deviceID = Short.valueOf(rowStart[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            Long insertTime = <span class=\"number\">0l</span>;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                insertTime = format.parse(rowStart[<span class=\"number\">2</span>]).getTime();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (ParseException e) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// ignore</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            s.setStartRow(Bytes.add(Bytes.toBytes(companyID),</span><br><span class=\"line\">                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_ROW_STOP) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            String rowStop[] = conf.get(TableInputFormat.SCAN_ROW_STOP).split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">            Short companyID = Short.valueOf(rowStop[<span class=\"number\">0</span>]);</span><br><span class=\"line\">            Short deviceID = Short.valueOf(rowStop[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            Long insertTime = <span class=\"number\">0l</span>;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                insertTime = format.parse(rowStop[<span class=\"number\">2</span>]).getTime();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (ParseException e) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// ignore</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            s.setStopRow(Bytes.add(Bytes.toBytes(companyID),</span><br><span class=\"line\">                    Bytes.toBytes(deviceID), Bytes.toBytes(insertTime)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Set Scan Column Family</span></span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> raw = Boolean.parseBoolean(conf.get(RAW_SCAN));</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (raw) &#123;</span><br><span class=\"line\">            s.setRaw(raw);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_COLUMN_FAMILY) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            s.addFamily(Bytes.toBytes(conf</span><br><span class=\"line\">                    .get(TableInputFormat.SCAN_COLUMN_FAMILY)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Set RowFilter or Prefix Filter if applicable.</span></span><br><span class=\"line\">        Filter exportFilter = getExportFilter(args);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (exportFilter != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            LOG.info(<span class=\"string\">\"Setting Scan Filter for Export.\"</span>);</span><br><span class=\"line\">            s.setFilter(exportFilter);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> batching = conf.getInt(EXPORT_BATCHING, -<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (batching != -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                s.setBatch(batching);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (IncompatibleFilterException e) &#123;</span><br><span class=\"line\">                LOG.error(<span class=\"string\">\"Batching could not be set\"</span>, e);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        StringBuffer sb = <span class=\"keyword\">new</span> StringBuffer(<span class=\"string\">\"versions=\"</span> + versions + <span class=\"string\">\", starttime=\"</span> + startTime</span><br><span class=\"line\">                + <span class=\"string\">\", endtime=\"</span> + endTime + <span class=\"string\">\", keepDeletedCells=\"</span> + raw);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (conf.get(TableInputFormat.SCAN_ROW_START) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            sb.append(<span class=\"string\">\", startRow=\"</span> + conf.get(TableInputFormat.SCAN_ROW_START));</span><br><span class=\"line\">            sb.append(<span class=\"string\">\", stopRow=\"</span> + conf.get(TableInputFormat.SCAN_ROW_STOP));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        LOG.info(sb.toString());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Filter <span class=\"title\">getExportFilter</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        Filter exportFilter = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        String filterCriteria = (args.length &gt; <span class=\"number\">5</span>) ? args[<span class=\"number\">5</span>] : <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (filterCriteria == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (filterCriteria.startsWith(<span class=\"string\">\"^\"</span>)) &#123;</span><br><span class=\"line\">            String regexPattern = filterCriteria.substring(<span class=\"number\">1</span>,</span><br><span class=\"line\">                    filterCriteria.length());</span><br><span class=\"line\">            exportFilter = <span class=\"keyword\">new</span> RowFilter(CompareOp.EQUAL,</span><br><span class=\"line\">                    <span class=\"keyword\">new</span> RegexStringComparator(regexPattern));</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            exportFilter = <span class=\"keyword\">new</span> PrefixFilter(Bytes.toBytes(filterCriteria));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> exportFilter;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * @param errorMsg Error message. Can be null.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">usage</span><span class=\"params\">(<span class=\"keyword\">final</span> String errorMsg)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (errorMsg != <span class=\"keyword\">null</span> &amp;&amp; errorMsg.length() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            System.err.println(<span class=\"string\">\"ERROR: \"</span> + errorMsg);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"Usage: Export [-D &lt;property=value&gt;]* &lt;tablename&gt; &lt;outputdir&gt; [&lt;versions&gt; \"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"[&lt;starttime&gt; [&lt;endtime&gt;]] [^[regex pattern] or [Prefix] to filter]]\\n\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"  Note: -D properties will be applied to the conf used. \"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"  For example: \"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"   -D mapreduce.output.fileoutputformat.compress=true\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"   -D mapreduce.output.fileoutputformat.compress.codec=org.apache.hadoop.io.compress.GzipCodec\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"   -D mapreduce.output.fileoutputformat.compress.type=BLOCK\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"  Additionally, the following SCAN properties can be specified\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"  to control/limit what is exported..\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + TableInputFormat.SCAN_COLUMN_FAMILY</span><br><span class=\"line\">                + <span class=\"string\">\"=&lt;familyName&gt;\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + RAW_SCAN + <span class=\"string\">\"=true\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + TableInputFormat.SCAN_ROW_START</span><br><span class=\"line\">                + <span class=\"string\">\"=&lt;CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)&gt;\"</span>);</span><br><span class=\"line\">        System.err.println(<span class=\"string\">\"   -D \"</span> + TableInputFormat.SCAN_ROW_STOP</span><br><span class=\"line\">                + <span class=\"string\">\"=&lt;CompanyID(Short),DeviceID(Short),yyyy-MM-dd(String)&gt;\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"For performance consider the following properties:\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -Dhbase.client.scanner.caching=100\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -Dmapreduce.map.speculative=false\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -Dmapreduce.reduce.speculative=false\"</span>);</span><br><span class=\"line\">        System.err</span><br><span class=\"line\">                .println(<span class=\"string\">\"For tables with very wide rows consider setting the batch size as below:\\n\"</span></span><br><span class=\"line\">                        + <span class=\"string\">\"   -D\"</span> + EXPORT_BATCHING + <span class=\"string\">\"=10\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Main entry point.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> args</span></span><br><span class=\"line\"><span class=\"comment\">     *            The command line parameters.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@throws</span> Exception</span></span><br><span class=\"line\"><span class=\"comment\">     *             When running the job fails.</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">        System.setProperty(<span class=\"string\">\"HADOOP_USER_NAME\"</span>, <span class=\"string\">\"hdfs\"</span>);</span><br><span class=\"line\">        UnixSystem us = <span class=\"keyword\">new</span> UnixSystem();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">\"Unix Username : \"</span> + us.getUsername());</span><br><span class=\"line\">        <span class=\"comment\">// -----------------------------------------------------</span></span><br><span class=\"line\">        Configuration conf = HBaseConfiguration.create();</span><br><span class=\"line\">        String[] otherArgs = <span class=\"keyword\">new</span> GenericOptionsParser(conf, args)</span><br><span class=\"line\">                .getRemainingArgs();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (otherArgs.length &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">            usage(<span class=\"string\">\"Wrong number of arguments: \"</span> + otherArgs.length);</span><br><span class=\"line\">            System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Check StartRow And StopRow</span></span><br><span class=\"line\">        String rowStart = conf.get(TableInputFormat.SCAN_ROW_START);</span><br><span class=\"line\">        String rowStop = conf.get(TableInputFormat.SCAN_ROW_STOP);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(rowStart == <span class=\"keyword\">null</span> &amp;&amp; rowStop == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// do nothing</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(rowStart != <span class=\"keyword\">null</span> &amp;&amp; rowStop != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// check rowStart</span></span><br><span class=\"line\">                String strToCheck[] = rowStart.split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">1</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"String parsed to Short error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_START + <span class=\"string\">\" : \"</span> + rowStart);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    format.parse(strToCheck[<span class=\"number\">2</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_START + <span class=\"string\">\" : \"</span> + rowStart);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">// check rowStop</span></span><br><span class=\"line\">                strToCheck = rowStop.split(<span class=\"string\">\",\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">0</span>]);</span><br><span class=\"line\">                    Short.valueOf(strToCheck[<span class=\"number\">1</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"String parsed to Short error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_STOP + <span class=\"string\">\" : \"</span> + rowStop);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    format.parse(strToCheck[<span class=\"number\">2</span>]);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">                    usage(<span class=\"string\">\"yyyy-MM-dd String parsed to Date error ! Wrong argument of \"</span> + TableInputFormat.SCAN_ROW_STOP + <span class=\"string\">\" : \"</span> + rowStop);</span><br><span class=\"line\">                    System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                usage(TableInputFormat.SCAN_ROW_START + <span class=\"string\">\" and \"</span> + TableInputFormat.SCAN_ROW_STOP + <span class=\"string\">\" must both not be null.\"</span>);</span><br><span class=\"line\">                System.exit(-<span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        Job job = createSubmittableJob(conf, otherArgs);</span><br><span class=\"line\">        System.exit(job.waitForCompletion(<span class=\"keyword\">true</span>) ? <span class=\"number\">0</span> : <span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"SVN hooks","date":"2016-06-22T13:05:00.000Z","comments":1,"_content":"\nSVNSVN hooks\n\n<!--more-->\n\nSVNhooks\n\n```\n-rwxrwsr-x 1 www-data subversion   2198 6  22 21:01 post-commit.tmpl\n-rwxrwsr-x 1 www-data subversion   1638 5   5  2015 post-lock.tmpl\n-rwxrwsr-x 1 www-data subversion   2289 5   5  2015 post-revprop-change.tmpl\n-rwxrwsr-x 1 www-data subversion   1567 5   5  2015 post-unlock.tmpl\n-rwxrwsr-x 1 www-data subversion   3426 5   5  2015 pre-commit.tmpl\n-rwxrwsr-x 1 www-data subversion   2434 5   5  2015 pre-lock.tmpl\n-rwxrwsr-x 1 www-data subversion   2786 5   5  2015 pre-revprop-change.tmpl\n-rwxrwsr-x 1 www-data subversion   2122 5   5  2015 pre-unlock.tmpl\n-rwxrwsr-x 1 www-data subversion   3163 5   5  2015 start-commit.tmpl\n```\n\n`mv post-commit.tmpl post-commit`post-commitpost-commitpost-commit\n\n```bash\n## \nexport LANG=zh_CN.UTF-8\n## nohup\nnohup /usr/java/jdk/bin/java -jar /home/svn/myproject/hooks/inv.jar > /dev/null 2>&1 &\nexit 0\n```\n\nnohup+**SVNjar**inv.jar[SvnPostCommit](https://github.com/JayzeeZhang/SvnPostCommit)\n","source":"_posts/2016-06-22-svn-hooks.markdown","raw":"---\nlayout: post\ntitle: SVN hooks\ndate: '2016-06-22 21:05'\ncomments: true\ncategories: ['']  \ntags: ['SVN']\n---\n\nSVNSVN hooks\n\n<!--more-->\n\nSVNhooks\n\n```\n-rwxrwsr-x 1 www-data subversion   2198 6  22 21:01 post-commit.tmpl\n-rwxrwsr-x 1 www-data subversion   1638 5   5  2015 post-lock.tmpl\n-rwxrwsr-x 1 www-data subversion   2289 5   5  2015 post-revprop-change.tmpl\n-rwxrwsr-x 1 www-data subversion   1567 5   5  2015 post-unlock.tmpl\n-rwxrwsr-x 1 www-data subversion   3426 5   5  2015 pre-commit.tmpl\n-rwxrwsr-x 1 www-data subversion   2434 5   5  2015 pre-lock.tmpl\n-rwxrwsr-x 1 www-data subversion   2786 5   5  2015 pre-revprop-change.tmpl\n-rwxrwsr-x 1 www-data subversion   2122 5   5  2015 pre-unlock.tmpl\n-rwxrwsr-x 1 www-data subversion   3163 5   5  2015 start-commit.tmpl\n```\n\n`mv post-commit.tmpl post-commit`post-commitpost-commitpost-commit\n\n```bash\n## \nexport LANG=zh_CN.UTF-8\n## nohup\nnohup /usr/java/jdk/bin/java -jar /home/svn/myproject/hooks/inv.jar > /dev/null 2>&1 &\nexit 0\n```\n\nnohup+**SVNjar**inv.jar[SvnPostCommit](https://github.com/JayzeeZhang/SvnPostCommit)\n","slug":"svn-hooks","published":1,"updated":"2020-04-12T03:36:47.274Z","_id":"ck8wh7lay00134suptvy9rap1","photos":[],"link":"","content":"<p>SVNSVN hooks</p>\n<a id=\"more\"></a>\n<p>SVNhooks</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2198 6  22 21:01 post-commit.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   1638 5   5  2015 post-lock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2289 5   5  2015 post-revprop-change.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   1567 5   5  2015 post-unlock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   3426 5   5  2015 pre-commit.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2434 5   5  2015 pre-lock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2786 5   5  2015 pre-revprop-change.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2122 5   5  2015 pre-unlock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   3163 5   5  2015 start-commit.tmpl</span><br></pre></td></tr></table></figure>\n<p><code>mv post-commit.tmpl post-commit</code>post-commitpost-commitpost-commit</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\"><span class=\"built_in\">export</span> LANG=zh_CN.UTF-8</span><br><span class=\"line\"><span class=\"comment\">## nohup</span></span><br><span class=\"line\">nohup /usr/java/jdk/bin/java -jar /home/svn/myproject/hooks/inv.jar &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>nohup+<strong>SVNjar</strong>inv.jar<a href=\"https://github.com/JayzeeZhang/SvnPostCommit\" target=\"_blank\" rel=\"noopener\">SvnPostCommit</a></p>\n","site":{"data":{}},"excerpt":"<p>SVNSVN hooks</p>","more":"<p>SVNhooks</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2198 6  22 21:01 post-commit.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   1638 5   5  2015 post-lock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2289 5   5  2015 post-revprop-change.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   1567 5   5  2015 post-unlock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   3426 5   5  2015 pre-commit.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2434 5   5  2015 pre-lock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2786 5   5  2015 pre-revprop-change.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   2122 5   5  2015 pre-unlock.tmpl</span><br><span class=\"line\">-rwxrwsr-x 1 www-data subversion   3163 5   5  2015 start-commit.tmpl</span><br></pre></td></tr></table></figure>\n<p><code>mv post-commit.tmpl post-commit</code>post-commitpost-commitpost-commit</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## </span></span><br><span class=\"line\"><span class=\"built_in\">export</span> LANG=zh_CN.UTF-8</span><br><span class=\"line\"><span class=\"comment\">## nohup</span></span><br><span class=\"line\">nohup /usr/java/jdk/bin/java -jar /home/svn/myproject/hooks/inv.jar &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>nohup+<strong>SVNjar</strong>inv.jar<a href=\"https://github.com/JayzeeZhang/SvnPostCommit\" target=\"_blank\" rel=\"noopener\">SvnPostCommit</a></p>"},{"layout":"post","title":"2015320163","date":"2016-05-11T13:16:00.000Z","comments":1,"_content":"\n\n\n<!--more-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDYF\n\n\n\nLZQ\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/2016-05-11-2015-work-summary.markdown","raw":"---\nlayout: post\ntitle: 2015320163\ndate: '2016-05-11 21:16'\ncomments: true\ncategories: ['']  \ntags: ['']\n---\n\n\n\n<!--more-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDYF\n\n\n\nLZQ\n\n\n\n\n\n\n\n\n\n\n","slug":"2015-work-summary","published":1,"updated":"2020-04-12T03:29:57.006Z","_id":"ck8wh7lb000164supneus443e","photos":[],"link":"","content":"<p></p>\n<a id=\"more\"></a>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><br></p>\n<p></p>\n<p></p>\n<p><br></p>\n<p><br></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>DYF</p>\n<p></p>\n<p>LZQ</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><br></p>\n<p></p>\n<p></p>\n<p><br></p>\n<p><br></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>DYF</p>\n<p></p>\n<p>LZQ</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>"},{"layout":"post","title":"docker","date":"2016-06-29T09:57:00.000Z","comments":1,"_content":"\nbugzillabugdockerbugzilladockerbugzilla\n\n<!--more-->\n\n1. /bugzilla`docker start/stop bugzilla`\n1. bugzilla`docker logs bugzilla`\n1. `docker ps`\n1. bugzilla\n    ```\n    docker cp [OPTIONS] CONTAINER:PATH LOCALPATH|-\n    docker cp [OPTIONS] LOCALPATH|- CONTAINER:PATH\n    ```\n1. bugzilla\n    ```\n    docker exec [OPTIONS] CONTAINER COMMAND [ARG...]\n    ```\n1. bugzilla\n   ```\n   docker exec -it bugzilla bash\n   ```\n","source":"_posts/2016-06-29-bugzilla-in-docker.markdown","raw":"---\nlayout: post\ntitle: docker\ndate: '2016-06-29 17:57'\ncomments: true\ncategories: [''] \ntags: ['Docker']\n---\n\nbugzillabugdockerbugzilladockerbugzilla\n\n<!--more-->\n\n1. /bugzilla`docker start/stop bugzilla`\n1. bugzilla`docker logs bugzilla`\n1. `docker ps`\n1. bugzilla\n    ```\n    docker cp [OPTIONS] CONTAINER:PATH LOCALPATH|-\n    docker cp [OPTIONS] LOCALPATH|- CONTAINER:PATH\n    ```\n1. bugzilla\n    ```\n    docker exec [OPTIONS] CONTAINER COMMAND [ARG...]\n    ```\n1. bugzilla\n   ```\n   docker exec -it bugzilla bash\n   ```\n","slug":"bugzilla-in-docker","published":1,"updated":"2020-04-12T03:37:03.177Z","_id":"ck8wh7lb3001a4supncpj6tf6","photos":[],"link":"","content":"<p>bugzillabugdockerbugzilladockerbugzilla</p>\n<a id=\"more\"></a>\n<ol>\n<li>/bugzilla<code>docker start/stop bugzilla</code></li>\n<li>bugzilla<code>docker logs bugzilla</code></li>\n<li><code>docker ps</code></li>\n<li><p>bugzilla</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp [OPTIONS] CONTAINER:PATH LOCALPATH|-</span><br><span class=\"line\">docker cp [OPTIONS] LOCALPATH|- CONTAINER:PATH</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bugzilla</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec [OPTIONS] CONTAINER COMMAND [ARG...]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bugzilla</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it bugzilla bash</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>bugzillabugdockerbugzilladockerbugzilla</p>","more":"<ol>\n<li>/bugzilla<code>docker start/stop bugzilla</code></li>\n<li>bugzilla<code>docker logs bugzilla</code></li>\n<li><code>docker ps</code></li>\n<li><p>bugzilla</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp [OPTIONS] CONTAINER:PATH LOCALPATH|-</span><br><span class=\"line\">docker cp [OPTIONS] LOCALPATH|- CONTAINER:PATH</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bugzilla</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec [OPTIONS] CONTAINER COMMAND [ARG...]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bugzilla</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it bugzilla bash</span><br></pre></td></tr></table></figure>\n</li>\n</ol>"},{"layout":"post","title":"linuxcorefile","date":"2016-07-04T09:52:00.000Z","comments":1,"_content":"\nbeaglebonelinuxdaemoncorefile\n\n<!--more-->\n\n`ulimit -c unlimited`start\n\n\n1. libc`apt-get install libc6-dbg`\n2. gdbdaemon\n`gdb --batch -x your_gdbinit_file your_program`\n\n1libc6-dbg\n> libc6-dbg - Embedded GNU C Library: detached debugging symbols\n\n2`your_gdbinit_file`gdbinitgdbbatch\n\n```\nrun\nbt\ngenerate-core-file\nquit\n```\n\n`bt``generate-core-file`corecore.pid\n","source":"_posts/2016-07-04-generate-core-file.markdown","raw":"---\nlayout: post\ntitle: linuxcorefile\ndate: '2016-07-04 17:52'\ncomments: true\ncategories: [''] \ntags: ['Linux']\n---\n\nbeaglebonelinuxdaemoncorefile\n\n<!--more-->\n\n`ulimit -c unlimited`start\n\n\n1. libc`apt-get install libc6-dbg`\n2. gdbdaemon\n`gdb --batch -x your_gdbinit_file your_program`\n\n1libc6-dbg\n> libc6-dbg - Embedded GNU C Library: detached debugging symbols\n\n2`your_gdbinit_file`gdbinitgdbbatch\n\n```\nrun\nbt\ngenerate-core-file\nquit\n```\n\n`bt``generate-core-file`corecore.pid\n","slug":"generate-core-file","published":1,"updated":"2020-01-11T03:26:55.204Z","photos":[],"link":"","_id":"ck8wh7lb6001e4sup4ty6c2u9","content":"<p>beaglebonelinuxdaemoncorefile</p>\n<a id=\"more\"></a>\n<p><code>ulimit -c unlimited</code>start</p>\n<p></p>\n<ol>\n<li>libc<code>apt-get install libc6-dbg</code></li>\n<li>gdbdaemon<br><code>gdb --batch -x your_gdbinit_file your_program</code></li>\n</ol>\n<p>1libc6-dbg</p>\n<blockquote>\n<p>libc6-dbg - Embedded GNU C Library: detached debugging symbols</p>\n</blockquote>\n<p>2<code>your_gdbinit_file</code>gdbinitgdbbatch</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run</span><br><span class=\"line\">bt</span><br><span class=\"line\">generate-core-file</span><br><span class=\"line\">quit</span><br></pre></td></tr></table></figure>\n<p><code>bt</code><code>generate-core-file</code>corecore.pid</p>\n","site":{"data":{}},"excerpt":"<p>beaglebonelinuxdaemoncorefile</p>","more":"<p><code>ulimit -c unlimited</code>start</p>\n<p></p>\n<ol>\n<li>libc<code>apt-get install libc6-dbg</code></li>\n<li>gdbdaemon<br><code>gdb --batch -x your_gdbinit_file your_program</code></li>\n</ol>\n<p>1libc6-dbg</p>\n<blockquote>\n<p>libc6-dbg - Embedded GNU C Library: detached debugging symbols</p>\n</blockquote>\n<p>2<code>your_gdbinit_file</code>gdbinitgdbbatch</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">run</span><br><span class=\"line\">bt</span><br><span class=\"line\">generate-core-file</span><br><span class=\"line\">quit</span><br></pre></td></tr></table></figure>\n<p><code>bt</code><code>generate-core-file</code>corecore.pid</p>"},{"layout":"post","title":"autossh","date":"2016-06-22T13:05:00.000Z","comments":1,"_content":"\nSSH62638TCP62639TCP\n\n<!--more-->\n\nautosshautosshautossh****ssh\n\n\n1. bbblack\n2. 125.94.212.178IP\n\n## autossh\n\n1. /etc/ssh/ssh_config`StrictHostKeyChecking ask``StrictHostKeyChecking no`\n2. ssh-keygenid_rsa.pubid_rsa.pub/home/bbblack/.ssh/customer_name_authorized_keys**customer_name_authorized_keys_authorized_keys**\n3. autossh\n4. crontab5autossh.sh\n\n```bash\n#!/bin/sh\n# 123522ssh\ntokeep=1235:localhost:22\n# autossh\nif $(/bin/ps ax|grep $tokeep|grep -v \"grep\" > /dev/null)\nthen\n    echo \"ok\" > /dev/null\nelse\n    # autossh\n    /usr/bin/autossh -M 1234 -NR 1235:localhost:22 bbblack@125.94.212.178 -p62638 > /root/autossh.log 2>&1 &\nfi\nexit 0\n```\n\n## autossh\n\n1. /etc/ssh/ssh_config`StrictHostKeyChecking ask``StrictHostKeyChecking no`\n2. /etc/ssh/sshd_config`AuthorizedKeysFile``AuthorizedKeysFile      .ssh/authorized_keys`customer_name_authorized_keys.ssh/authorized_keysauthorized_keys\n\n### \n\ncustomer_nameauthorized_keys`lsof -i:1235``ssh -p1235 user_name@localhost`**user_namelinux user name**\n\n### \n\n\n\nautossh-helper.sh\n\n```bash\n#!/bin/sh\n\nfilepath=$1\nport1=1235\n\n[ $# -eq 0 ] && { echo \"Usage: $0 authorized_keys_filepath\"; exit 999; }\n\nif [ -f \"$filepath\" ] ; then\n    # kill 1235\n    pid=$(lsof -i:$port1 -t)\n    echo $pid|while read line\n    do\n        if [ \"\" != \"$line\" ] ; then\n            $(kill $line)\n        fi\n    done\n\n    # clear known_hosts\n    echo > /home/bbblack/.ssh/known_hosts\n\n    # authorized_keys changed\n    cp $filepath /home/bbblack/.ssh/authorized_keys\n    echo \"done ...\"\nelse\n    echo \"$filepath not exists ...\"\nfi\n\nexit 0\n```\n\n**FIXME** \nrootbbblack1235pid1235sshdbbblack`lsof``netstat`bbblack1235pidlsofsetuidroot`chmod u+s /usr/bin/lsof`\n\nbbblackroot`./autossh-helper.sh customer_name_authorized_keys`customer_name_authorized_keyssshauthorized_keysssh\n\ndenyhostsdenyhostssshIPsshautossh-helper.shIP\n\nTCP62639IPTCP62639\n\nautossh-helper.shIPautossh-helper.sh**root**denyhostsrootpublic-ip-helper.sh\n\n```bash\n#!/bin/sh\n\nif [ `whoami` = \"root\" ]; then\n    echo \"\" > /dev/null\nelse\n    echo \"please login as root !\"\n    exit 1\nfi\n\ntokill=/usr/bin/denyhosts\n/bin/ps ax|grep $tokill|grep -v \"grep\"|awk '{print $1}'|while read line\ndo\n    kill $line\ndone\n\nnetstat -npt|grep 62639|cut -d \":\" -f2|cut -d \":\" -f1|while read str\ndo\nHOST=${str##* }\necho $HOST >> /usr/share/denyhosts/allowed-hosts\necho '\n/etc/hosts.deny\n/usr/share/denyhosts/data/hosts\n/usr/share/denyhosts/data/hosts-restricted\n/usr/share/denyhosts/data/hosts-root\n/usr/share/denyhosts/data/hosts-valid\n/usr/share/denyhosts/data/users-hosts\n' | grep -v \"^$\" | xargs sed -i \"/${HOST}/d\"\ndone\n\n/etc/init.d/denyhosts start\n```\n","source":"_posts/2016-06-22-autossh-helper.markdown","raw":"---\nlayout: post\ntitle: autossh\ndate: '2016-06-22 21:05'\ncomments: true\ncategories: ['']  \ntags: ['Linux', 'Network']\n---\n\nSSH62638TCP62639TCP\n\n<!--more-->\n\nautosshautosshautossh****ssh\n\n\n1. bbblack\n2. 125.94.212.178IP\n\n## autossh\n\n1. /etc/ssh/ssh_config`StrictHostKeyChecking ask``StrictHostKeyChecking no`\n2. ssh-keygenid_rsa.pubid_rsa.pub/home/bbblack/.ssh/customer_name_authorized_keys**customer_name_authorized_keys_authorized_keys**\n3. autossh\n4. crontab5autossh.sh\n\n```bash\n#!/bin/sh\n# 123522ssh\ntokeep=1235:localhost:22\n# autossh\nif $(/bin/ps ax|grep $tokeep|grep -v \"grep\" > /dev/null)\nthen\n    echo \"ok\" > /dev/null\nelse\n    # autossh\n    /usr/bin/autossh -M 1234 -NR 1235:localhost:22 bbblack@125.94.212.178 -p62638 > /root/autossh.log 2>&1 &\nfi\nexit 0\n```\n\n## autossh\n\n1. /etc/ssh/ssh_config`StrictHostKeyChecking ask``StrictHostKeyChecking no`\n2. /etc/ssh/sshd_config`AuthorizedKeysFile``AuthorizedKeysFile      .ssh/authorized_keys`customer_name_authorized_keys.ssh/authorized_keysauthorized_keys\n\n### \n\ncustomer_nameauthorized_keys`lsof -i:1235``ssh -p1235 user_name@localhost`**user_namelinux user name**\n\n### \n\n\n\nautossh-helper.sh\n\n```bash\n#!/bin/sh\n\nfilepath=$1\nport1=1235\n\n[ $# -eq 0 ] && { echo \"Usage: $0 authorized_keys_filepath\"; exit 999; }\n\nif [ -f \"$filepath\" ] ; then\n    # kill 1235\n    pid=$(lsof -i:$port1 -t)\n    echo $pid|while read line\n    do\n        if [ \"\" != \"$line\" ] ; then\n            $(kill $line)\n        fi\n    done\n\n    # clear known_hosts\n    echo > /home/bbblack/.ssh/known_hosts\n\n    # authorized_keys changed\n    cp $filepath /home/bbblack/.ssh/authorized_keys\n    echo \"done ...\"\nelse\n    echo \"$filepath not exists ...\"\nfi\n\nexit 0\n```\n\n**FIXME** \nrootbbblack1235pid1235sshdbbblack`lsof``netstat`bbblack1235pidlsofsetuidroot`chmod u+s /usr/bin/lsof`\n\nbbblackroot`./autossh-helper.sh customer_name_authorized_keys`customer_name_authorized_keyssshauthorized_keysssh\n\ndenyhostsdenyhostssshIPsshautossh-helper.shIP\n\nTCP62639IPTCP62639\n\nautossh-helper.shIPautossh-helper.sh**root**denyhostsrootpublic-ip-helper.sh\n\n```bash\n#!/bin/sh\n\nif [ `whoami` = \"root\" ]; then\n    echo \"\" > /dev/null\nelse\n    echo \"please login as root !\"\n    exit 1\nfi\n\ntokill=/usr/bin/denyhosts\n/bin/ps ax|grep $tokill|grep -v \"grep\"|awk '{print $1}'|while read line\ndo\n    kill $line\ndone\n\nnetstat -npt|grep 62639|cut -d \":\" -f2|cut -d \":\" -f1|while read str\ndo\nHOST=${str##* }\necho $HOST >> /usr/share/denyhosts/allowed-hosts\necho '\n/etc/hosts.deny\n/usr/share/denyhosts/data/hosts\n/usr/share/denyhosts/data/hosts-restricted\n/usr/share/denyhosts/data/hosts-root\n/usr/share/denyhosts/data/hosts-valid\n/usr/share/denyhosts/data/users-hosts\n' | grep -v \"^$\" | xargs sed -i \"/${HOST}/d\"\ndone\n\n/etc/init.d/denyhosts start\n```\n","slug":"autossh-helper","published":1,"updated":"2020-04-12T03:36:40.666Z","_id":"ck8wh7lb8001h4supix1a2v5o","photos":[],"link":"","content":"<p>SSH62638TCP62639TCP</p>\n<a id=\"more\"></a>\n<p>autosshautosshautossh<strong></strong>ssh</p>\n<p></p>\n<ol>\n<li>bbblack</li>\n<li>125.94.212.178IP</li>\n</ol>\n<h2 id=\"autossh\"><a href=\"#autossh\" class=\"headerlink\" title=\"autossh\"></a>autossh</h2><ol>\n<li>/etc/ssh/ssh_config<code>StrictHostKeyChecking ask</code><code>StrictHostKeyChecking no</code></li>\n<li>ssh-keygenid_rsa.pubid_rsa.pub/home/bbblack/.ssh/customer_name_authorized_keys<strong>customer_name_authorized_keys_authorized_keys</strong></li>\n<li>autossh</li>\n<li>crontab5autossh.sh</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\"># 123522ssh</span></span><br><span class=\"line\">tokeep=1235:localhost:22</span><br><span class=\"line\"><span class=\"comment\"># autossh</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> $(/bin/ps ax|grep <span class=\"variable\">$tokeep</span>|grep -v <span class=\"string\">\"grep\"</span> &gt; /dev/null)</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"ok\"</span> &gt; /dev/null</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"comment\"># autossh</span></span><br><span class=\"line\">    /usr/bin/autossh -M 1234 -NR 1235:localhost:22 bbblack@125.94.212.178 -p62638 &gt; /root/autossh.log 2&gt;&amp;1 &amp;</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<h2 id=\"autossh\"><a href=\"#autossh\" class=\"headerlink\" title=\"autossh\"></a>autossh</h2><ol>\n<li>/etc/ssh/ssh_config<code>StrictHostKeyChecking ask</code><code>StrictHostKeyChecking no</code></li>\n<li>/etc/ssh/sshd_config<code>AuthorizedKeysFile</code><code>AuthorizedKeysFile      .ssh/authorized_keys</code>customer_name_authorized_keys.ssh/authorized_keysauthorized_keys</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>customer_nameauthorized_keys<code>lsof -i:1235</code><code>ssh -p1235 user_name@localhost</code><strong>user_namelinux user name</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>autossh-helper.sh</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\">filepath=<span class=\"variable\">$1</span></span><br><span class=\"line\">port1=1235</span><br><span class=\"line\"></span><br><span class=\"line\">[ <span class=\"variable\">$#</span> -eq 0 ] &amp;&amp; &#123; <span class=\"built_in\">echo</span> <span class=\"string\">\"Usage: <span class=\"variable\">$0</span> authorized_keys_filepath\"</span>; <span class=\"built_in\">exit</span> 999; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ -f <span class=\"string\">\"<span class=\"variable\">$filepath</span>\"</span> ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"comment\"># kill 1235</span></span><br><span class=\"line\">    pid=$(lsof -i:<span class=\"variable\">$port1</span> -t)</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"variable\">$pid</span>|<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> line</span><br><span class=\"line\">    <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> [ <span class=\"string\">\"\"</span> != <span class=\"string\">\"<span class=\"variable\">$line</span>\"</span> ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">            $(<span class=\"built_in\">kill</span> <span class=\"variable\">$line</span>)</span><br><span class=\"line\">        <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># clear known_hosts</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> &gt; /home/bbblack/.ssh/known_hosts</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># authorized_keys changed</span></span><br><span class=\"line\">    cp <span class=\"variable\">$filepath</span> /home/bbblack/.ssh/authorized_keys</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"done ...\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$filepath</span> not exists ...\"</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p><strong>FIXME</strong><br>rootbbblack1235pid1235sshdbbblack<code>lsof</code><code>netstat</code>bbblack1235pidlsofsetuidroot<code>chmod u+s /usr/bin/lsof</code></p>\n<p>bbblackroot<code>./autossh-helper.sh customer_name_authorized_keys</code>customer_name_authorized_keyssshauthorized_keysssh</p>\n<p>denyhostsdenyhostssshIPsshautossh-helper.shIP</p>\n<p>TCP62639IPTCP62639</p>\n<p>autossh-helper.shIPautossh-helper.sh<strong>root</strong>denyhostsrootpublic-ip-helper.sh</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ `whoami` = <span class=\"string\">\"root\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"\"</span> &gt; /dev/null</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"please login as root !\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\">tokill=/usr/bin/denyhosts</span><br><span class=\"line\">/bin/ps ax|grep <span class=\"variable\">$tokill</span>|grep -v <span class=\"string\">\"grep\"</span>|awk <span class=\"string\">'&#123;print $1&#125;'</span>|<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> line</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">kill</span> <span class=\"variable\">$line</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">netstat -npt|grep 62639|cut -d <span class=\"string\">\":\"</span> -f2|cut -d <span class=\"string\">\":\"</span> -f1|<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> str</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">HOST=<span class=\"variable\">$&#123;str##* &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$HOST</span> &gt;&gt; /usr/share/denyhosts/allowed-hosts</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">/etc/hosts.deny</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts-restricted</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts-root</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts-valid</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/users-hosts</span></span><br><span class=\"line\"><span class=\"string\">'</span> | grep -v <span class=\"string\">\"^$\"</span> | xargs sed -i <span class=\"string\">\"/<span class=\"variable\">$&#123;HOST&#125;</span>/d\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">/etc/init.d/denyhosts start</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>SSH62638TCP62639TCP</p>","more":"<p>autosshautosshautossh<strong></strong>ssh</p>\n<p></p>\n<ol>\n<li>bbblack</li>\n<li>125.94.212.178IP</li>\n</ol>\n<h2 id=\"autossh\"><a href=\"#autossh\" class=\"headerlink\" title=\"autossh\"></a>autossh</h2><ol>\n<li>/etc/ssh/ssh_config<code>StrictHostKeyChecking ask</code><code>StrictHostKeyChecking no</code></li>\n<li>ssh-keygenid_rsa.pubid_rsa.pub/home/bbblack/.ssh/customer_name_authorized_keys<strong>customer_name_authorized_keys_authorized_keys</strong></li>\n<li>autossh</li>\n<li>crontab5autossh.sh</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\"># 123522ssh</span></span><br><span class=\"line\">tokeep=1235:localhost:22</span><br><span class=\"line\"><span class=\"comment\"># autossh</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> $(/bin/ps ax|grep <span class=\"variable\">$tokeep</span>|grep -v <span class=\"string\">\"grep\"</span> &gt; /dev/null)</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"ok\"</span> &gt; /dev/null</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"comment\"># autossh</span></span><br><span class=\"line\">    /usr/bin/autossh -M 1234 -NR 1235:localhost:22 bbblack@125.94.212.178 -p62638 &gt; /root/autossh.log 2&gt;&amp;1 &amp;</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<h2 id=\"autossh\"><a href=\"#autossh\" class=\"headerlink\" title=\"autossh\"></a>autossh</h2><ol>\n<li>/etc/ssh/ssh_config<code>StrictHostKeyChecking ask</code><code>StrictHostKeyChecking no</code></li>\n<li>/etc/ssh/sshd_config<code>AuthorizedKeysFile</code><code>AuthorizedKeysFile      .ssh/authorized_keys</code>customer_name_authorized_keys.ssh/authorized_keysauthorized_keys</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>customer_nameauthorized_keys<code>lsof -i:1235</code><code>ssh -p1235 user_name@localhost</code><strong>user_namelinux user name</strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>autossh-helper.sh</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\">filepath=<span class=\"variable\">$1</span></span><br><span class=\"line\">port1=1235</span><br><span class=\"line\"></span><br><span class=\"line\">[ <span class=\"variable\">$#</span> -eq 0 ] &amp;&amp; &#123; <span class=\"built_in\">echo</span> <span class=\"string\">\"Usage: <span class=\"variable\">$0</span> authorized_keys_filepath\"</span>; <span class=\"built_in\">exit</span> 999; &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ -f <span class=\"string\">\"<span class=\"variable\">$filepath</span>\"</span> ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"comment\"># kill 1235</span></span><br><span class=\"line\">    pid=$(lsof -i:<span class=\"variable\">$port1</span> -t)</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"variable\">$pid</span>|<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> line</span><br><span class=\"line\">    <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> [ <span class=\"string\">\"\"</span> != <span class=\"string\">\"<span class=\"variable\">$line</span>\"</span> ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">            $(<span class=\"built_in\">kill</span> <span class=\"variable\">$line</span>)</span><br><span class=\"line\">        <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># clear known_hosts</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> &gt; /home/bbblack/.ssh/known_hosts</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># authorized_keys changed</span></span><br><span class=\"line\">    cp <span class=\"variable\">$filepath</span> /home/bbblack/.ssh/authorized_keys</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"done ...\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$filepath</span> not exists ...\"</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p><strong>FIXME</strong><br>rootbbblack1235pid1235sshdbbblack<code>lsof</code><code>netstat</code>bbblack1235pidlsofsetuidroot<code>chmod u+s /usr/bin/lsof</code></p>\n<p>bbblackroot<code>./autossh-helper.sh customer_name_authorized_keys</code>customer_name_authorized_keyssshauthorized_keysssh</p>\n<p>denyhostsdenyhostssshIPsshautossh-helper.shIP</p>\n<p>TCP62639IPTCP62639</p>\n<p>autossh-helper.shIPautossh-helper.sh<strong>root</strong>denyhostsrootpublic-ip-helper.sh</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ `whoami` = <span class=\"string\">\"root\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"\"</span> &gt; /dev/null</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"please login as root !\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 1</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\">tokill=/usr/bin/denyhosts</span><br><span class=\"line\">/bin/ps ax|grep <span class=\"variable\">$tokill</span>|grep -v <span class=\"string\">\"grep\"</span>|awk <span class=\"string\">'&#123;print $1&#125;'</span>|<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> line</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">kill</span> <span class=\"variable\">$line</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">netstat -npt|grep 62639|cut -d <span class=\"string\">\":\"</span> -f2|cut -d <span class=\"string\">\":\"</span> -f1|<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> str</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">HOST=<span class=\"variable\">$&#123;str##* &#125;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$HOST</span> &gt;&gt; /usr/share/denyhosts/allowed-hosts</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">/etc/hosts.deny</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts-restricted</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts-root</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/hosts-valid</span></span><br><span class=\"line\"><span class=\"string\">/usr/share/denyhosts/data/users-hosts</span></span><br><span class=\"line\"><span class=\"string\">'</span> | grep -v <span class=\"string\">\"^$\"</span> | xargs sed -i <span class=\"string\">\"/<span class=\"variable\">$&#123;HOST&#125;</span>/d\"</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br><span class=\"line\"></span><br><span class=\"line\">/etc/init.d/denyhosts start</span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"UNP1","date":"2016-08-02T01:01:00.000Z","comments":1,"_content":"\nUnix Network Programing\n\n<!--more-->\n\n## Q&A\n\nQ: TIME_WAIT\n\nA: TIME_WAIT\n\n![time_wait](/images/pics/time_wait.jpg)\n\n- CTIME_WAITFIN_WAIT2CLOSEDCRSTS\n- MSLIPTIME_WAITMSL\n\n------\n\nQ: Linuxlisten()backlog\n\nA: [How TCP backlog works in Linux](http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html)\n\n> The behavior of the backlog argument on TCP sockets changed with Linux 2.2. Now it **specifies the queue length for completely established sockets waiting to be accepted**, instead of the number of incomplete connection requests. The maximum length of the queue for **incomplete sockets can be set using /proc/sys/net/ipv4/tcp_max_syn_backlog**.\n\nbacklogESTABLISHED QueueSYN RECV Queue\n\n## \n\n1. veithen.github.io: [How TCP backlog works in Linux](http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html)","source":"_posts/2016-08-02-qa-of-unp.markdown","raw":"---\nlayout: post\ntitle: UNP1\ndate: '2016-08-02 09:01'\ncomments: true\ncategories: ['']\ntags: ['C/C++', 'Linux', 'Network']\n---\n\nUnix Network Programing\n\n<!--more-->\n\n## Q&A\n\nQ: TIME_WAIT\n\nA: TIME_WAIT\n\n![time_wait](/images/pics/time_wait.jpg)\n\n- CTIME_WAITFIN_WAIT2CLOSEDCRSTS\n- MSLIPTIME_WAITMSL\n\n------\n\nQ: Linuxlisten()backlog\n\nA: [How TCP backlog works in Linux](http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html)\n\n> The behavior of the backlog argument on TCP sockets changed with Linux 2.2. Now it **specifies the queue length for completely established sockets waiting to be accepted**, instead of the number of incomplete connection requests. The maximum length of the queue for **incomplete sockets can be set using /proc/sys/net/ipv4/tcp_max_syn_backlog**.\n\nbacklogESTABLISHED QueueSYN RECV Queue\n\n## \n\n1. veithen.github.io: [How TCP backlog works in Linux](http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html)","slug":"qa-of-unp","published":1,"updated":"2020-04-12T03:42:02.363Z","_id":"ck8wh7lb9001j4supfi56j0uq","photos":[],"link":"","content":"<p>Unix Network Programing</p>\n<a id=\"more\"></a>\n<h2 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q&amp;A\"></a>Q&amp;A</h2><p>Q: TIME_WAIT</p>\n<p>A: TIME_WAIT</p>\n<p><img src=\"/images/pics/time_wait.jpg\" alt=\"time_wait\"></p>\n<ul>\n<li>CTIME_WAITFIN_WAIT2CLOSEDCRSTS</li>\n<li>MSLIPTIME_WAITMSL</li>\n</ul>\n<hr>\n<p>Q: Linuxlisten()backlog</p>\n<p>A: <a href=\"http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html\" target=\"_blank\" rel=\"noopener\">How TCP backlog works in Linux</a></p>\n<blockquote>\n<p>The behavior of the backlog argument on TCP sockets changed with Linux 2.2. Now it <strong>specifies the queue length for completely established sockets waiting to be accepted</strong>, instead of the number of incomplete connection requests. The maximum length of the queue for <strong>incomplete sockets can be set using /proc/sys/net/ipv4/tcp_max_syn_backlog</strong>.</p>\n</blockquote>\n<p>backlogESTABLISHED QueueSYN RECV Queue</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>veithen.github.io: <a href=\"http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html\" target=\"_blank\" rel=\"noopener\">How TCP backlog works in Linux</a></li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>Unix Network Programing</p>","more":"<h2 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q&amp;A\"></a>Q&amp;A</h2><p>Q: TIME_WAIT</p>\n<p>A: TIME_WAIT</p>\n<p><img src=\"/images/pics/time_wait.jpg\" alt=\"time_wait\"></p>\n<ul>\n<li>CTIME_WAITFIN_WAIT2CLOSEDCRSTS</li>\n<li>MSLIPTIME_WAITMSL</li>\n</ul>\n<hr>\n<p>Q: Linuxlisten()backlog</p>\n<p>A: <a href=\"http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html\" target=\"_blank\" rel=\"noopener\">How TCP backlog works in Linux</a></p>\n<blockquote>\n<p>The behavior of the backlog argument on TCP sockets changed with Linux 2.2. Now it <strong>specifies the queue length for completely established sockets waiting to be accepted</strong>, instead of the number of incomplete connection requests. The maximum length of the queue for <strong>incomplete sockets can be set using /proc/sys/net/ipv4/tcp_max_syn_backlog</strong>.</p>\n</blockquote>\n<p>backlogESTABLISHED QueueSYN RECV Queue</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>veithen.github.io: <a href=\"http://veithen.github.io/2014/01/01/how-tcp-backlog-works-in-linux.html\" target=\"_blank\" rel=\"noopener\">How TCP backlog works in Linux</a></li>\n</ol>"},{"layout":"post","title":"antWAR","date":"2016-06-28T03:07:00.000Z","comments":1,"_content":"\neclipse webMavenWARIDEantWAR\n\n<!--more-->\n\n- [ant](http://ant.apache.org/bindownload.cgi)\n- IDEeclipseantbuild.xmlbuild.xml`<javac``encoding=\"UTF-8\"``target`\n```\n    <target name=\"war\">\n        <war destfile = \"releases/gx-desk.war\" webxml = \"WebContent/WEB-INF/web.xml\">\n           <fileset dir = \"WebContent\">\n              <include name = \"**/*\"/>\n           </fileset>\n           <classes dir=\"build/classes\"/>\n           <webinf dir=\"WebContent/WEB-INF/lib\"/>\n        </war>\n    </target>\n```\n- bash\n\n------\n\n1bash\n\n```bash\n#!/bin/sh\n\n## dependency : sencha cmd\n\n## 1. export build.xml, setup javac and war\n## 2. download ant\n## 3. add ant/bin to $PATH\n## 4. setup ANT_HOME\n\ncd /d/SVN/Workspace/gx-desk/\n\nif [ -d \"WebContent2\" ]; then\n    echo \"ERROR: WebContent2 exists, please check !\"\n    exit 0\nfi\n\ncd WebContent/\n\nsencha app build\n\nif [ $? -ne 0 ] ; then\n    echo \"ERROR: sencha build error !\"\n    exit 0\nelse\n    # frontend\n    cd ..\n    mv WebContent WebContent2 \n    mkdir WebContent\n    cp WebContent2/build/production/Desktop/* WebContent/ -rf\n    cp WebContent2/WEB-INF WebContent/ -rf\n    rm WebContent/WEB-INF/lib/* -rf\n\n    # backend\n    cd src/main/resources/\n    mv config.properties config.properties.bak\n    mv config.properties.hwcloud config.properties\n    mv spring/applicationContext.xml spring/applicationContext.xml.bak\n    mv spring/applicationContext.xml.hwcloud spring/applicationContext.xml\n    cd -\n\n    # ant\n    ant clean\n    ant\n    if [ $? -ne 0 ] ; then\n        echo \"ERROR: ant build error !\"\n    else\n        ant war\n    if [ $? -ne 0 ] ; then\n        echo \"ERROR: ant war error !\"\n    else\n       scp -v -P62627 releases/gx-desk.war gx@125.94.212.178:~/\n    fi\n    fi\n    # reverse\n    rm WebContent -rf\n    mv WebContent2 WebContent\n    cd src/main/resources/\n    mv config.properties config.properties.hwcloud\n    mv config.properties.bak config.properties\n    mv spring/applicationContext.xml spring/applicationContext.xml.hwcloud\n    mv spring/applicationContext.xml.bak spring/applicationContext.xml\n    \nfi\n\nexit 0\n\n```\n\n2build.xml\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!-- WARNING: Eclipse auto-generated file.\n              Any modifications will be overwritten.\n              To include a user specific buildfile here, simply create one in the same\n              directory with the processing instruction <?eclipse.ant.import?>\n              as the first entry and export the buildfile again. --><project basedir=\".\" default=\"build\" name=\"gx-desk\">\n    <property environment=\"env\"/>\n    <property name=\"ECLIPSE_HOME\" value=\"../../../Softwares/IDE/eclipse/\"/>\n    <property name=\"junit.output.dir\" value=\"junit\"/>\n    <property name=\"debuglevel\" value=\"source,lines,vars\"/>\n    <property name=\"target\" value=\"1.8\"/>\n    <property name=\"source\" value=\"1.8\"/>\n    <path id=\"Web App Libraries.libraryclasspath\"/>\n    <path id=\"EAR Libraries.libraryclasspath\"/>\n    <path id=\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\">\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/annotations-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/antlr-2.7.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/aopalliance-1.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/asm-all-3.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspectjweaver-1.8.9.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspose-cells-7.7.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/bcprov-jdk16-146.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/c3p0-0.9.1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/cas-client-core-3.4.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ant.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ha.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-storeconfig.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-tribes.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/cglib-2.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/com.springsource.org.codehaus.jackson-1.4.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-beanutils.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.7.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-collections-3.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-configuration-1.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-dbcp.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-digester-2.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-fileupload-1.2.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-io-2.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-math3-3.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-pool.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/dom4j-1.6.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ecj-4.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ehcache-core-2.6.7.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/el-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ezmorph-1.0.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/groovy-all-1.8.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/gson-2.2.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/guava-12.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/guice-2.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-auth-2.2.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-common-2.2.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-client-0.98.3-hadoop2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-common-0.98.3-hadoop2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-protocol-0.98.3-hadoop2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate-jpa-2.0-api-1.0.0.Final.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/htrace-core-2.04.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-4.3.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-cache-4.3.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpcore-4.3.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/iText-2.1.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/iTextAsian.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-annotations-2.7.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-2.7.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-asl-1.4.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-databind-2.7.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-mapper-asl-1.4.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper-el.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-5.0.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-applet-5.0.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-fonts-5.0.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/javassist-3.9.0.GA.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/javax.ws.rs.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcip-annotations-1.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcommon-1.0.13.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jedis-2.6.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jfreechart-1.0.10.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/json-lib-2.2.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsp-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsr311-api-1.1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jta-1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jtransforms-2.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/junit-4.8.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jxl.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j-over-slf4j-1.7.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-classic-1.0.13.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-core-1.0.13.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mail.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mina-core-2.0.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-3.0.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-ehcache-1.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-spring-1.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mysql-connector-java-5.1.17-bin.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/nekohtml-1.9.20.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/netty-3.6.6.Final.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ojdbc5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/openid4java-nodeps-0.9.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/poi-3.9-20121203.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/protobuf-java-2.5.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/quartz-2.2.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/servlet-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/slf4j-api-1.6.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aop-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-asm-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aspects-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-support-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-tomcat-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jdbc-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jms-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-ldap-core-2.0.2.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-messaging-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-orm-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-oxm-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-acl-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-aspects-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-cas-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-config-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-core-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-ldap-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-openid-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-taglibs-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-web-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-test-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-tx-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-portlet-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-websocket-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-coyote.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-dbcp.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-es.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-fr.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-ja.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jdbc.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jni.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-spdy.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util-scan.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-websocket.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/websocket-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/xercesImpl-2.10.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/xml-apis-1.4.01.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/xstream-1.4.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/zmq.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/zookeeper-3.4.6.jar\"/>\n    </path>\n    <path id=\"gx-desk.classpath\">\n        <pathelement location=\"build/classes\"/>\n        <path refid=\"Web App Libraries.libraryclasspath\"/>\n        <path refid=\"EAR Libraries.libraryclasspath\"/>\n        <path refid=\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\"/>\n    </path>\n    <target name=\"init\">\n        <mkdir dir=\"build/classes\"/>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/main/java\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/main/resources\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/test/java\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/test/resources\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n    </target>\n    <target name=\"clean\">\n        <delete dir=\"build/classes\"/>\n    </target>\n    <target depends=\"clean\" name=\"cleanall\"/>\n    <target depends=\"build-subprojects,build-project\" name=\"build\"/>\n    <target name=\"build-subprojects\"/>\n    <target depends=\"init\" name=\"build-project\">\n        <echo message=\"${ant.project.name}: ${ant.file}\"/>\n        <javac encoding=\"UTF-8\" debug=\"true\" debuglevel=\"${debuglevel}\" destdir=\"build/classes\" includeantruntime=\"false\" source=\"${source}\" target=\"${target}\">\n            <src path=\"src/main/java\"/>\n            <src path=\"src/main/resources\"/>\n            <src path=\"src/test/java\"/>\n            <src path=\"src/test/resources\"/>\n            <classpath refid=\"gx-desk.classpath\"/>\n        </javac>\n    </target>\n    <target description=\"Build all projects which reference this project. Useful to propagate changes.\" name=\"build-refprojects\"/>\n    <target description=\"copy Eclipse compiler jars to ant lib directory\" name=\"init-eclipse-compiler\">\n        <copy todir=\"${ant.library.dir}\">\n            <fileset dir=\"${ECLIPSE_HOME}/plugins\" includes=\"org.eclipse.jdt.core_*.jar\"/>\n        </copy>\n        <unzip dest=\"${ant.library.dir}\">\n            <patternset includes=\"jdtCompilerAdapter.jar\"/>\n            <fileset dir=\"${ECLIPSE_HOME}/plugins\" includes=\"org.eclipse.jdt.core_*.jar\"/>\n        </unzip>\n    </target>\n    <target description=\"compile project with Eclipse compiler\" name=\"build-eclipse-compiler\">\n        <property name=\"build.compiler\" value=\"org.eclipse.jdt.core.JDTCompilerAdapter\"/>\n        <antcall target=\"build\"/>\n    </target>\n    <target name=\"war\">\n        <war destfile = \"releases/gx-desk.war\" webxml = \"WebContent/WEB-INF/web.xml\">\n           <fileset dir = \"WebContent\">\n              <include name = \"**/*\"/>\n           </fileset>\n           <classes dir=\"build/classes\"/>\n           <webinf dir=\"WebContent/WEB-INF/lib\"/>\n        </war>\n    </target>\n</project>\n```\n","source":"_posts/2016-06-28-ant-war-task.markdown","raw":"---\nlayout: post\ntitle: antWAR\ndate: '2016-06-28 11:07'\ncomments: true\ncategories: ['']  \ntags: ['Java', 'Eclipse']\n---\n\neclipse webMavenWARIDEantWAR\n\n<!--more-->\n\n- [ant](http://ant.apache.org/bindownload.cgi)\n- IDEeclipseantbuild.xmlbuild.xml`<javac``encoding=\"UTF-8\"``target`\n```\n    <target name=\"war\">\n        <war destfile = \"releases/gx-desk.war\" webxml = \"WebContent/WEB-INF/web.xml\">\n           <fileset dir = \"WebContent\">\n              <include name = \"**/*\"/>\n           </fileset>\n           <classes dir=\"build/classes\"/>\n           <webinf dir=\"WebContent/WEB-INF/lib\"/>\n        </war>\n    </target>\n```\n- bash\n\n------\n\n1bash\n\n```bash\n#!/bin/sh\n\n## dependency : sencha cmd\n\n## 1. export build.xml, setup javac and war\n## 2. download ant\n## 3. add ant/bin to $PATH\n## 4. setup ANT_HOME\n\ncd /d/SVN/Workspace/gx-desk/\n\nif [ -d \"WebContent2\" ]; then\n    echo \"ERROR: WebContent2 exists, please check !\"\n    exit 0\nfi\n\ncd WebContent/\n\nsencha app build\n\nif [ $? -ne 0 ] ; then\n    echo \"ERROR: sencha build error !\"\n    exit 0\nelse\n    # frontend\n    cd ..\n    mv WebContent WebContent2 \n    mkdir WebContent\n    cp WebContent2/build/production/Desktop/* WebContent/ -rf\n    cp WebContent2/WEB-INF WebContent/ -rf\n    rm WebContent/WEB-INF/lib/* -rf\n\n    # backend\n    cd src/main/resources/\n    mv config.properties config.properties.bak\n    mv config.properties.hwcloud config.properties\n    mv spring/applicationContext.xml spring/applicationContext.xml.bak\n    mv spring/applicationContext.xml.hwcloud spring/applicationContext.xml\n    cd -\n\n    # ant\n    ant clean\n    ant\n    if [ $? -ne 0 ] ; then\n        echo \"ERROR: ant build error !\"\n    else\n        ant war\n    if [ $? -ne 0 ] ; then\n        echo \"ERROR: ant war error !\"\n    else\n       scp -v -P62627 releases/gx-desk.war gx@125.94.212.178:~/\n    fi\n    fi\n    # reverse\n    rm WebContent -rf\n    mv WebContent2 WebContent\n    cd src/main/resources/\n    mv config.properties config.properties.hwcloud\n    mv config.properties.bak config.properties\n    mv spring/applicationContext.xml spring/applicationContext.xml.hwcloud\n    mv spring/applicationContext.xml.bak spring/applicationContext.xml\n    \nfi\n\nexit 0\n\n```\n\n2build.xml\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!-- WARNING: Eclipse auto-generated file.\n              Any modifications will be overwritten.\n              To include a user specific buildfile here, simply create one in the same\n              directory with the processing instruction <?eclipse.ant.import?>\n              as the first entry and export the buildfile again. --><project basedir=\".\" default=\"build\" name=\"gx-desk\">\n    <property environment=\"env\"/>\n    <property name=\"ECLIPSE_HOME\" value=\"../../../Softwares/IDE/eclipse/\"/>\n    <property name=\"junit.output.dir\" value=\"junit\"/>\n    <property name=\"debuglevel\" value=\"source,lines,vars\"/>\n    <property name=\"target\" value=\"1.8\"/>\n    <property name=\"source\" value=\"1.8\"/>\n    <path id=\"Web App Libraries.libraryclasspath\"/>\n    <path id=\"EAR Libraries.libraryclasspath\"/>\n    <path id=\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\">\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/annotations-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/antlr-2.7.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/aopalliance-1.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/asm-all-3.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspectjweaver-1.8.9.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspose-cells-7.7.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/bcprov-jdk16-146.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/c3p0-0.9.1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/cas-client-core-3.4.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ant.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ha.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-storeconfig.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-tribes.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/cglib-2.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/com.springsource.org.codehaus.jackson-1.4.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-beanutils.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.7.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-collections-3.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-configuration-1.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-dbcp.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-digester-2.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-fileupload-1.2.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-io-2.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-math3-3.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-pool.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/dom4j-1.6.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ecj-4.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ehcache-core-2.6.7.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/el-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ezmorph-1.0.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/groovy-all-1.8.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/gson-2.2.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/guava-12.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/guice-2.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-auth-2.2.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-common-2.2.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-client-0.98.3-hadoop2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-common-0.98.3-hadoop2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-protocol-0.98.3-hadoop2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate-jpa-2.0-api-1.0.0.Final.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/htrace-core-2.04.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-4.3.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-cache-4.3.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpcore-4.3.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/iText-2.1.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/iTextAsian.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-annotations-2.7.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-2.7.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-asl-1.4.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-databind-2.7.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-mapper-asl-1.4.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper-el.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-5.0.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-applet-5.0.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-fonts-5.0.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/javassist-3.9.0.GA.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/javax.ws.rs.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcip-annotations-1.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcommon-1.0.13.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jedis-2.6.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jfreechart-1.0.10.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/json-lib-2.2.3.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsp-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsr311-api-1.1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jta-1.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jtransforms-2.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/junit-4.8.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/jxl.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j-over-slf4j-1.7.2.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-classic-1.0.13.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-core-1.0.13.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mail.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mina-core-2.0.4.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-3.0.5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-ehcache-1.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-spring-1.0.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/mysql-connector-java-5.1.17-bin.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/nekohtml-1.9.20.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/netty-3.6.6.Final.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/ojdbc5.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/openid4java-nodeps-0.9.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/poi-3.9-20121203.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/protobuf-java-2.5.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/quartz-2.2.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/servlet-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/slf4j-api-1.6.6.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aop-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-asm-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aspects-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-support-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-tomcat-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jdbc-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jms-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-ldap-core-2.0.2.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-messaging-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-orm-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-oxm-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-acl-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-aspects-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-cas-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-config-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-core-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-ldap-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-openid-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-taglibs-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-web-4.1.0.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-test-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-tx-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-3.2.0.M1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-portlet-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-websocket-4.3.1.RELEASE.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-coyote.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-dbcp.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-es.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-fr.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-ja.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jdbc.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jni.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-spdy.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util-scan.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-websocket.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/websocket-api.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/xercesImpl-2.10.0.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/xml-apis-1.4.01.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/xstream-1.4.1.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/zmq.jar\"/>\n        <pathelement location=\"../../../Softwares/Apache/apache-tomcat-gx/lib/zookeeper-3.4.6.jar\"/>\n    </path>\n    <path id=\"gx-desk.classpath\">\n        <pathelement location=\"build/classes\"/>\n        <path refid=\"Web App Libraries.libraryclasspath\"/>\n        <path refid=\"EAR Libraries.libraryclasspath\"/>\n        <path refid=\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\"/>\n    </path>\n    <target name=\"init\">\n        <mkdir dir=\"build/classes\"/>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/main/java\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/main/resources\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/test/java\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n        <copy includeemptydirs=\"false\" todir=\"build/classes\">\n            <fileset dir=\"src/test/resources\">\n                <exclude name=\"**/*.java\"/>\n            </fileset>\n        </copy>\n    </target>\n    <target name=\"clean\">\n        <delete dir=\"build/classes\"/>\n    </target>\n    <target depends=\"clean\" name=\"cleanall\"/>\n    <target depends=\"build-subprojects,build-project\" name=\"build\"/>\n    <target name=\"build-subprojects\"/>\n    <target depends=\"init\" name=\"build-project\">\n        <echo message=\"${ant.project.name}: ${ant.file}\"/>\n        <javac encoding=\"UTF-8\" debug=\"true\" debuglevel=\"${debuglevel}\" destdir=\"build/classes\" includeantruntime=\"false\" source=\"${source}\" target=\"${target}\">\n            <src path=\"src/main/java\"/>\n            <src path=\"src/main/resources\"/>\n            <src path=\"src/test/java\"/>\n            <src path=\"src/test/resources\"/>\n            <classpath refid=\"gx-desk.classpath\"/>\n        </javac>\n    </target>\n    <target description=\"Build all projects which reference this project. Useful to propagate changes.\" name=\"build-refprojects\"/>\n    <target description=\"copy Eclipse compiler jars to ant lib directory\" name=\"init-eclipse-compiler\">\n        <copy todir=\"${ant.library.dir}\">\n            <fileset dir=\"${ECLIPSE_HOME}/plugins\" includes=\"org.eclipse.jdt.core_*.jar\"/>\n        </copy>\n        <unzip dest=\"${ant.library.dir}\">\n            <patternset includes=\"jdtCompilerAdapter.jar\"/>\n            <fileset dir=\"${ECLIPSE_HOME}/plugins\" includes=\"org.eclipse.jdt.core_*.jar\"/>\n        </unzip>\n    </target>\n    <target description=\"compile project with Eclipse compiler\" name=\"build-eclipse-compiler\">\n        <property name=\"build.compiler\" value=\"org.eclipse.jdt.core.JDTCompilerAdapter\"/>\n        <antcall target=\"build\"/>\n    </target>\n    <target name=\"war\">\n        <war destfile = \"releases/gx-desk.war\" webxml = \"WebContent/WEB-INF/web.xml\">\n           <fileset dir = \"WebContent\">\n              <include name = \"**/*\"/>\n           </fileset>\n           <classes dir=\"build/classes\"/>\n           <webinf dir=\"WebContent/WEB-INF/lib\"/>\n        </war>\n    </target>\n</project>\n```\n","slug":"ant-war-task","published":1,"updated":"2020-04-12T03:36:56.364Z","_id":"ck8wh7lbb001l4supte5g7gr5","photos":[],"link":"","content":"<p>eclipse webMavenWARIDEantWAR</p>\n<a id=\"more\"></a>\n<ul>\n<li><a href=\"http://ant.apache.org/bindownload.cgi\" target=\"_blank\" rel=\"noopener\">ant</a></li>\n<li><p>IDEeclipseantbuild.xmlbuild.xml<code>&lt;javac</code><code>encoding=&quot;UTF-8&quot;</code><code>target</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;target name=&quot;war&quot;&gt;</span><br><span class=\"line\">    &lt;war destfile = &quot;releases/gx-desk.war&quot; webxml = &quot;WebContent/WEB-INF/web.xml&quot;&gt;</span><br><span class=\"line\">       &lt;fileset dir = &quot;WebContent&quot;&gt;</span><br><span class=\"line\">          &lt;include name = &quot;**/*&quot;/&gt;</span><br><span class=\"line\">       &lt;/fileset&gt;</span><br><span class=\"line\">       &lt;classes dir=&quot;build/classes&quot;/&gt;</span><br><span class=\"line\">       &lt;webinf dir=&quot;WebContent/WEB-INF/lib&quot;/&gt;</span><br><span class=\"line\">    &lt;/war&gt;</span><br><span class=\"line\">&lt;/target&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bash</p>\n</li>\n</ul>\n<hr>\n<p>1bash</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## dependency : sencha cmd</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 1. export build.xml, setup javac and war</span></span><br><span class=\"line\"><span class=\"comment\">## 2. download ant</span></span><br><span class=\"line\"><span class=\"comment\">## 3. add ant/bin to $PATH</span></span><br><span class=\"line\"><span class=\"comment\">## 4. setup ANT_HOME</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /d/SVN/Workspace/gx-desk/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ -d <span class=\"string\">\"WebContent2\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: WebContent2 exists, please check !\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> WebContent/</span><br><span class=\"line\"></span><br><span class=\"line\">sencha app build</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ $? -ne 0 ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: sencha build error !\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"comment\"># frontend</span></span><br><span class=\"line\">    <span class=\"built_in\">cd</span> ..</span><br><span class=\"line\">    mv WebContent WebContent2 </span><br><span class=\"line\">    mkdir WebContent</span><br><span class=\"line\">    cp WebContent2/build/production/Desktop/* WebContent/ -rf</span><br><span class=\"line\">    cp WebContent2/WEB-INF WebContent/ -rf</span><br><span class=\"line\">    rm WebContent/WEB-INF/lib/* -rf</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># backend</span></span><br><span class=\"line\">    <span class=\"built_in\">cd</span> src/main/resources/</span><br><span class=\"line\">    mv config.properties config.properties.bak</span><br><span class=\"line\">    mv config.properties.hwcloud config.properties</span><br><span class=\"line\">    mv spring/applicationContext.xml spring/applicationContext.xml.bak</span><br><span class=\"line\">    mv spring/applicationContext.xml.hwcloud spring/applicationContext.xml</span><br><span class=\"line\">    <span class=\"built_in\">cd</span> -</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># ant</span></span><br><span class=\"line\">    ant clean</span><br><span class=\"line\">    ant</span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ $? -ne 0 ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: ant build error !\"</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        ant war</span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ $? -ne 0 ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: ant war error !\"</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">       scp -v -P62627 releases/gx-desk.war gx@125.94.212.178:~/</span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"comment\"># reverse</span></span><br><span class=\"line\">    rm WebContent -rf</span><br><span class=\"line\">    mv WebContent2 WebContent</span><br><span class=\"line\">    <span class=\"built_in\">cd</span> src/main/resources/</span><br><span class=\"line\">    mv config.properties config.properties.hwcloud</span><br><span class=\"line\">    mv config.properties.bak config.properties</span><br><span class=\"line\">    mv spring/applicationContext.xml spring/applicationContext.xml.hwcloud</span><br><span class=\"line\">    mv spring/applicationContext.xml.bak spring/applicationContext.xml</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>2build.xml</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- WARNING: Eclipse auto-generated file.</span></span><br><span class=\"line\"><span class=\"comment\">              Any modifications will be overwritten.</span></span><br><span class=\"line\"><span class=\"comment\">              To include a user specific buildfile here, simply create one in the same</span></span><br><span class=\"line\"><span class=\"comment\">              directory with the processing instruction &lt;?eclipse.ant.import?&gt;</span></span><br><span class=\"line\"><span class=\"comment\">              as the first entry and export the buildfile again. --&gt;</span><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">basedir</span>=<span class=\"string\">\".\"</span> <span class=\"attr\">default</span>=<span class=\"string\">\"build\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"gx-desk\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">environment</span>=<span class=\"string\">\"env\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"ECLIPSE_HOME\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"../../../Softwares/IDE/eclipse/\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"junit.output.dir\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"junit\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"debuglevel\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"source,lines,vars\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"target\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"1.8\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"source\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"1.8\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"Web App Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"EAR Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/annotations-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/antlr-2.7.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/aopalliance-1.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/asm-all-3.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspectjweaver-1.8.9.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspose-cells-7.7.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/bcprov-jdk16-146.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/c3p0-0.9.1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/cas-client-core-3.4.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ant.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ha.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-storeconfig.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-tribes.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/cglib-2.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/com.springsource.org.codehaus.jackson-1.4.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-beanutils.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.7.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-collections-3.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-configuration-1.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-dbcp.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-digester-2.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-fileupload-1.2.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-io-2.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-math3-3.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-pool.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/dom4j-1.6.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ecj-4.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ehcache-core-2.6.7.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/el-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ezmorph-1.0.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/groovy-all-1.8.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/gson-2.2.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/guava-12.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/guice-2.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-auth-2.2.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-common-2.2.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-client-0.98.3-hadoop2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-common-0.98.3-hadoop2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-protocol-0.98.3-hadoop2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate-jpa-2.0-api-1.0.0.Final.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/htrace-core-2.04.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-4.3.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-cache-4.3.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpcore-4.3.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/iText-2.1.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/iTextAsian.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-annotations-2.7.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-2.7.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-asl-1.4.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-databind-2.7.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-mapper-asl-1.4.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper-el.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-5.0.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-applet-5.0.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-fonts-5.0.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/javassist-3.9.0.GA.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/javax.ws.rs.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcip-annotations-1.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcommon-1.0.13.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jedis-2.6.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jfreechart-1.0.10.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/json-lib-2.2.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsp-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsr311-api-1.1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jta-1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jtransforms-2.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/junit-4.8.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jxl.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j-over-slf4j-1.7.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-classic-1.0.13.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-core-1.0.13.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mail.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mina-core-2.0.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-3.0.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-ehcache-1.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-spring-1.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mysql-connector-java-5.1.17-bin.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/nekohtml-1.9.20.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/netty-3.6.6.Final.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ojdbc5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/openid4java-nodeps-0.9.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/poi-3.9-20121203.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/protobuf-java-2.5.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/quartz-2.2.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/servlet-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/slf4j-api-1.6.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aop-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-asm-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aspects-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-support-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-tomcat-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jdbc-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jms-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-ldap-core-2.0.2.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-messaging-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-orm-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-oxm-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-acl-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-aspects-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-cas-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-config-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-core-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-ldap-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-openid-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-taglibs-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-web-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-test-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-tx-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-portlet-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-websocket-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-coyote.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-dbcp.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-es.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-fr.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-ja.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jdbc.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jni.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-spdy.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util-scan.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-websocket.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/websocket-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/xercesImpl-2.10.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/xml-apis-1.4.01.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/xstream-1.4.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/zmq.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/zookeeper-3.4.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"gx-desk.classpath\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"Web App Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"EAR Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"init\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">mkdir</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/main/java\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/main/resources\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/test/java\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/test/resources\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"clean\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">delete</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">depends</span>=<span class=\"string\">\"clean\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"cleanall\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">depends</span>=<span class=\"string\">\"build-subprojects,build-project\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-subprojects\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">depends</span>=<span class=\"string\">\"init\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-project\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">echo</span> <span class=\"attr\">message</span>=<span class=\"string\">\"$&#123;ant.project.name&#125;: $&#123;ant.file&#125;\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">javac</span> <span class=\"attr\">encoding</span>=<span class=\"string\">\"UTF-8\"</span> <span class=\"attr\">debug</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">debuglevel</span>=<span class=\"string\">\"$&#123;debuglevel&#125;\"</span> <span class=\"attr\">destdir</span>=<span class=\"string\">\"build/classes\"</span> <span class=\"attr\">includeantruntime</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">source</span>=<span class=\"string\">\"$&#123;source&#125;\"</span> <span class=\"attr\">target</span>=<span class=\"string\">\"$&#123;target&#125;\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/main/java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/main/resources\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/test/java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/test/resources\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">classpath</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"gx-desk.classpath\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">javac</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">description</span>=<span class=\"string\">\"Build all projects which reference this project. Useful to propagate changes.\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-refprojects\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">description</span>=<span class=\"string\">\"copy Eclipse compiler jars to ant lib directory\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"init-eclipse-compiler\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"$&#123;ant.library.dir&#125;\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"$&#123;ECLIPSE_HOME&#125;/plugins\"</span> <span class=\"attr\">includes</span>=<span class=\"string\">\"org.eclipse.jdt.core_*.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">unzip</span> <span class=\"attr\">dest</span>=<span class=\"string\">\"$&#123;ant.library.dir&#125;\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">patternset</span> <span class=\"attr\">includes</span>=<span class=\"string\">\"jdtCompilerAdapter.jar\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"$&#123;ECLIPSE_HOME&#125;/plugins\"</span> <span class=\"attr\">includes</span>=<span class=\"string\">\"org.eclipse.jdt.core_*.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">unzip</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">description</span>=<span class=\"string\">\"compile project with Eclipse compiler\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-eclipse-compiler\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build.compiler\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"org.eclipse.jdt.core.JDTCompilerAdapter\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">antcall</span> <span class=\"attr\">target</span>=<span class=\"string\">\"build\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"war\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">war</span> <span class=\"attr\">destfile</span> = <span class=\"string\">\"releases/gx-desk.war\"</span> <span class=\"attr\">webxml</span> = <span class=\"string\">\"WebContent/WEB-INF/web.xml\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span> = <span class=\"string\">\"WebContent\"</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">name</span> = <span class=\"string\">\"**/*\"</span>/&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">classes</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">webinf</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"WebContent/WEB-INF/lib\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">war</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>eclipse webMavenWARIDEantWAR</p>","more":"<ul>\n<li><a href=\"http://ant.apache.org/bindownload.cgi\" target=\"_blank\" rel=\"noopener\">ant</a></li>\n<li><p>IDEeclipseantbuild.xmlbuild.xml<code>&lt;javac</code><code>encoding=&quot;UTF-8&quot;</code><code>target</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;target name=&quot;war&quot;&gt;</span><br><span class=\"line\">    &lt;war destfile = &quot;releases/gx-desk.war&quot; webxml = &quot;WebContent/WEB-INF/web.xml&quot;&gt;</span><br><span class=\"line\">       &lt;fileset dir = &quot;WebContent&quot;&gt;</span><br><span class=\"line\">          &lt;include name = &quot;**/*&quot;/&gt;</span><br><span class=\"line\">       &lt;/fileset&gt;</span><br><span class=\"line\">       &lt;classes dir=&quot;build/classes&quot;/&gt;</span><br><span class=\"line\">       &lt;webinf dir=&quot;WebContent/WEB-INF/lib&quot;/&gt;</span><br><span class=\"line\">    &lt;/war&gt;</span><br><span class=\"line\">&lt;/target&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>bash</p>\n</li>\n</ul>\n<hr>\n<p>1bash</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## dependency : sencha cmd</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 1. export build.xml, setup javac and war</span></span><br><span class=\"line\"><span class=\"comment\">## 2. download ant</span></span><br><span class=\"line\"><span class=\"comment\">## 3. add ant/bin to $PATH</span></span><br><span class=\"line\"><span class=\"comment\">## 4. setup ANT_HOME</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /d/SVN/Workspace/gx-desk/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ -d <span class=\"string\">\"WebContent2\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: WebContent2 exists, please check !\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> WebContent/</span><br><span class=\"line\"></span><br><span class=\"line\">sencha app build</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ $? -ne 0 ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: sencha build error !\"</span></span><br><span class=\"line\">    <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"comment\"># frontend</span></span><br><span class=\"line\">    <span class=\"built_in\">cd</span> ..</span><br><span class=\"line\">    mv WebContent WebContent2 </span><br><span class=\"line\">    mkdir WebContent</span><br><span class=\"line\">    cp WebContent2/build/production/Desktop/* WebContent/ -rf</span><br><span class=\"line\">    cp WebContent2/WEB-INF WebContent/ -rf</span><br><span class=\"line\">    rm WebContent/WEB-INF/lib/* -rf</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># backend</span></span><br><span class=\"line\">    <span class=\"built_in\">cd</span> src/main/resources/</span><br><span class=\"line\">    mv config.properties config.properties.bak</span><br><span class=\"line\">    mv config.properties.hwcloud config.properties</span><br><span class=\"line\">    mv spring/applicationContext.xml spring/applicationContext.xml.bak</span><br><span class=\"line\">    mv spring/applicationContext.xml.hwcloud spring/applicationContext.xml</span><br><span class=\"line\">    <span class=\"built_in\">cd</span> -</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># ant</span></span><br><span class=\"line\">    ant clean</span><br><span class=\"line\">    ant</span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ $? -ne 0 ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: ant build error !\"</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        ant war</span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ $? -ne 0 ] ; <span class=\"keyword\">then</span></span><br><span class=\"line\">        <span class=\"built_in\">echo</span> <span class=\"string\">\"ERROR: ant war error !\"</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">       scp -v -P62627 releases/gx-desk.war gx@125.94.212.178:~/</span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"comment\"># reverse</span></span><br><span class=\"line\">    rm WebContent -rf</span><br><span class=\"line\">    mv WebContent2 WebContent</span><br><span class=\"line\">    <span class=\"built_in\">cd</span> src/main/resources/</span><br><span class=\"line\">    mv config.properties config.properties.hwcloud</span><br><span class=\"line\">    mv config.properties.bak config.properties</span><br><span class=\"line\">    mv spring/applicationContext.xml spring/applicationContext.xml.hwcloud</span><br><span class=\"line\">    mv spring/applicationContext.xml.bak spring/applicationContext.xml</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">exit</span> 0</span><br></pre></td></tr></table></figure>\n<p>2build.xml</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;</span><br><span class=\"line\"><span class=\"comment\">&lt;!-- WARNING: Eclipse auto-generated file.</span></span><br><span class=\"line\"><span class=\"comment\">              Any modifications will be overwritten.</span></span><br><span class=\"line\"><span class=\"comment\">              To include a user specific buildfile here, simply create one in the same</span></span><br><span class=\"line\"><span class=\"comment\">              directory with the processing instruction &lt;?eclipse.ant.import?&gt;</span></span><br><span class=\"line\"><span class=\"comment\">              as the first entry and export the buildfile again. --&gt;</span><span class=\"tag\">&lt;<span class=\"name\">project</span> <span class=\"attr\">basedir</span>=<span class=\"string\">\".\"</span> <span class=\"attr\">default</span>=<span class=\"string\">\"build\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"gx-desk\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">environment</span>=<span class=\"string\">\"env\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"ECLIPSE_HOME\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"../../../Softwares/IDE/eclipse/\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"junit.output.dir\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"junit\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"debuglevel\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"source,lines,vars\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"target\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"1.8\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"source\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"1.8\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"Web App Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"EAR Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/annotations-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/antlr-2.7.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/aopalliance-1.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/asm-all-3.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspectjweaver-1.8.9.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/aspose-cells-7.7.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/bcprov-jdk16-146.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/c3p0-0.9.1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/cas-client-core-3.4.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ant.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-ha.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-storeconfig.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina-tribes.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/catalina.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/cglib-2.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/com.springsource.org.codehaus.jackson-1.4.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-beanutils.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-codec-1.7.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-collections-3.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-configuration-1.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-dbcp.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-digester-2.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-fileupload-1.2.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-io-2.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-lang-2.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-logging-1.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-math3-3.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/commons-pool.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/dom4j-1.6.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ecj-4.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ehcache-core-2.6.7.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/el-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ezmorph-1.0.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/groovy-all-1.8.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/gson-2.2.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/guava-12.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/guice-2.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-auth-2.2.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hadoop-common-2.2.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-client-0.98.3-hadoop2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-common-0.98.3-hadoop2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hbase-protocol-0.98.3-hadoop2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate-jpa-2.0-api-1.0.0.Final.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/hibernate3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/htrace-core-2.04.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-4.3.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpclient-cache-4.3.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/httpcore-4.3.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/iText-2.1.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/iTextAsian.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-annotations-2.7.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-2.7.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-core-asl-1.4.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-databind-2.7.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jackson-mapper-asl-1.4.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper-el.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasper.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-5.0.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-applet-5.0.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jasperreports-fonts-5.0.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/javassist-3.9.0.GA.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/javax.ws.rs.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcip-annotations-1.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jcommon-1.0.13.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jedis-2.6.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jfreechart-1.0.10.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/json-lib-2.2.3.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsp-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jsr311-api-1.1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jta-1.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jtransforms-2.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/junit-4.8.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/jxl.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j-over-slf4j-1.7.2.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/log4j.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-classic-1.0.13.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/logback-core-1.0.13.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mail.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mina-core-2.0.4.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-3.0.5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-ehcache-1.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mybatis-spring-1.0.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/mysql-connector-java-5.1.17-bin.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/nekohtml-1.9.20.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/netty-3.6.6.Final.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/ojdbc5.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/openid4java-nodeps-0.9.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/poi-3.9-20121203.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/protobuf-java-2.5.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/quartz-2.2.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/servlet-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/slf4j-api-1.6.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aop-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-asm-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-aspects-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-beans-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-context-support-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-core-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-expression-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-instrument-tomcat-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jdbc-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-jms-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-ldap-core-2.0.2.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-messaging-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-orm-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-oxm-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-acl-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-aspects-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-cas-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-config-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-core-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-ldap-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-openid-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-taglibs-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-security-web-4.1.0.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-test-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-tx-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-web-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-3.2.0.M1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-webmvc-portlet-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/spring-websocket-4.3.1.RELEASE.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-coyote.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-dbcp.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-es.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-fr.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-i18n-ja.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jdbc.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-jni.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-spdy.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util-scan.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-util.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/tomcat-websocket.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/websocket-api.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/xercesImpl-2.10.0.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/xml-apis-1.4.01.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/xstream-1.4.1.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/zmq.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"../../../Softwares/Apache/apache-tomcat-gx/lib/zookeeper-3.4.6.jar\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">id</span>=<span class=\"string\">\"gx-desk.classpath\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">pathelement</span> <span class=\"attr\">location</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"Web App Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"EAR Libraries.libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"Apache Tomcat v8.0 [Apache Tomcat v8.0 GX].libraryclasspath\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"init\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">mkdir</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/main/java\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/main/resources\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/test/java\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">includeemptydirs</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"build/classes\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"src/test/resources\"</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">exclude</span> <span class=\"attr\">name</span>=<span class=\"string\">\"**/*.java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"clean\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">delete</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">depends</span>=<span class=\"string\">\"clean\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"cleanall\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">depends</span>=<span class=\"string\">\"build-subprojects,build-project\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-subprojects\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">depends</span>=<span class=\"string\">\"init\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-project\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">echo</span> <span class=\"attr\">message</span>=<span class=\"string\">\"$&#123;ant.project.name&#125;: $&#123;ant.file&#125;\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">javac</span> <span class=\"attr\">encoding</span>=<span class=\"string\">\"UTF-8\"</span> <span class=\"attr\">debug</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">debuglevel</span>=<span class=\"string\">\"$&#123;debuglevel&#125;\"</span> <span class=\"attr\">destdir</span>=<span class=\"string\">\"build/classes\"</span> <span class=\"attr\">includeantruntime</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">source</span>=<span class=\"string\">\"$&#123;source&#125;\"</span> <span class=\"attr\">target</span>=<span class=\"string\">\"$&#123;target&#125;\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/main/java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/main/resources\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/test/java\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">src</span> <span class=\"attr\">path</span>=<span class=\"string\">\"src/test/resources\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">classpath</span> <span class=\"attr\">refid</span>=<span class=\"string\">\"gx-desk.classpath\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">javac</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">description</span>=<span class=\"string\">\"Build all projects which reference this project. Useful to propagate changes.\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-refprojects\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">description</span>=<span class=\"string\">\"copy Eclipse compiler jars to ant lib directory\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"init-eclipse-compiler\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">copy</span> <span class=\"attr\">todir</span>=<span class=\"string\">\"$&#123;ant.library.dir&#125;\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"$&#123;ECLIPSE_HOME&#125;/plugins\"</span> <span class=\"attr\">includes</span>=<span class=\"string\">\"org.eclipse.jdt.core_*.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">copy</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">unzip</span> <span class=\"attr\">dest</span>=<span class=\"string\">\"$&#123;ant.library.dir&#125;\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">patternset</span> <span class=\"attr\">includes</span>=<span class=\"string\">\"jdtCompilerAdapter.jar\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"$&#123;ECLIPSE_HOME&#125;/plugins\"</span> <span class=\"attr\">includes</span>=<span class=\"string\">\"org.eclipse.jdt.core_*.jar\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">unzip</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">description</span>=<span class=\"string\">\"compile project with Eclipse compiler\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build-eclipse-compiler\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">\"build.compiler\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"org.eclipse.jdt.core.JDTCompilerAdapter\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">antcall</span> <span class=\"attr\">target</span>=<span class=\"string\">\"build\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">target</span> <span class=\"attr\">name</span>=<span class=\"string\">\"war\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">war</span> <span class=\"attr\">destfile</span> = <span class=\"string\">\"releases/gx-desk.war\"</span> <span class=\"attr\">webxml</span> = <span class=\"string\">\"WebContent/WEB-INF/web.xml\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">fileset</span> <span class=\"attr\">dir</span> = <span class=\"string\">\"WebContent\"</span>&gt;</span></span><br><span class=\"line\">              <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">name</span> = <span class=\"string\">\"**/*\"</span>/&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">fileset</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">classes</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"build/classes\"</span>/&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">webinf</span> <span class=\"attr\">dir</span>=<span class=\"string\">\"WebContent/WEB-INF/lib\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">war</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">target</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">project</span>&gt;</span></span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"C/C++const","date":"2016-08-02T01:04:00.000Z","comments":1,"_content":"\nC/C++const\n\n<!--more-->\n\n## const variable\n\nconstvariable****readonlyCC++\n\n```c\nint main() {\n    const int a = 0; // int const a = 0;\n    a = 1; // errorareadonly\n    return 0;\n}\n```\n\nvariableconst pointerconst pointer**dereference***\n\n```c\nint main() {\n    typedef int * int_ptr;\n    int a = 0, b = 1;\n    const int_ptr ip = &a; // int_ptr const ip = &a;\n    ip = &b; // erroripreadonly\n    *ip = 2; // dereference\n    return 0;\n}\n```\n\ntypedefconst pointer\n\n```c\nint a = 0;\nint * const ptr = &a;\nint const * ptr = &a; // errorconst int\nconst int * ptr = &a; // errorconst int\n```\n\nconst variable\n\n1. \n2. const variable\n3. consttypetypedef\n\n## pointer to const variable\n\nconst variable****readonly****CC++\n\n```c\nint main() {\n    typedef int * const int_cst_ptr; // const pointer\n    typedef int const int_cst; // const int\n    int a = 0;\n    int *b = &a;\n    int_cst_ptr *ptr1 = &b;\n    int_cst *ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // \n    ptr2 = NULL;\n}\n```\n\ntypedef\n\n```c\nint main() {\n    int a = 0;\n    int *b = &a;\n    int * const *ptr1 = &b; // ptr1 is a pointer to const pointer to int\n    int const *ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // \n    ptr2 = NULL;\n}\n```\n\npointer to const variable\n\n1. \n2. \n\n\n\n```c\n#include <stdio.h>\n#include <string.h>\n\nint main(int argc,char *argv[]) {\n    int i = 0;\n    for(; i<argc; i++) {\n        printf(\"argv[%d] : %s\\n\", i, argv[i]);\n        argv[i] = \"a\";\n    }\n    // char *const argv2[] = argv;\n    char *const argv3[] = {\"a\", \"b\"};\n    // argv3[0] = \"test\";\n    char *const argv4[2];\n    char *str = argv4[0];\n    printf(\"str: %s\\n\", str);\n    printf(\"strlen(str): %d\\n\", strlen(str));\n    *str = 'a';\n    *(str+1) = '\\0';\n    printf(\"str: %s\\n\", str);\n    return 0;\n}\n```\n\nx86Linux\n\n```\nargv[0] : ./a.out\nstr: ,\nstrlen(str): 4\nstr: a\n```\n\nx64Linux\n\n```\nargv[0] : ./a.out\nstr: AWAAVIAUIATL%h\nstrlen(str): 23\n\n```\n\n\n\n1. `char *const argv2[] = argv;`\n2. `char *const argv3[] = {\"a\", \"b\"};`argv3argv32char * constconst pointer to charargv3[0]\n3. \n\n## const pointer to const variable\n\nconst pointerconst variable********CC++\n\n```c\nint main() {\n    typedef int * const int_cst_ptr; // const pointer\n    typedef int const int_cst; // const int\n    int a = 0;\n    int *b = &a;\n    int_cst_ptr * const ptr1 = &b;\n    int_cst * const ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // errorconst pointer\n    ptr2 = NULL; // errorconst pointer\n}\n```\n\ntypedef\n\n```c\nint main() {\n    int a = 0;\n    int *b = &a;\n    int * const * const ptr1 = &b; // \n    int const * const ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // errorconst pointer\n    ptr2 = NULL; // errorconst pointer\n}\n```\n\nconst pointer to const variable\n\n1. \n2. \n\n## linkage\n\n\n\nlinkage.h\n\n```c\nextern const int counter;\nvoid print_counter();\n```\n\nclinkage.c\n\n```c\n#include \"stdio.h\"\n#include \"linkage.h\"\n\nvoid print_counter() {\n    printf(\"counter: %d\\n\", counter);\n}\n```\n\ncmain.c\n\n```c\n#include \"linkage.h\"\n\nconst int counter = 12;\n\nint main(int argc,char *argv[]) {\n    print_counter();\n    return 0;\n}\n```\n\n\n\n```\ngcc -c linkage.cpp -o linkage.o\ngcc -c main.cpp -o main.o\ngcc linkage.o main.o -o main\n./main\n```\n\n12\n\nlinkage.clinkage.cppmain.cmain.cpp\n\n```\ng++ -c linkage.cpp -o linkage.o\ng++ -c main.cpp -o main.o\ng++ linkage.o main.o -o main\n./main\n```\n\n0\n\nC\n\n1. `extern const int counter;`\n2. C`const int counter = 12;`\n3. Cinclude1\n\nCconstconstC++ Primer**external linkage**\nC++constlocal to file`const int counter = 12;`C++const intC++ Primer**internal linkage**\n\nC++const2`extern const int counter = 12;`\n\n## top-level constlow-level const\n\nC++const variable**top-level const**pointer to const variable**low-level const**\n\n1. const variablevariablepointer to const variabletop-level constconst\n2. pointer to const variablevariableconst variablelow-level constconst\n\nmain.cpp\n\n```c\nint main() {\n    const int a = 0;\n    int b = a; // const int --> int, top to normal\n    const int c = b; // int --> const int, normal to top\n    int * const ptr = &a; // const int * --> int * const, low to top\n    int * ptr2 = &a; // const int * --> int *, low to normal\n    int * ptr3 = ptr; // int * const --> int *, top to normal\n    const int * ptr4 = ptr; // int * const --> const int *, top to low\n    return 0;\n}\n```\n\n`g++ main.c`\n\n```\nmain.cpp: In function int main():\nmain.cpp:5:24: error: invalid conversion from const int* to int* [-fpermissive]\n     int * const ptr = &a; // const int * --> int * const, low to top\n                        ^\nmain.cpp:6:19: error: invalid conversion from const int* to int* [-fpermissive]\n     int * ptr2 = &a; // const int * --> int *, low to normal\n                   ^\n```\n\nC++low-level constconst\n\nmain.c`gcc main.c`\n\n```\nmain.c: In function main:\nmain.c:4:23: warning: initialization discards const qualifier from pointer target type [enabled by default]\n     int * const ptr = &a; // const int * --> int * const, low to top\n                       ^\nmain.c:5:18: warning: initialization discards const qualifier from pointer target type [enabled by default]\n     int * ptr2 = &a; // const int * --> int *, low to normal\n                  ^\n```\n\nCtop-level constlow-level constlow-level constwarningwarning\n","source":"_posts/2016-08-02-summary-of-const.markdown","raw":"---\nlayout: post\ntitle: C/C++const\ndate: '2016-08-02 09:04'\ncomments: true\ncategories: [''] \ntags: ['C/C++']\n---\n\nC/C++const\n\n<!--more-->\n\n## const variable\n\nconstvariable****readonlyCC++\n\n```c\nint main() {\n    const int a = 0; // int const a = 0;\n    a = 1; // errorareadonly\n    return 0;\n}\n```\n\nvariableconst pointerconst pointer**dereference***\n\n```c\nint main() {\n    typedef int * int_ptr;\n    int a = 0, b = 1;\n    const int_ptr ip = &a; // int_ptr const ip = &a;\n    ip = &b; // erroripreadonly\n    *ip = 2; // dereference\n    return 0;\n}\n```\n\ntypedefconst pointer\n\n```c\nint a = 0;\nint * const ptr = &a;\nint const * ptr = &a; // errorconst int\nconst int * ptr = &a; // errorconst int\n```\n\nconst variable\n\n1. \n2. const variable\n3. consttypetypedef\n\n## pointer to const variable\n\nconst variable****readonly****CC++\n\n```c\nint main() {\n    typedef int * const int_cst_ptr; // const pointer\n    typedef int const int_cst; // const int\n    int a = 0;\n    int *b = &a;\n    int_cst_ptr *ptr1 = &b;\n    int_cst *ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // \n    ptr2 = NULL;\n}\n```\n\ntypedef\n\n```c\nint main() {\n    int a = 0;\n    int *b = &a;\n    int * const *ptr1 = &b; // ptr1 is a pointer to const pointer to int\n    int const *ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // \n    ptr2 = NULL;\n}\n```\n\npointer to const variable\n\n1. \n2. \n\n\n\n```c\n#include <stdio.h>\n#include <string.h>\n\nint main(int argc,char *argv[]) {\n    int i = 0;\n    for(; i<argc; i++) {\n        printf(\"argv[%d] : %s\\n\", i, argv[i]);\n        argv[i] = \"a\";\n    }\n    // char *const argv2[] = argv;\n    char *const argv3[] = {\"a\", \"b\"};\n    // argv3[0] = \"test\";\n    char *const argv4[2];\n    char *str = argv4[0];\n    printf(\"str: %s\\n\", str);\n    printf(\"strlen(str): %d\\n\", strlen(str));\n    *str = 'a';\n    *(str+1) = '\\0';\n    printf(\"str: %s\\n\", str);\n    return 0;\n}\n```\n\nx86Linux\n\n```\nargv[0] : ./a.out\nstr: ,\nstrlen(str): 4\nstr: a\n```\n\nx64Linux\n\n```\nargv[0] : ./a.out\nstr: AWAAVIAUIATL%h\nstrlen(str): 23\n\n```\n\n\n\n1. `char *const argv2[] = argv;`\n2. `char *const argv3[] = {\"a\", \"b\"};`argv3argv32char * constconst pointer to charargv3[0]\n3. \n\n## const pointer to const variable\n\nconst pointerconst variable********CC++\n\n```c\nint main() {\n    typedef int * const int_cst_ptr; // const pointer\n    typedef int const int_cst; // const int\n    int a = 0;\n    int *b = &a;\n    int_cst_ptr * const ptr1 = &b;\n    int_cst * const ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // errorconst pointer\n    ptr2 = NULL; // errorconst pointer\n}\n```\n\ntypedef\n\n```c\nint main() {\n    int a = 0;\n    int *b = &a;\n    int * const * const ptr1 = &b; // \n    int const * const ptr2 = &a;\n    *ptr1 = NULL; // errorpointer to constreadonly\n    *ptr2 = 1; // errorpointer to constreadonly\n    ptr1 = NULL; // errorconst pointer\n    ptr2 = NULL; // errorconst pointer\n}\n```\n\nconst pointer to const variable\n\n1. \n2. \n\n## linkage\n\n\n\nlinkage.h\n\n```c\nextern const int counter;\nvoid print_counter();\n```\n\nclinkage.c\n\n```c\n#include \"stdio.h\"\n#include \"linkage.h\"\n\nvoid print_counter() {\n    printf(\"counter: %d\\n\", counter);\n}\n```\n\ncmain.c\n\n```c\n#include \"linkage.h\"\n\nconst int counter = 12;\n\nint main(int argc,char *argv[]) {\n    print_counter();\n    return 0;\n}\n```\n\n\n\n```\ngcc -c linkage.cpp -o linkage.o\ngcc -c main.cpp -o main.o\ngcc linkage.o main.o -o main\n./main\n```\n\n12\n\nlinkage.clinkage.cppmain.cmain.cpp\n\n```\ng++ -c linkage.cpp -o linkage.o\ng++ -c main.cpp -o main.o\ng++ linkage.o main.o -o main\n./main\n```\n\n0\n\nC\n\n1. `extern const int counter;`\n2. C`const int counter = 12;`\n3. Cinclude1\n\nCconstconstC++ Primer**external linkage**\nC++constlocal to file`const int counter = 12;`C++const intC++ Primer**internal linkage**\n\nC++const2`extern const int counter = 12;`\n\n## top-level constlow-level const\n\nC++const variable**top-level const**pointer to const variable**low-level const**\n\n1. const variablevariablepointer to const variabletop-level constconst\n2. pointer to const variablevariableconst variablelow-level constconst\n\nmain.cpp\n\n```c\nint main() {\n    const int a = 0;\n    int b = a; // const int --> int, top to normal\n    const int c = b; // int --> const int, normal to top\n    int * const ptr = &a; // const int * --> int * const, low to top\n    int * ptr2 = &a; // const int * --> int *, low to normal\n    int * ptr3 = ptr; // int * const --> int *, top to normal\n    const int * ptr4 = ptr; // int * const --> const int *, top to low\n    return 0;\n}\n```\n\n`g++ main.c`\n\n```\nmain.cpp: In function int main():\nmain.cpp:5:24: error: invalid conversion from const int* to int* [-fpermissive]\n     int * const ptr = &a; // const int * --> int * const, low to top\n                        ^\nmain.cpp:6:19: error: invalid conversion from const int* to int* [-fpermissive]\n     int * ptr2 = &a; // const int * --> int *, low to normal\n                   ^\n```\n\nC++low-level constconst\n\nmain.c`gcc main.c`\n\n```\nmain.c: In function main:\nmain.c:4:23: warning: initialization discards const qualifier from pointer target type [enabled by default]\n     int * const ptr = &a; // const int * --> int * const, low to top\n                       ^\nmain.c:5:18: warning: initialization discards const qualifier from pointer target type [enabled by default]\n     int * ptr2 = &a; // const int * --> int *, low to normal\n                  ^\n```\n\nCtop-level constlow-level constlow-level constwarningwarning\n","slug":"summary-of-const","published":1,"updated":"2020-04-12T03:42:10.548Z","_id":"ck8wh7lbe001p4supvnu98y17","photos":[],"link":"","content":"<p>C/C++const</p>\n<a id=\"more\"></a>\n<h2 id=\"const-variable\"><a href=\"#const-variable\" class=\"headerlink\" title=\"const variable\"></a>const variable</h2><p>constvariable<strong></strong>readonlyCC++</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>; <span class=\"comment\">// int const a = 0;</span></span><br><span class=\"line\">    a = <span class=\"number\">1</span>; <span class=\"comment\">// errorareadonly</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>variableconst pointerconst pointer<strong>dereference*</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> * int_ptr;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>, b = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> int_ptr ip = &amp;a; <span class=\"comment\">// int_ptr const ip = &amp;a;</span></span><br><span class=\"line\">    ip = &amp;b; <span class=\"comment\">// erroripreadonly</span></span><br><span class=\"line\">    *ip = <span class=\"number\">2</span>; <span class=\"comment\">// dereference</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>typedefconst pointer</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> ptr = &amp;a;</span><br><span class=\"line\"><span class=\"keyword\">int</span> <span class=\"keyword\">const</span> * ptr = &amp;a; <span class=\"comment\">// errorconst int</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> * ptr = &amp;a; <span class=\"comment\">// errorconst int</span></span><br></pre></td></tr></table></figure>\n<p>const variable</p>\n<ol>\n<li></li>\n<li>const variable</li>\n<li>consttypetypedef</li>\n</ol>\n<h2 id=\"pointer-to-const-variable\"><a href=\"#pointer-to-const-variable\" class=\"headerlink\" title=\"pointer to const variable\"></a>pointer to const variable</h2><p>const variable<strong></strong>readonly<strong></strong>CC++</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> int_cst_ptr; <span class=\"comment\">// const pointer</span></span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> int_cst; <span class=\"comment\">// const int</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    int_cst_ptr *ptr1 = &amp;b;</span><br><span class=\"line\">    int_cst *ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>typedef</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> *ptr1 = &amp;b; <span class=\"comment\">// ptr1 is a pointer to const pointer to int</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> *ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>pointer to const variable</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">int</span> argc,<span class=\"keyword\">char</span> *argv[])</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(; i&lt;argc; i++) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"argv[%d] : %s\\n\"</span>, i, argv[i]);</span><br><span class=\"line\">        argv[i] = <span class=\"string\">\"a\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// char *const argv2[] = argv;</span></span><br><span class=\"line\">    <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv3[] = &#123;<span class=\"string\">\"a\"</span>, <span class=\"string\">\"b\"</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// argv3[0] = \"test\";</span></span><br><span class=\"line\">    <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv4[<span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = argv4[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"str: %s\\n\"</span>, str);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"strlen(str): %d\\n\"</span>, <span class=\"built_in\">strlen</span>(str));</span><br><span class=\"line\">    *str = <span class=\"string\">'a'</span>;</span><br><span class=\"line\">    *(str+<span class=\"number\">1</span>) = <span class=\"string\">'\\0'</span>;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"str: %s\\n\"</span>, str);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>x86Linux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">argv[0] : ./a.out</span><br><span class=\"line\">str: ,</span><br><span class=\"line\">strlen(str): 4</span><br><span class=\"line\">str: a</span><br></pre></td></tr></table></figure>\n<p>x64Linux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">argv[0] : ./a.out</span><br><span class=\"line\">str: AWAAVIAUIATL%h</span><br><span class=\"line\">strlen(str): 23</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>char *const argv2[] = argv;</code></li>\n<li><code>char *const argv3[] = {&quot;a&quot;, &quot;b&quot;};</code>argv3argv32char * constconst pointer to charargv3[0]</li>\n<li></li>\n</ol>\n<h2 id=\"const-pointer-to-const-variable\"><a href=\"#const-pointer-to-const-variable\" class=\"headerlink\" title=\"const pointer to const variable\"></a>const pointer to const variable</h2><p>const pointerconst variable<strong></strong><strong></strong>CC++</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> int_cst_ptr; <span class=\"comment\">// const pointer</span></span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> int_cst; <span class=\"comment\">// const int</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    int_cst_ptr * <span class=\"keyword\">const</span> ptr1 = &amp;b;</span><br><span class=\"line\">    int_cst * <span class=\"keyword\">const</span> ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>typedef</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> * <span class=\"keyword\">const</span> ptr1 = &amp;b; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> * <span class=\"keyword\">const</span> ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>const pointer to const variable</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"linkage\"><a href=\"#linkage\" class=\"headerlink\" title=\"linkage\"></a>linkage</h2><p></p>\n<p>linkage.h</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> counter;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print_counter</span><span class=\"params\">()</span></span>;</span><br></pre></td></tr></table></figure>\n<p>clinkage.c</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdio.h\"</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"linkage.h\"</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print_counter</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"counter: %d\\n\"</span>, counter);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>cmain.c</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"linkage.h\"</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> counter = <span class=\"number\">12</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">int</span> argc,<span class=\"keyword\">char</span> *argv[])</span> </span>&#123;</span><br><span class=\"line\">    print_counter();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -c linkage.cpp -o linkage.o</span><br><span class=\"line\">gcc -c main.cpp -o main.o</span><br><span class=\"line\">gcc linkage.o main.o -o main</span><br><span class=\"line\">./main</span><br></pre></td></tr></table></figure>\n<p>12</p>\n<p>linkage.clinkage.cppmain.cmain.cpp</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++ -c linkage.cpp -o linkage.o</span><br><span class=\"line\">g++ -c main.cpp -o main.o</span><br><span class=\"line\">g++ linkage.o main.o -o main</span><br><span class=\"line\">./main</span><br></pre></td></tr></table></figure>\n<p>0</p>\n<p>C</p>\n<ol>\n<li><code>extern const int counter;</code></li>\n<li>C<code>const int counter = 12;</code></li>\n<li>Cinclude1</li>\n</ol>\n<p>CconstconstC++ Primer<strong>external linkage</strong><br>C++constlocal to file<code>const int counter = 12;</code>C++const intC++ Primer<strong>internal linkage</strong></p>\n<p>C++const2<code>extern const int counter = 12;</code></p>\n<h2 id=\"top-level-constlow-level-const\"><a href=\"#top-level-constlow-level-const\" class=\"headerlink\" title=\"top-level constlow-level const\"></a>top-level constlow-level const</h2><p>C++const variable<strong>top-level const</strong>pointer to const variable<strong>low-level const</strong></p>\n<ol>\n<li>const variablevariablepointer to const variabletop-level constconst</li>\n<li>pointer to const variablevariableconst variablelow-level constconst</li>\n</ol>\n<p>main.cpp</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> b = a; <span class=\"comment\">// const int --&gt; int, top to normal</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> c = b; <span class=\"comment\">// int --&gt; const int, normal to top</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> ptr = &amp;a; <span class=\"comment\">// const int * --&gt; int * const, low to top</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> * ptr2 = &amp;a; <span class=\"comment\">// const int * --&gt; int *, low to normal</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> * ptr3 = ptr; <span class=\"comment\">// int * const --&gt; int *, top to normal</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> * ptr4 = ptr; <span class=\"comment\">// int * const --&gt; const int *, top to low</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>g++ main.c</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.cpp: In function int main():</span><br><span class=\"line\">main.cpp:5:24: error: invalid conversion from const int* to int* [-fpermissive]</span><br><span class=\"line\">     int * const ptr = &amp;a; // const int * --&gt; int * const, low to top</span><br><span class=\"line\">                        ^</span><br><span class=\"line\">main.cpp:6:19: error: invalid conversion from const int* to int* [-fpermissive]</span><br><span class=\"line\">     int * ptr2 = &amp;a; // const int * --&gt; int *, low to normal</span><br><span class=\"line\">                   ^</span><br></pre></td></tr></table></figure>\n<p>C++low-level constconst</p>\n<p>main.c<code>gcc main.c</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.c: In function main:</span><br><span class=\"line\">main.c:4:23: warning: initialization discards const qualifier from pointer target type [enabled by default]</span><br><span class=\"line\">     int * const ptr = &amp;a; // const int * --&gt; int * const, low to top</span><br><span class=\"line\">                       ^</span><br><span class=\"line\">main.c:5:18: warning: initialization discards const qualifier from pointer target type [enabled by default]</span><br><span class=\"line\">     int * ptr2 = &amp;a; // const int * --&gt; int *, low to normal</span><br><span class=\"line\">                  ^</span><br></pre></td></tr></table></figure>\n<p>Ctop-level constlow-level constlow-level constwarningwarning</p>\n","site":{"data":{}},"excerpt":"<p>C/C++const</p>","more":"<h2 id=\"const-variable\"><a href=\"#const-variable\" class=\"headerlink\" title=\"const variable\"></a>const variable</h2><p>constvariable<strong></strong>readonlyCC++</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>; <span class=\"comment\">// int const a = 0;</span></span><br><span class=\"line\">    a = <span class=\"number\">1</span>; <span class=\"comment\">// errorareadonly</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>variableconst pointerconst pointer<strong>dereference*</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> * int_ptr;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>, b = <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> int_ptr ip = &amp;a; <span class=\"comment\">// int_ptr const ip = &amp;a;</span></span><br><span class=\"line\">    ip = &amp;b; <span class=\"comment\">// erroripreadonly</span></span><br><span class=\"line\">    *ip = <span class=\"number\">2</span>; <span class=\"comment\">// dereference</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>typedefconst pointer</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> ptr = &amp;a;</span><br><span class=\"line\"><span class=\"keyword\">int</span> <span class=\"keyword\">const</span> * ptr = &amp;a; <span class=\"comment\">// errorconst int</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> * ptr = &amp;a; <span class=\"comment\">// errorconst int</span></span><br></pre></td></tr></table></figure>\n<p>const variable</p>\n<ol>\n<li></li>\n<li>const variable</li>\n<li>consttypetypedef</li>\n</ol>\n<h2 id=\"pointer-to-const-variable\"><a href=\"#pointer-to-const-variable\" class=\"headerlink\" title=\"pointer to const variable\"></a>pointer to const variable</h2><p>const variable<strong></strong>readonly<strong></strong>CC++</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> int_cst_ptr; <span class=\"comment\">// const pointer</span></span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> int_cst; <span class=\"comment\">// const int</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    int_cst_ptr *ptr1 = &amp;b;</span><br><span class=\"line\">    int_cst *ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>typedef</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> *ptr1 = &amp;b; <span class=\"comment\">// ptr1 is a pointer to const pointer to int</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> *ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// </span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>pointer to const variable</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;string.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">int</span> argc,<span class=\"keyword\">char</span> *argv[])</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(; i&lt;argc; i++) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"argv[%d] : %s\\n\"</span>, i, argv[i]);</span><br><span class=\"line\">        argv[i] = <span class=\"string\">\"a\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// char *const argv2[] = argv;</span></span><br><span class=\"line\">    <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv3[] = &#123;<span class=\"string\">\"a\"</span>, <span class=\"string\">\"b\"</span>&#125;;</span><br><span class=\"line\">    <span class=\"comment\">// argv3[0] = \"test\";</span></span><br><span class=\"line\">    <span class=\"keyword\">char</span> *<span class=\"keyword\">const</span> argv4[<span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *str = argv4[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"str: %s\\n\"</span>, str);</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"strlen(str): %d\\n\"</span>, <span class=\"built_in\">strlen</span>(str));</span><br><span class=\"line\">    *str = <span class=\"string\">'a'</span>;</span><br><span class=\"line\">    *(str+<span class=\"number\">1</span>) = <span class=\"string\">'\\0'</span>;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"str: %s\\n\"</span>, str);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>x86Linux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">argv[0] : ./a.out</span><br><span class=\"line\">str: ,</span><br><span class=\"line\">strlen(str): 4</span><br><span class=\"line\">str: a</span><br></pre></td></tr></table></figure>\n<p>x64Linux</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">argv[0] : ./a.out</span><br><span class=\"line\">str: AWAAVIAUIATL%h</span><br><span class=\"line\">strlen(str): 23</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li><code>char *const argv2[] = argv;</code></li>\n<li><code>char *const argv3[] = {&quot;a&quot;, &quot;b&quot;};</code>argv3argv32char * constconst pointer to charargv3[0]</li>\n<li></li>\n</ol>\n<h2 id=\"const-pointer-to-const-variable\"><a href=\"#const-pointer-to-const-variable\" class=\"headerlink\" title=\"const pointer to const variable\"></a>const pointer to const variable</h2><p>const pointerconst variable<strong></strong><strong></strong>CC++</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> int_cst_ptr; <span class=\"comment\">// const pointer</span></span><br><span class=\"line\">    <span class=\"keyword\">typedef</span> <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> int_cst; <span class=\"comment\">// const int</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    int_cst_ptr * <span class=\"keyword\">const</span> ptr1 = &amp;b;</span><br><span class=\"line\">    int_cst * <span class=\"keyword\">const</span> ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>typedef</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> *b = &amp;a;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> * <span class=\"keyword\">const</span> ptr1 = &amp;b; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> <span class=\"keyword\">const</span> * <span class=\"keyword\">const</span> ptr2 = &amp;a;</span><br><span class=\"line\">    *ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    *ptr2 = <span class=\"number\">1</span>; <span class=\"comment\">// errorpointer to constreadonly</span></span><br><span class=\"line\">    ptr1 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">    ptr2 = <span class=\"literal\">NULL</span>; <span class=\"comment\">// errorconst pointer</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>const pointer to const variable</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"linkage\"><a href=\"#linkage\" class=\"headerlink\" title=\"linkage\"></a>linkage</h2><p></p>\n<p>linkage.h</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> counter;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print_counter</span><span class=\"params\">()</span></span>;</span><br></pre></td></tr></table></figure>\n<p>clinkage.c</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdio.h\"</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"linkage.h\"</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print_counter</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"counter: %d\\n\"</span>, counter);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>cmain.c</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"linkage.h\"</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"keyword\">int</span> counter = <span class=\"number\">12</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"keyword\">int</span> argc,<span class=\"keyword\">char</span> *argv[])</span> </span>&#123;</span><br><span class=\"line\">    print_counter();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -c linkage.cpp -o linkage.o</span><br><span class=\"line\">gcc -c main.cpp -o main.o</span><br><span class=\"line\">gcc linkage.o main.o -o main</span><br><span class=\"line\">./main</span><br></pre></td></tr></table></figure>\n<p>12</p>\n<p>linkage.clinkage.cppmain.cmain.cpp</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g++ -c linkage.cpp -o linkage.o</span><br><span class=\"line\">g++ -c main.cpp -o main.o</span><br><span class=\"line\">g++ linkage.o main.o -o main</span><br><span class=\"line\">./main</span><br></pre></td></tr></table></figure>\n<p>0</p>\n<p>C</p>\n<ol>\n<li><code>extern const int counter;</code></li>\n<li>C<code>const int counter = 12;</code></li>\n<li>Cinclude1</li>\n</ol>\n<p>CconstconstC++ Primer<strong>external linkage</strong><br>C++constlocal to file<code>const int counter = 12;</code>C++const intC++ Primer<strong>internal linkage</strong></p>\n<p>C++const2<code>extern const int counter = 12;</code></p>\n<h2 id=\"top-level-constlow-level-const\"><a href=\"#top-level-constlow-level-const\" class=\"headerlink\" title=\"top-level constlow-level const\"></a>top-level constlow-level const</h2><p>C++const variable<strong>top-level const</strong>pointer to const variable<strong>low-level const</strong></p>\n<ol>\n<li>const variablevariablepointer to const variabletop-level constconst</li>\n<li>pointer to const variablevariableconst variablelow-level constconst</li>\n</ol>\n<p>main.cpp</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> b = a; <span class=\"comment\">// const int --&gt; int, top to normal</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> c = b; <span class=\"comment\">// int --&gt; const int, normal to top</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> * <span class=\"keyword\">const</span> ptr = &amp;a; <span class=\"comment\">// const int * --&gt; int * const, low to top</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> * ptr2 = &amp;a; <span class=\"comment\">// const int * --&gt; int *, low to normal</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> * ptr3 = ptr; <span class=\"comment\">// int * const --&gt; int *, top to normal</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">int</span> * ptr4 = ptr; <span class=\"comment\">// int * const --&gt; const int *, top to low</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>g++ main.c</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.cpp: In function int main():</span><br><span class=\"line\">main.cpp:5:24: error: invalid conversion from const int* to int* [-fpermissive]</span><br><span class=\"line\">     int * const ptr = &amp;a; // const int * --&gt; int * const, low to top</span><br><span class=\"line\">                        ^</span><br><span class=\"line\">main.cpp:6:19: error: invalid conversion from const int* to int* [-fpermissive]</span><br><span class=\"line\">     int * ptr2 = &amp;a; // const int * --&gt; int *, low to normal</span><br><span class=\"line\">                   ^</span><br></pre></td></tr></table></figure>\n<p>C++low-level constconst</p>\n<p>main.c<code>gcc main.c</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.c: In function main:</span><br><span class=\"line\">main.c:4:23: warning: initialization discards const qualifier from pointer target type [enabled by default]</span><br><span class=\"line\">     int * const ptr = &amp;a; // const int * --&gt; int * const, low to top</span><br><span class=\"line\">                       ^</span><br><span class=\"line\">main.c:5:18: warning: initialization discards const qualifier from pointer target type [enabled by default]</span><br><span class=\"line\">     int * ptr2 = &amp;a; // const int * --&gt; int *, low to normal</span><br><span class=\"line\">                  ^</span><br></pre></td></tr></table></figure>\n<p>Ctop-level constlow-level constlow-level constwarningwarning</p>"},{"layout":"post","title":"SIGPIPE","date":"2016-08-05T12:14:00.000Z","comments":1,"_content":"\nUnixSIGPIPEwiki\n\n<!--more-->\n\nThe SIGPIPE signal is sent to a process when it attempts to write to a pipe without a process connected to the other endSIGPIPE\n\n## SIGPIPE\n\nSIGPIPERSTsend()write()SIGPIPERSTUNP1\n\n1. ****target_porttarget_portRST\n2. ****lingercloseRSTTIME_WAIT\n3. ****TCPACKRST\n\n2UNP12MSLRST\n\n## SIGPIPE\n\nRSTRSTsend()write()****\n\n2\n\n**SIGPIPE**`signal(SIGPIPE, SIG_IGN);`write()send()errno-1errnoEPIPE\n\n**SIGPIPE**[Ignore SIGPIPE without affecting other threads in a process](http://www.microhowto.info/howto/ignore_sigpipe_without_affecting_other_threads_in_a_process.html)\n","source":"_posts/2016-08-05-about-sigpipe.markdown","raw":"---\nlayout: post\ntitle: SIGPIPE\ndate: '2016-08-05 20:14'\ncomments: true\ncategories: [''] \ntags: ['C/C++', 'TCP/IP', 'Linux']\n---\n\nUnixSIGPIPEwiki\n\n<!--more-->\n\nThe SIGPIPE signal is sent to a process when it attempts to write to a pipe without a process connected to the other endSIGPIPE\n\n## SIGPIPE\n\nSIGPIPERSTsend()write()SIGPIPERSTUNP1\n\n1. ****target_porttarget_portRST\n2. ****lingercloseRSTTIME_WAIT\n3. ****TCPACKRST\n\n2UNP12MSLRST\n\n## SIGPIPE\n\nRSTRSTsend()write()****\n\n2\n\n**SIGPIPE**`signal(SIGPIPE, SIG_IGN);`write()send()errno-1errnoEPIPE\n\n**SIGPIPE**[Ignore SIGPIPE without affecting other threads in a process](http://www.microhowto.info/howto/ignore_sigpipe_without_affecting_other_threads_in_a_process.html)\n","slug":"about-sigpipe","published":1,"updated":"2020-04-12T03:37:52.274Z","_id":"ck8wh7lbf001r4supvf4ccuuz","photos":[],"link":"","content":"<p>UnixSIGPIPEwiki</p>\n<a id=\"more\"></a>\n<p>The SIGPIPE signal is sent to a process when it attempts to write to a pipe without a process connected to the other endSIGPIPE</p>\n<h2 id=\"SIGPIPE\"><a href=\"#SIGPIPE\" class=\"headerlink\" title=\"SIGPIPE\"></a>SIGPIPE</h2><p>SIGPIPERSTsend()write()SIGPIPERSTUNP1</p>\n<ol>\n<li><strong></strong>target_porttarget_portRST</li>\n<li><strong></strong>lingercloseRSTTIME_WAIT</li>\n<li><strong></strong>TCPACKRST</li>\n</ol>\n<p>2UNP12MSLRST</p>\n<h2 id=\"SIGPIPE\"><a href=\"#SIGPIPE\" class=\"headerlink\" title=\"SIGPIPE\"></a>SIGPIPE</h2><p>RSTRSTsend()write()<strong></strong></p>\n<p>2</p>\n<p><strong>SIGPIPE</strong><code>signal(SIGPIPE, SIG_IGN);</code>write()send()errno-1errnoEPIPE</p>\n<p><strong>SIGPIPE</strong><a href=\"http://www.microhowto.info/howto/ignore_sigpipe_without_affecting_other_threads_in_a_process.html\" target=\"_blank\" rel=\"noopener\">Ignore SIGPIPE without affecting other threads in a process</a></p>\n","site":{"data":{}},"excerpt":"<p>UnixSIGPIPEwiki</p>","more":"<p>The SIGPIPE signal is sent to a process when it attempts to write to a pipe without a process connected to the other endSIGPIPE</p>\n<h2 id=\"SIGPIPE\"><a href=\"#SIGPIPE\" class=\"headerlink\" title=\"SIGPIPE\"></a>SIGPIPE</h2><p>SIGPIPERSTsend()write()SIGPIPERSTUNP1</p>\n<ol>\n<li><strong></strong>target_porttarget_portRST</li>\n<li><strong></strong>lingercloseRSTTIME_WAIT</li>\n<li><strong></strong>TCPACKRST</li>\n</ol>\n<p>2UNP12MSLRST</p>\n<h2 id=\"SIGPIPE\"><a href=\"#SIGPIPE\" class=\"headerlink\" title=\"SIGPIPE\"></a>SIGPIPE</h2><p>RSTRSTsend()write()<strong></strong></p>\n<p>2</p>\n<p><strong>SIGPIPE</strong><code>signal(SIGPIPE, SIG_IGN);</code>write()send()errno-1errnoEPIPE</p>\n<p><strong>SIGPIPE</strong><a href=\"http://www.microhowto.info/howto/ignore_sigpipe_without_affecting_other_threads_in_a_process.html\" target=\"_blank\" rel=\"noopener\">Ignore SIGPIPE without affecting other threads in a process</a></p>"},{"layout":"post","title":"Multi virtual HOST of Tomcat","date":"2016-08-17T09:51:00.000Z","comments":1,"_content":"\ntomcatmulti vitual host\n\n<!--more-->\n\n## why and how does it work\n\n\n\n[gx.com](http://www.gx.com)[gx.com/product](http://gx.com/product)[gx.com/product](http://gx.com/product)[product.gx.com](http://product.gx.com)\n\nTomcat80TomcatTomcat80HTTPHTTP[gx.com](http://www.gx.com)[product.gx.com](http://product.gx.com)\n\n```\nGET / HTTP/1.1\nHost: www.gx.com\nProxy-Connection: keep-alive\nUser-Agent: Mozilla/5.0 (Windows NT 6.2) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\n```\n\nHeader[Tomcat  1 : ](http://www.ibm.com/developerworks/cn/java/j-lo-tomcat1/)\n\n## how\n\n\n\n```xml\n<Engine defaultHost=\"www.gx.com\" name=\"Catalina\">\n\n      <!--For clustering, please take a look at documentation at:\n          /docs/cluster-howto.html  (simple how to)\n          /docs/config/cluster.html (reference documentation) -->\n      <!--\n      <Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"/>\n      -->\n\n      <!-- Use the LockOutRealm to prevent attempts to guess user passwords\n           via a brute-force attack -->\n      <Realm className=\"org.apache.catalina.realm.LockOutRealm\">\n        <!-- This Realm uses the UserDatabase configured in the global JNDI\n             resources under the key \"UserDatabase\".  Any edits\n             that are performed against this UserDatabase are immediately\n             available for use by the Realm.  -->\n        <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\" resourceName=\"UserDatabase\"/>\n      </Realm>\n\n      <Host appBase=\"primaryapps\" autoDeploy=\"true\" name=\"product.gx.com\" unpackWARs=\"true\">\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" pattern=\"%h %l %u %t &quot;%r&quot; %s %b\" prefix=\"cloud_access_log\" suffix=\".txt\"/>\n      </Host>\n\n      <Host appBase=\"webapps\" autoDeploy=\"true\" name=\"www.gx.com\" unpackWARs=\"true\">\n        <Context path=\"\" docBase=\"guanxing\" debug=\"0\"/>\n        <!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=\"common\" -->\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" pattern=\"%h %l %u %t &quot;%r&quot; %s %b\" prefix=\"localhost_access_log\" suffix=\".txt\"/>\n\n      </Host>\n      ......\n</Engine>\n```\n\n- 01`defaultHost`Hostname\n- 20[product.gx.com](http://product.gx.com)Context`<tomcat_home>/<appBase>/ROOT`1`<tomcat_home>/primaryapps/ROOT`\n- 24[gx.com](http://www.gx.com)\n- 25[gx.com](http://www.gx.com)`<tomcat_home>/webapps/guanxing`\n\n------\n\n**1**\n>\nWhen autoDeploy or deployOnStartup operations are performed by a Host, the name and context path of the web application are derived from the name(s) of the file(s) that define(s) the web application. Consequently, the context path may not be defined in a META-INF/context.xml embedded in the application and there is a close relationship between the context name, context path, context version and the base file name (the name minus any .war or .xml extension) of the file.\n>\nIf no version is specified then the context name is always the same as the context path. **If the context path is the empty string them the base name will be ROOT (always in upper case) ** otherwise the base name will be the context path with the leading '/' removed and any remaining '/' characters replaced with '#'.\n>\nIf a version is specified then the context path remains unchanged and both the context name and the base name have the string '##' appended to them followed by the version identifier.\n>\nSome examples of these naming conventions are given below.\n>\nhttp://tomcat.apache.org/tomcat-7.0-doc/config/context.html\n","source":"_posts/2016-08-17-tomcat-multi-virtual-host.markdown","raw":"---\nlayout: post\ntitle: Multi virtual HOST of Tomcat\ndate: '2016-08-17 17:51'\ncomments: true\ncategories: [''] \ntags: ['Tomcat']\n---\n\ntomcatmulti vitual host\n\n<!--more-->\n\n## why and how does it work\n\n\n\n[gx.com](http://www.gx.com)[gx.com/product](http://gx.com/product)[gx.com/product](http://gx.com/product)[product.gx.com](http://product.gx.com)\n\nTomcat80TomcatTomcat80HTTPHTTP[gx.com](http://www.gx.com)[product.gx.com](http://product.gx.com)\n\n```\nGET / HTTP/1.1\nHost: www.gx.com\nProxy-Connection: keep-alive\nUser-Agent: Mozilla/5.0 (Windows NT 6.2) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\n```\n\nHeader[Tomcat  1 : ](http://www.ibm.com/developerworks/cn/java/j-lo-tomcat1/)\n\n## how\n\n\n\n```xml\n<Engine defaultHost=\"www.gx.com\" name=\"Catalina\">\n\n      <!--For clustering, please take a look at documentation at:\n          /docs/cluster-howto.html  (simple how to)\n          /docs/config/cluster.html (reference documentation) -->\n      <!--\n      <Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"/>\n      -->\n\n      <!-- Use the LockOutRealm to prevent attempts to guess user passwords\n           via a brute-force attack -->\n      <Realm className=\"org.apache.catalina.realm.LockOutRealm\">\n        <!-- This Realm uses the UserDatabase configured in the global JNDI\n             resources under the key \"UserDatabase\".  Any edits\n             that are performed against this UserDatabase are immediately\n             available for use by the Realm.  -->\n        <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\" resourceName=\"UserDatabase\"/>\n      </Realm>\n\n      <Host appBase=\"primaryapps\" autoDeploy=\"true\" name=\"product.gx.com\" unpackWARs=\"true\">\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" pattern=\"%h %l %u %t &quot;%r&quot; %s %b\" prefix=\"cloud_access_log\" suffix=\".txt\"/>\n      </Host>\n\n      <Host appBase=\"webapps\" autoDeploy=\"true\" name=\"www.gx.com\" unpackWARs=\"true\">\n        <Context path=\"\" docBase=\"guanxing\" debug=\"0\"/>\n        <!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=\"common\" -->\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" pattern=\"%h %l %u %t &quot;%r&quot; %s %b\" prefix=\"localhost_access_log\" suffix=\".txt\"/>\n\n      </Host>\n      ......\n</Engine>\n```\n\n- 01`defaultHost`Hostname\n- 20[product.gx.com](http://product.gx.com)Context`<tomcat_home>/<appBase>/ROOT`1`<tomcat_home>/primaryapps/ROOT`\n- 24[gx.com](http://www.gx.com)\n- 25[gx.com](http://www.gx.com)`<tomcat_home>/webapps/guanxing`\n\n------\n\n**1**\n>\nWhen autoDeploy or deployOnStartup operations are performed by a Host, the name and context path of the web application are derived from the name(s) of the file(s) that define(s) the web application. Consequently, the context path may not be defined in a META-INF/context.xml embedded in the application and there is a close relationship between the context name, context path, context version and the base file name (the name minus any .war or .xml extension) of the file.\n>\nIf no version is specified then the context name is always the same as the context path. **If the context path is the empty string them the base name will be ROOT (always in upper case) ** otherwise the base name will be the context path with the leading '/' removed and any remaining '/' characters replaced with '#'.\n>\nIf a version is specified then the context path remains unchanged and both the context name and the base name have the string '##' appended to them followed by the version identifier.\n>\nSome examples of these naming conventions are given below.\n>\nhttp://tomcat.apache.org/tomcat-7.0-doc/config/context.html\n","slug":"tomcat-multi-virtual-host","published":1,"updated":"2020-04-12T03:38:00.805Z","_id":"ck8wh7lbh001v4supmidp0y7j","photos":[],"link":"","content":"<p>tomcatmulti vitual host</p>\n<a id=\"more\"></a>\n<h2 id=\"why-and-how-does-it-work\"><a href=\"#why-and-how-does-it-work\" class=\"headerlink\" title=\"why and how does it work\"></a>why and how does it work</h2><p></p>\n<p><a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a><a href=\"http://gx.com/product\" target=\"_blank\" rel=\"noopener\">gx.com/product</a><a href=\"http://gx.com/product\" target=\"_blank\" rel=\"noopener\">gx.com/product</a><a href=\"http://product.gx.com\" target=\"_blank\" rel=\"noopener\">product.gx.com</a></p>\n<p>Tomcat80TomcatTomcat80HTTPHTTP<a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a><a href=\"http://product.gx.com\" target=\"_blank\" rel=\"noopener\">product.gx.com</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET / HTTP/1.1</span><br><span class=\"line\">Host: www.gx.com</span><br><span class=\"line\">Proxy-Connection: keep-alive</span><br><span class=\"line\">User-Agent: Mozilla/5.0 (Windows NT 6.2) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11</span><br><span class=\"line\">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class=\"line\">Accept-Encoding: gzip,deflate,sdch</span><br><span class=\"line\">Accept-Language: en-US,en;q=0.8</span><br></pre></td></tr></table></figure>\n<p>Header<a href=\"http://www.ibm.com/developerworks/cn/java/j-lo-tomcat1/\" target=\"_blank\" rel=\"noopener\">Tomcat  1 : </a></p>\n<h2 id=\"how\"><a href=\"#how\" class=\"headerlink\" title=\"how\"></a>how</h2><p></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Engine</span> <span class=\"attr\">defaultHost</span>=<span class=\"string\">\"www.gx.com\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"Catalina\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--For clustering, please take a look at documentation at:</span></span><br><span class=\"line\"><span class=\"comment\">          /docs/cluster-howto.html  (simple how to)</span></span><br><span class=\"line\"><span class=\"comment\">          /docs/config/cluster.html (reference documentation) --&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">      &lt;Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"/&gt;</span></span><br><span class=\"line\"><span class=\"comment\">      --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords</span></span><br><span class=\"line\"><span class=\"comment\">           via a brute-force attack --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.realm.LockOutRealm\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- This Realm uses the UserDatabase configured in the global JNDI</span></span><br><span class=\"line\"><span class=\"comment\">             resources under the key \"UserDatabase\".  Any edits</span></span><br><span class=\"line\"><span class=\"comment\">             that are performed against this UserDatabase are immediately</span></span><br><span class=\"line\"><span class=\"comment\">             available for use by the Realm.  --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.realm.UserDatabaseRealm\"</span> <span class=\"attr\">resourceName</span>=<span class=\"string\">\"UserDatabase\"</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Realm</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Host</span> <span class=\"attr\">appBase</span>=<span class=\"string\">\"primaryapps\"</span> <span class=\"attr\">autoDeploy</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"product.gx.com\"</span> <span class=\"attr\">unpackWARs</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Valve</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.valves.AccessLogValve\"</span> <span class=\"attr\">directory</span>=<span class=\"string\">\"logs\"</span> <span class=\"attr\">pattern</span>=<span class=\"string\">\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span class=\"attr\">prefix</span>=<span class=\"string\">\"cloud_access_log\"</span> <span class=\"attr\">suffix</span>=<span class=\"string\">\".txt\"</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Host</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Host</span> <span class=\"attr\">appBase</span>=<span class=\"string\">\"webapps\"</span> <span class=\"attr\">autoDeploy</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"www.gx.com\"</span> <span class=\"attr\">unpackWARs</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Context</span> <span class=\"attr\">path</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">docBase</span>=<span class=\"string\">\"guanxing\"</span> <span class=\"attr\">debug</span>=<span class=\"string\">\"0\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- Access log processes all example.</span></span><br><span class=\"line\"><span class=\"comment\">             Documentation at: /docs/config/valve.html</span></span><br><span class=\"line\"><span class=\"comment\">             <span class=\"doctag\">Note:</span> The pattern used is equivalent to using pattern=\"common\" --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Valve</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.valves.AccessLogValve\"</span> <span class=\"attr\">directory</span>=<span class=\"string\">\"logs\"</span> <span class=\"attr\">pattern</span>=<span class=\"string\">\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span class=\"attr\">prefix</span>=<span class=\"string\">\"localhost_access_log\"</span> <span class=\"attr\">suffix</span>=<span class=\"string\">\".txt\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Host</span>&gt;</span></span><br><span class=\"line\">      ......</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Engine</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>01<code>defaultHost</code>Hostname</li>\n<li>20<a href=\"http://product.gx.com\" target=\"_blank\" rel=\"noopener\">product.gx.com</a>Context<code>&lt;tomcat_home&gt;/&lt;appBase&gt;/ROOT</code>1<code>&lt;tomcat_home&gt;/primaryapps/ROOT</code></li>\n<li>24<a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a></li>\n<li>25<a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a><code>&lt;tomcat_home&gt;/webapps/guanxing</code></li>\n</ul>\n<hr>\n<p><strong>1</strong></p>\n<blockquote>\n</blockquote>\n<p>When autoDeploy or deployOnStartup operations are performed by a Host, the name and context path of the web application are derived from the name(s) of the file(s) that define(s) the web application. Consequently, the context path may not be defined in a META-INF/context.xml embedded in the application and there is a close relationship between the context name, context path, context version and the base file name (the name minus any .war or .xml extension) of the file.</p>\n<blockquote>\n</blockquote>\n<p>If no version is specified then the context name is always the same as the context path. <strong>If the context path is the empty string them the base name will be ROOT (always in upper case) </strong> otherwise the base name will be the context path with the leading / removed and any remaining / characters replaced with #.</p>\n<blockquote>\n</blockquote>\n<p>If a version is specified then the context path remains unchanged and both the context name and the base name have the string ## appended to them followed by the version identifier.</p>\n<blockquote>\n</blockquote>\n<p>Some examples of these naming conventions are given below.</p>\n<blockquote>\n</blockquote>\n<p><a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/context.html\" target=\"_blank\" rel=\"noopener\">http://tomcat.apache.org/tomcat-7.0-doc/config/context.html</a></p>\n","site":{"data":{}},"excerpt":"<p>tomcatmulti vitual host</p>","more":"<h2 id=\"why-and-how-does-it-work\"><a href=\"#why-and-how-does-it-work\" class=\"headerlink\" title=\"why and how does it work\"></a>why and how does it work</h2><p></p>\n<p><a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a><a href=\"http://gx.com/product\" target=\"_blank\" rel=\"noopener\">gx.com/product</a><a href=\"http://gx.com/product\" target=\"_blank\" rel=\"noopener\">gx.com/product</a><a href=\"http://product.gx.com\" target=\"_blank\" rel=\"noopener\">product.gx.com</a></p>\n<p>Tomcat80TomcatTomcat80HTTPHTTP<a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a><a href=\"http://product.gx.com\" target=\"_blank\" rel=\"noopener\">product.gx.com</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET / HTTP/1.1</span><br><span class=\"line\">Host: www.gx.com</span><br><span class=\"line\">Proxy-Connection: keep-alive</span><br><span class=\"line\">User-Agent: Mozilla/5.0 (Windows NT 6.2) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11</span><br><span class=\"line\">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class=\"line\">Accept-Encoding: gzip,deflate,sdch</span><br><span class=\"line\">Accept-Language: en-US,en;q=0.8</span><br></pre></td></tr></table></figure>\n<p>Header<a href=\"http://www.ibm.com/developerworks/cn/java/j-lo-tomcat1/\" target=\"_blank\" rel=\"noopener\">Tomcat  1 : </a></p>\n<h2 id=\"how\"><a href=\"#how\" class=\"headerlink\" title=\"how\"></a>how</h2><p></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Engine</span> <span class=\"attr\">defaultHost</span>=<span class=\"string\">\"www.gx.com\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"Catalina\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--For clustering, please take a look at documentation at:</span></span><br><span class=\"line\"><span class=\"comment\">          /docs/cluster-howto.html  (simple how to)</span></span><br><span class=\"line\"><span class=\"comment\">          /docs/config/cluster.html (reference documentation) --&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">      &lt;Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"/&gt;</span></span><br><span class=\"line\"><span class=\"comment\">      --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords</span></span><br><span class=\"line\"><span class=\"comment\">           via a brute-force attack --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.realm.LockOutRealm\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- This Realm uses the UserDatabase configured in the global JNDI</span></span><br><span class=\"line\"><span class=\"comment\">             resources under the key \"UserDatabase\".  Any edits</span></span><br><span class=\"line\"><span class=\"comment\">             that are performed against this UserDatabase are immediately</span></span><br><span class=\"line\"><span class=\"comment\">             available for use by the Realm.  --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.realm.UserDatabaseRealm\"</span> <span class=\"attr\">resourceName</span>=<span class=\"string\">\"UserDatabase\"</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Realm</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Host</span> <span class=\"attr\">appBase</span>=<span class=\"string\">\"primaryapps\"</span> <span class=\"attr\">autoDeploy</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"product.gx.com\"</span> <span class=\"attr\">unpackWARs</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Valve</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.valves.AccessLogValve\"</span> <span class=\"attr\">directory</span>=<span class=\"string\">\"logs\"</span> <span class=\"attr\">pattern</span>=<span class=\"string\">\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span class=\"attr\">prefix</span>=<span class=\"string\">\"cloud_access_log\"</span> <span class=\"attr\">suffix</span>=<span class=\"string\">\".txt\"</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Host</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Host</span> <span class=\"attr\">appBase</span>=<span class=\"string\">\"webapps\"</span> <span class=\"attr\">autoDeploy</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"www.gx.com\"</span> <span class=\"attr\">unpackWARs</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Context</span> <span class=\"attr\">path</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">docBase</span>=<span class=\"string\">\"guanxing\"</span> <span class=\"attr\">debug</span>=<span class=\"string\">\"0\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- Access log processes all example.</span></span><br><span class=\"line\"><span class=\"comment\">             Documentation at: /docs/config/valve.html</span></span><br><span class=\"line\"><span class=\"comment\">             <span class=\"doctag\">Note:</span> The pattern used is equivalent to using pattern=\"common\" --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Valve</span> <span class=\"attr\">className</span>=<span class=\"string\">\"org.apache.catalina.valves.AccessLogValve\"</span> <span class=\"attr\">directory</span>=<span class=\"string\">\"logs\"</span> <span class=\"attr\">pattern</span>=<span class=\"string\">\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span class=\"attr\">prefix</span>=<span class=\"string\">\"localhost_access_log\"</span> <span class=\"attr\">suffix</span>=<span class=\"string\">\".txt\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Host</span>&gt;</span></span><br><span class=\"line\">      ......</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Engine</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>01<code>defaultHost</code>Hostname</li>\n<li>20<a href=\"http://product.gx.com\" target=\"_blank\" rel=\"noopener\">product.gx.com</a>Context<code>&lt;tomcat_home&gt;/&lt;appBase&gt;/ROOT</code>1<code>&lt;tomcat_home&gt;/primaryapps/ROOT</code></li>\n<li>24<a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a></li>\n<li>25<a href=\"http://www.gx.com\" target=\"_blank\" rel=\"noopener\">gx.com</a><code>&lt;tomcat_home&gt;/webapps/guanxing</code></li>\n</ul>\n<hr>\n<p><strong>1</strong></p>\n<blockquote>\n</blockquote>\n<p>When autoDeploy or deployOnStartup operations are performed by a Host, the name and context path of the web application are derived from the name(s) of the file(s) that define(s) the web application. Consequently, the context path may not be defined in a META-INF/context.xml embedded in the application and there is a close relationship between the context name, context path, context version and the base file name (the name minus any .war or .xml extension) of the file.</p>\n<blockquote>\n</blockquote>\n<p>If no version is specified then the context name is always the same as the context path. <strong>If the context path is the empty string them the base name will be ROOT (always in upper case) </strong> otherwise the base name will be the context path with the leading / removed and any remaining / characters replaced with #.</p>\n<blockquote>\n</blockquote>\n<p>If a version is specified then the context path remains unchanged and both the context name and the base name have the string ## appended to them followed by the version identifier.</p>\n<blockquote>\n</blockquote>\n<p>Some examples of these naming conventions are given below.</p>\n<blockquote>\n</blockquote>\n<p><a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/context.html\" target=\"_blank\" rel=\"noopener\">http://tomcat.apache.org/tomcat-7.0-doc/config/context.html</a></p>"},{"title":"Beaglebone Black/bbblacki2crx8025","date":"2017-04-20T10:42:49.000Z","comments":1,"_content":"\nBeaglebone Black/bbblacki2crx8025\n\n<!--more-->\n\n## \n\n\n\n- rx8025trx8025sa\n- i2c1P9_17P9_18\n\n```bash\ngit clone https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025.git\ncd beaglebone_black_bbblack_rx8025\ngcc rtc-8025.c -o rtc-8025\n## set bbblack os time to rx8025\n./rtc-8025 set\n## get rx8025time and set to os\n./rtc-8025 get\n```\n\n## \n\n### beaglebone\n\n1. rx8025i2c1\n2. [BeagleBone Black I2C References][1]i2c1bash`echo BB-I2C1 > /sys/devices/bone_capemgr.9/slots`\n\nrx8025slave address0x32[rtc-8025.c](https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rtc-8025.c)\n\n### i2c-dev\n\ni2c-devi2crx8025i2c-dev[i2c-dev-interface][2]**Implementation details**i2ci2ci2ci2cSCLSDL\n\n### rx8025trx8025sa\n\nrx8025t[rx8025_cn](https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rx8025_cn.pdf)rx8025sa[RX8025SA](https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/RX8025SA.pdf)\n\n- **EEPROM**rx8025tEEPROMrx8025tPC10rx8025sa\n- **read**rx8025sa`read``Read method from address Fh, with no specified start address for read opreation`26`read`0x0Frx8025t\n- ****1rx8025tVLFrx8025saPON\n- ****rx8025t24rx8025sa12/24\n- ****rx8025t`write`rx8025sa\n\n### TODO\n\nrx8025t`read`\n\n## reference\n\n1. [BeagleBone Black I2C References][1]\n2. [i2c-dev-interface][2]\n\n[1]: https://datko.net/2013/11/03/bbb_i2c/\n[2]: https://www.kernel.org/doc/Documentation/i2c/dev-interface","source":"_posts/2017-04-20-rx-8025.md","raw":"---\ntitle: Beaglebone Black/bbblacki2crx8025\ndate: 2017-04-20 18:42:49\ncomments: true\ncategories: [''] \ntags: ['Beaglebone']\n---\n\nBeaglebone Black/bbblacki2crx8025\n\n<!--more-->\n\n## \n\n\n\n- rx8025trx8025sa\n- i2c1P9_17P9_18\n\n```bash\ngit clone https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025.git\ncd beaglebone_black_bbblack_rx8025\ngcc rtc-8025.c -o rtc-8025\n## set bbblack os time to rx8025\n./rtc-8025 set\n## get rx8025time and set to os\n./rtc-8025 get\n```\n\n## \n\n### beaglebone\n\n1. rx8025i2c1\n2. [BeagleBone Black I2C References][1]i2c1bash`echo BB-I2C1 > /sys/devices/bone_capemgr.9/slots`\n\nrx8025slave address0x32[rtc-8025.c](https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rtc-8025.c)\n\n### i2c-dev\n\ni2c-devi2crx8025i2c-dev[i2c-dev-interface][2]**Implementation details**i2ci2ci2ci2cSCLSDL\n\n### rx8025trx8025sa\n\nrx8025t[rx8025_cn](https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rx8025_cn.pdf)rx8025sa[RX8025SA](https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/RX8025SA.pdf)\n\n- **EEPROM**rx8025tEEPROMrx8025tPC10rx8025sa\n- **read**rx8025sa`read``Read method from address Fh, with no specified start address for read opreation`26`read`0x0Frx8025t\n- ****1rx8025tVLFrx8025saPON\n- ****rx8025t24rx8025sa12/24\n- ****rx8025t`write`rx8025sa\n\n### TODO\n\nrx8025t`read`\n\n## reference\n\n1. [BeagleBone Black I2C References][1]\n2. [i2c-dev-interface][2]\n\n[1]: https://datko.net/2013/11/03/bbb_i2c/\n[2]: https://www.kernel.org/doc/Documentation/i2c/dev-interface","slug":"rx-8025","published":1,"updated":"2020-01-11T03:26:55.207Z","layout":"post","photos":[],"link":"","_id":"ck8wh7lbj001y4sup5kumcmu1","content":"<p>Beaglebone Black/bbblacki2crx8025</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>rx8025trx8025sa</li>\n<li>i2c1P9_17P9_18</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> beaglebone_black_bbblack_rx8025</span><br><span class=\"line\">gcc rtc-8025.c -o rtc-8025</span><br><span class=\"line\"><span class=\"comment\">## set bbblack os time to rx8025</span></span><br><span class=\"line\">./rtc-8025 <span class=\"built_in\">set</span></span><br><span class=\"line\"><span class=\"comment\">## get rx8025time and set to os</span></span><br><span class=\"line\">./rtc-8025 get</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"beaglebone\"><a href=\"#beaglebone\" class=\"headerlink\" title=\"beaglebone\"></a>beaglebone</h3><ol>\n<li>rx8025i2c1</li>\n<li><a href=\"https://datko.net/2013/11/03/bbb_i2c/\" target=\"_blank\" rel=\"noopener\">BeagleBone Black I2C References</a>i2c1bash<code>echo BB-I2C1 &gt; /sys/devices/bone_capemgr.9/slots</code></li>\n</ol>\n<p>rx8025slave address0x32<a href=\"https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rtc-8025.c\" target=\"_blank\" rel=\"noopener\">rtc-8025.c</a></p>\n<h3 id=\"i2c-dev\"><a href=\"#i2c-dev\" class=\"headerlink\" title=\"i2c-dev\"></a>i2c-dev</h3><p>i2c-devi2crx8025i2c-dev<a href=\"https://www.kernel.org/doc/Documentation/i2c/dev-interface\" target=\"_blank\" rel=\"noopener\">i2c-dev-interface</a><strong>Implementation details</strong>i2ci2ci2ci2cSCLSDL</p>\n<h3 id=\"rx8025trx8025sa\"><a href=\"#rx8025trx8025sa\" class=\"headerlink\" title=\"rx8025trx8025sa\"></a>rx8025trx8025sa</h3><p>rx8025t<a href=\"https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rx8025_cn.pdf\" target=\"_blank\" rel=\"noopener\">rx8025_cn</a>rx8025sa<a href=\"https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/RX8025SA.pdf\" target=\"_blank\" rel=\"noopener\">RX8025SA</a></p>\n<ul>\n<li><strong>EEPROM</strong>rx8025tEEPROMrx8025tPC10rx8025sa</li>\n<li><strong>read</strong>rx8025sa<code>read</code><code>Read method from address Fh, with no specified start address for read opreation</code>26<code>read</code>0x0Frx8025t</li>\n<li><strong></strong>1rx8025tVLFrx8025saPON</li>\n<li><strong></strong>rx8025t24rx8025sa12/24</li>\n<li><strong></strong>rx8025t<code>write</code>rx8025sa</li>\n</ul>\n<h3 id=\"TODO\"><a href=\"#TODO\" class=\"headerlink\" title=\"TODO\"></a>TODO</h3><p>rx8025t<code>read</code></p>\n<h2 id=\"reference\"><a href=\"#reference\" class=\"headerlink\" title=\"reference\"></a>reference</h2><ol>\n<li><a href=\"https://datko.net/2013/11/03/bbb_i2c/\" target=\"_blank\" rel=\"noopener\">BeagleBone Black I2C References</a></li>\n<li><a href=\"https://www.kernel.org/doc/Documentation/i2c/dev-interface\" target=\"_blank\" rel=\"noopener\">i2c-dev-interface</a></li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>Beaglebone Black/bbblacki2crx8025</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>rx8025trx8025sa</li>\n<li>i2c1P9_17P9_18</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> beaglebone_black_bbblack_rx8025</span><br><span class=\"line\">gcc rtc-8025.c -o rtc-8025</span><br><span class=\"line\"><span class=\"comment\">## set bbblack os time to rx8025</span></span><br><span class=\"line\">./rtc-8025 <span class=\"built_in\">set</span></span><br><span class=\"line\"><span class=\"comment\">## get rx8025time and set to os</span></span><br><span class=\"line\">./rtc-8025 get</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"beaglebone\"><a href=\"#beaglebone\" class=\"headerlink\" title=\"beaglebone\"></a>beaglebone</h3><ol>\n<li>rx8025i2c1</li>\n<li><a href=\"https://datko.net/2013/11/03/bbb_i2c/\" target=\"_blank\" rel=\"noopener\">BeagleBone Black I2C References</a>i2c1bash<code>echo BB-I2C1 &gt; /sys/devices/bone_capemgr.9/slots</code></li>\n</ol>\n<p>rx8025slave address0x32<a href=\"https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rtc-8025.c\" target=\"_blank\" rel=\"noopener\">rtc-8025.c</a></p>\n<h3 id=\"i2c-dev\"><a href=\"#i2c-dev\" class=\"headerlink\" title=\"i2c-dev\"></a>i2c-dev</h3><p>i2c-devi2crx8025i2c-dev<a href=\"https://www.kernel.org/doc/Documentation/i2c/dev-interface\" target=\"_blank\" rel=\"noopener\">i2c-dev-interface</a><strong>Implementation details</strong>i2ci2ci2ci2cSCLSDL</p>\n<h3 id=\"rx8025trx8025sa\"><a href=\"#rx8025trx8025sa\" class=\"headerlink\" title=\"rx8025trx8025sa\"></a>rx8025trx8025sa</h3><p>rx8025t<a href=\"https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/rx8025_cn.pdf\" target=\"_blank\" rel=\"noopener\">rx8025_cn</a>rx8025sa<a href=\"https://github.com/zhangjunjia/beaglebone_black_bbblack_rx8025/blob/master/RX8025SA.pdf\" target=\"_blank\" rel=\"noopener\">RX8025SA</a></p>\n<ul>\n<li><strong>EEPROM</strong>rx8025tEEPROMrx8025tPC10rx8025sa</li>\n<li><strong>read</strong>rx8025sa<code>read</code><code>Read method from address Fh, with no specified start address for read opreation</code>26<code>read</code>0x0Frx8025t</li>\n<li><strong></strong>1rx8025tVLFrx8025saPON</li>\n<li><strong></strong>rx8025t24rx8025sa12/24</li>\n<li><strong></strong>rx8025t<code>write</code>rx8025sa</li>\n</ul>\n<h3 id=\"TODO\"><a href=\"#TODO\" class=\"headerlink\" title=\"TODO\"></a>TODO</h3><p>rx8025t<code>read</code></p>\n<h2 id=\"reference\"><a href=\"#reference\" class=\"headerlink\" title=\"reference\"></a>reference</h2><ol>\n<li><a href=\"https://datko.net/2013/11/03/bbb_i2c/\" target=\"_blank\" rel=\"noopener\">BeagleBone Black I2C References</a></li>\n<li><a href=\"https://www.kernel.org/doc/Documentation/i2c/dev-interface\" target=\"_blank\" rel=\"noopener\">i2c-dev-interface</a></li>\n</ol>"},{"layout":"post","title":"Csendmail","date":"2016-08-13T00:46:00.000Z","comments":1,"_content":"\nCsendmail\n\n<!--more-->\n\n## sendmail\n\n[MUA/MTA/MDA](http://www.itye.org/archives/1304)\n\n![mail](/images/pics/mail.jpg)\n\nsendmailMTADNSMTAMTA\n\n## sendmail\n\nShellsendmail`man sendmail`\n\n```\nsendmail -f<sender> -vt receiver < mail.txt\n```\n\n\n\n- `-f`\n- `receiver`\n- `-v`\n- `-t`mail.txt`To``Cc`\n\n\n\n```\nsendmail -fjayzee@jayzee.com -vt jayzee@qq.com < mail.txt\n```\n\nmail.txt\n\n```\nSuject: Hello\n\nWorld\n```\n\n\n\n- `xxx@xxx.com`\n- \n- mail.txt`Subject`debian wheezysendmailubuntu\n- /etc/hosts\n```\n127.0.0.1\tlocalhost\tjayzee.com\n```\n\nhostssendmailsender`jayzee@jayzee.com`hosts`jayzee@127.0.0.1`jayzee`/var/mail/jayzee`\n\nstackoverflow\n> Just to offer some clarification, it's been the tradition for a long time for UNIX boxes to run a \"locally configured\" mailer daemon that ** doesn't route messages through the Internet, but only copies messages to other users spool directories ** (as @John T mentioned). It is real SMTP-compliant email, it's just not routed over the Internet because it doesn't need to be.\n\n## Csendmail\n\nCsendmail\n\n- mail.txt\n- `popen(...)``system(...)`\n\n## sendmail\n\n`sysexits.h`sendmailCsendmail`popen`\n\n`/var/mail/$USER`sendmail`-N`\n\n> `-N dsn` Set delivery status notification conditions to dsn, which can be 'never' for no notifications or a comma separated list of the values 'failure' to be notified if  delivery  failed, 'delay' to be notified if delivery is delayed, and 'success' to be notified when the message is successfully delivered.\n\ndelay[Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?](https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/)\n> Delivery Status Notification (Delay)\n> This is an automatically generated Delivery Status Notification.\n> THIS IS A WARNING MESSAGE ONLY.\n> **YOU DO NOT NEED TO RESEND YOUR MESSAGE**.\n> Delivery to the following recipients has been delayed.\n> \n> if you get this Delivery Status Notification (Delay) warning, theres nothing you can really do, other than to **make sure you sent it to the correct address.**\n\n## \n\n```c\n#include \n\nint main() {\n    if() {\n        stat1=/var/mail/user\n        system(sendmail -N failure -fuser@user.com -vt  < mail.txt);\n        stat2=/var/mail/user\n        if(stat1 != stat2) {\n            \n            user@user.com\n        } else {\n            \n        }\n    } else {\n        \n    }\n    return 0;\n}\n```\n\n## \n\n\n1. 360converter[MUA/MTA/MDA](http://www.itye.org/archives/1304)\n2. Ask Leo[Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?](https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/)\n","source":"_posts/2016-08-13-c-sendmail.markdown","raw":"---\nlayout: post\ntitle: Csendmail\ndate: '2016-08-13 08:46'\ncomments: true\ncategories: ['']\ntags: ['C/C++', 'Linux']\n---\n\nCsendmail\n\n<!--more-->\n\n## sendmail\n\n[MUA/MTA/MDA](http://www.itye.org/archives/1304)\n\n![mail](/images/pics/mail.jpg)\n\nsendmailMTADNSMTAMTA\n\n## sendmail\n\nShellsendmail`man sendmail`\n\n```\nsendmail -f<sender> -vt receiver < mail.txt\n```\n\n\n\n- `-f`\n- `receiver`\n- `-v`\n- `-t`mail.txt`To``Cc`\n\n\n\n```\nsendmail -fjayzee@jayzee.com -vt jayzee@qq.com < mail.txt\n```\n\nmail.txt\n\n```\nSuject: Hello\n\nWorld\n```\n\n\n\n- `xxx@xxx.com`\n- \n- mail.txt`Subject`debian wheezysendmailubuntu\n- /etc/hosts\n```\n127.0.0.1\tlocalhost\tjayzee.com\n```\n\nhostssendmailsender`jayzee@jayzee.com`hosts`jayzee@127.0.0.1`jayzee`/var/mail/jayzee`\n\nstackoverflow\n> Just to offer some clarification, it's been the tradition for a long time for UNIX boxes to run a \"locally configured\" mailer daemon that ** doesn't route messages through the Internet, but only copies messages to other users spool directories ** (as @John T mentioned). It is real SMTP-compliant email, it's just not routed over the Internet because it doesn't need to be.\n\n## Csendmail\n\nCsendmail\n\n- mail.txt\n- `popen(...)``system(...)`\n\n## sendmail\n\n`sysexits.h`sendmailCsendmail`popen`\n\n`/var/mail/$USER`sendmail`-N`\n\n> `-N dsn` Set delivery status notification conditions to dsn, which can be 'never' for no notifications or a comma separated list of the values 'failure' to be notified if  delivery  failed, 'delay' to be notified if delivery is delayed, and 'success' to be notified when the message is successfully delivered.\n\ndelay[Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?](https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/)\n> Delivery Status Notification (Delay)\n> This is an automatically generated Delivery Status Notification.\n> THIS IS A WARNING MESSAGE ONLY.\n> **YOU DO NOT NEED TO RESEND YOUR MESSAGE**.\n> Delivery to the following recipients has been delayed.\n> \n> if you get this Delivery Status Notification (Delay) warning, theres nothing you can really do, other than to **make sure you sent it to the correct address.**\n\n## \n\n```c\n#include \n\nint main() {\n    if() {\n        stat1=/var/mail/user\n        system(sendmail -N failure -fuser@user.com -vt  < mail.txt);\n        stat2=/var/mail/user\n        if(stat1 != stat2) {\n            \n            user@user.com\n        } else {\n            \n        }\n    } else {\n        \n    }\n    return 0;\n}\n```\n\n## \n\n\n1. 360converter[MUA/MTA/MDA](http://www.itye.org/archives/1304)\n2. Ask Leo[Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?](https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/)\n","slug":"c-sendmail","published":1,"updated":"2020-01-11T03:26:55.206Z","photos":[],"link":"","_id":"ck8wh7lbm00224suprulezlpd","content":"<p>Csendmail</p>\n<a id=\"more\"></a>\n<h2 id=\"sendmail\"><a href=\"#sendmail\" class=\"headerlink\" title=\"sendmail\"></a>sendmail</h2><p><a href=\"http://www.itye.org/archives/1304\" target=\"_blank\" rel=\"noopener\">MUA/MTA/MDA</a></p>\n<p><img src=\"/images/pics/mail.jpg\" alt=\"mail\"></p>\n<p>sendmailMTADNSMTAMTA</p>\n<h2 id=\"sendmail\"><a href=\"#sendmail\" class=\"headerlink\" title=\"sendmail\"></a>sendmail</h2><p>Shellsendmail<code>man sendmail</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sendmail -f&lt;sender&gt; -vt receiver &lt; mail.txt</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li><code>-f</code></li>\n<li><code>receiver</code></li>\n<li><code>-v</code></li>\n<li><code>-t</code>mail.txt<code>To</code><code>Cc</code></li>\n</ul>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sendmail -fjayzee@jayzee.com -vt jayzee@qq.com &lt; mail.txt</span><br></pre></td></tr></table></figure>\n<p>mail.txt</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Suject: Hello</span><br><span class=\"line\"></span><br><span class=\"line\">World</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li><a href=\"mailto:`xxx@xxx.com\" target=\"_blank\" rel=\"noopener\">`xxx@xxx.com</a>`</li>\n<li></li>\n<li>mail.txt<code>Subject</code>debian wheezysendmailubuntu</li>\n<li>/etc/hosts<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1\tlocalhost\tjayzee.com</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>hostssendmailsender<a href=\"mailto:`jayzee@jayzee.com\" target=\"_blank\" rel=\"noopener\">`jayzee@jayzee.com</a><code>hosts</code><a href=\"mailto:jayzee@127.0.0.1\" target=\"_blank\" rel=\"noopener\">jayzee@127.0.0.1</a><code>jayzee</code>/var/mail/jayzee`</p>\n<p>stackoverflow</p>\n<blockquote>\n<p>Just to offer some clarification, its been the tradition for a long time for UNIX boxes to run a locally configured mailer daemon that <strong> doesnt route messages through the Internet, but only copies messages to other users spool directories </strong> (as @John T mentioned). It is real SMTP-compliant email, its just not routed over the Internet because it doesnt need to be.</p>\n</blockquote>\n<h2 id=\"Csendmail\"><a href=\"#Csendmail\" class=\"headerlink\" title=\"Csendmail\"></a>Csendmail</h2><p>Csendmail</p>\n<ul>\n<li>mail.txt</li>\n<li><code>popen(...)</code><code>system(...)</code></li>\n</ul>\n<h2 id=\"sendmail\"><a href=\"#sendmail\" class=\"headerlink\" title=\"sendmail\"></a>sendmail</h2><p><code>sysexits.h</code>sendmailCsendmail<code>popen</code></p>\n<p><code>/var/mail/$USER</code>sendmail<code>-N</code></p>\n<blockquote>\n<p><code>-N dsn</code> Set delivery status notification conditions to dsn, which can be never for no notifications or a comma separated list of the values failure to be notified if  delivery  failed, delay to be notified if delivery is delayed, and success to be notified when the message is successfully delivered.</p>\n</blockquote>\n<p>delay<a href=\"https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/\" target=\"_blank\" rel=\"noopener\">Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?</a></p>\n<blockquote>\n<p>Delivery Status Notification (Delay)<br>This is an automatically generated Delivery Status Notification.<br>THIS IS A WARNING MESSAGE ONLY.<br><strong>YOU DO NOT NEED TO RESEND YOUR MESSAGE</strong>.<br>Delivery to the following recipients has been delayed.</p>\n<p>if you get this Delivery Status Notification (Delay) warning, theres nothing you can really do, other than to <strong>make sure you sent it to the correct address.</strong></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>() &#123;</span><br><span class=\"line\">        stat1=/var/mail/user</span><br><span class=\"line\">        system(sendmail -N failure -fuser@user.com -vt  &lt; mail.txt);</span><br><span class=\"line\">        stat2=/var/mail/user</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(stat1 != stat2) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">            user@user.com</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>360converter<a href=\"http://www.itye.org/archives/1304\" target=\"_blank\" rel=\"noopener\">MUA/MTA/MDA</a></li>\n<li>Ask Leo<a href=\"https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/\" target=\"_blank\" rel=\"noopener\">Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?</a></li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>Csendmail</p>","more":"<h2 id=\"sendmail\"><a href=\"#sendmail\" class=\"headerlink\" title=\"sendmail\"></a>sendmail</h2><p><a href=\"http://www.itye.org/archives/1304\" target=\"_blank\" rel=\"noopener\">MUA/MTA/MDA</a></p>\n<p><img src=\"/images/pics/mail.jpg\" alt=\"mail\"></p>\n<p>sendmailMTADNSMTAMTA</p>\n<h2 id=\"sendmail\"><a href=\"#sendmail\" class=\"headerlink\" title=\"sendmail\"></a>sendmail</h2><p>Shellsendmail<code>man sendmail</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sendmail -f&lt;sender&gt; -vt receiver &lt; mail.txt</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li><code>-f</code></li>\n<li><code>receiver</code></li>\n<li><code>-v</code></li>\n<li><code>-t</code>mail.txt<code>To</code><code>Cc</code></li>\n</ul>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sendmail -fjayzee@jayzee.com -vt jayzee@qq.com &lt; mail.txt</span><br></pre></td></tr></table></figure>\n<p>mail.txt</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Suject: Hello</span><br><span class=\"line\"></span><br><span class=\"line\">World</span><br></pre></td></tr></table></figure>\n<p></p>\n<ul>\n<li><a href=\"mailto:`xxx@xxx.com\" target=\"_blank\" rel=\"noopener\">`xxx@xxx.com</a>`</li>\n<li></li>\n<li>mail.txt<code>Subject</code>debian wheezysendmailubuntu</li>\n<li>/etc/hosts<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1\tlocalhost\tjayzee.com</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>hostssendmailsender<a href=\"mailto:`jayzee@jayzee.com\" target=\"_blank\" rel=\"noopener\">`jayzee@jayzee.com</a><code>hosts</code><a href=\"mailto:jayzee@127.0.0.1\" target=\"_blank\" rel=\"noopener\">jayzee@127.0.0.1</a><code>jayzee</code>/var/mail/jayzee`</p>\n<p>stackoverflow</p>\n<blockquote>\n<p>Just to offer some clarification, its been the tradition for a long time for UNIX boxes to run a locally configured mailer daemon that <strong> doesnt route messages through the Internet, but only copies messages to other users spool directories </strong> (as @John T mentioned). It is real SMTP-compliant email, its just not routed over the Internet because it doesnt need to be.</p>\n</blockquote>\n<h2 id=\"Csendmail\"><a href=\"#Csendmail\" class=\"headerlink\" title=\"Csendmail\"></a>Csendmail</h2><p>Csendmail</p>\n<ul>\n<li>mail.txt</li>\n<li><code>popen(...)</code><code>system(...)</code></li>\n</ul>\n<h2 id=\"sendmail\"><a href=\"#sendmail\" class=\"headerlink\" title=\"sendmail\"></a>sendmail</h2><p><code>sysexits.h</code>sendmailCsendmail<code>popen</code></p>\n<p><code>/var/mail/$USER</code>sendmail<code>-N</code></p>\n<blockquote>\n<p><code>-N dsn</code> Set delivery status notification conditions to dsn, which can be never for no notifications or a comma separated list of the values failure to be notified if  delivery  failed, delay to be notified if delivery is delayed, and success to be notified when the message is successfully delivered.</p>\n</blockquote>\n<p>delay<a href=\"https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/\" target=\"_blank\" rel=\"noopener\">Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?</a></p>\n<blockquote>\n<p>Delivery Status Notification (Delay)<br>This is an automatically generated Delivery Status Notification.<br>THIS IS A WARNING MESSAGE ONLY.<br><strong>YOU DO NOT NEED TO RESEND YOUR MESSAGE</strong>.<br>Delivery to the following recipients has been delayed.</p>\n<p>if you get this Delivery Status Notification (Delay) warning, theres nothing you can really do, other than to <strong>make sure you sent it to the correct address.</strong></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>() &#123;</span><br><span class=\"line\">        stat1=/var/mail/user</span><br><span class=\"line\">        system(sendmail -N failure -fuser@user.com -vt  &lt; mail.txt);</span><br><span class=\"line\">        stat2=/var/mail/user</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(stat1 != stat2) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">            user@user.com</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>360converter<a href=\"http://www.itye.org/archives/1304\" target=\"_blank\" rel=\"noopener\">MUA/MTA/MDA</a></li>\n<li>Ask Leo<a href=\"https://askleo.com/why_am_i_getting_a_delay_notification_on_an_email_i_sent-2/\" target=\"_blank\" rel=\"noopener\">Why Am I Getting a Delivery Status Notification (Delay) on an Email I Sent?</a></li>\n</ol>"},{"title":"C","date":"2017-05-04T09:09:07.000Z","comments":1,"_content":"\nC`[]`\n\n<!--more-->\n\n```c\n#include <stdio.h>\n\nstruct node {\n    int a[100];\n    int b[100];\n};\n\nint main() {\n    struct node ins;\n    int i = 0;\n    for(; i<200; i++) {\n        ins.a[i] = 1;\n    }\n    return 0;\n}\n```\n\n\n\n\n\n> C2P84\n> a[i]*(a+i)a[i]C*(a+i)\n\n","source":"_posts/2017-05-04-puzzle-of-c-pointer.md","raw":"---\ntitle: C\ndate: 2017-05-04 17:09:07\ncomments: true\ncategories: [''] \ntags: ['C/C++']\n---\n\nC`[]`\n\n<!--more-->\n\n```c\n#include <stdio.h>\n\nstruct node {\n    int a[100];\n    int b[100];\n};\n\nint main() {\n    struct node ins;\n    int i = 0;\n    for(; i<200; i++) {\n        ins.a[i] = 1;\n    }\n    return 0;\n}\n```\n\n\n\n\n\n> C2P84\n> a[i]*(a+i)a[i]C*(a+i)\n\n","slug":"puzzle-of-c-pointer","published":1,"updated":"2020-04-12T03:42:35.218Z","_id":"ck8wh7lbp00254supfh39yip9","layout":"post","photos":[],"link":"","content":"<p>C<code>[]</code></p>\n<a id=\"more\"></a>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">node</span> &#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> a[<span class=\"number\">100</span>];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> b[<span class=\"number\">100</span>];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">node</span> <span class=\"title\">ins</span>;</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(; i&lt;<span class=\"number\">200</span>; i++) &#123;</span><br><span class=\"line\">        ins.a[i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<blockquote>\n<p>C2P84<br>a[i]<em>(a+i)a[i]C</em>(a+i)</p>\n</blockquote>\n<p></p>\n","site":{"data":{}},"excerpt":"<p>C<code>[]</code></p>","more":"<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">node</span> &#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> a[<span class=\"number\">100</span>];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> b[<span class=\"number\">100</span>];</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">node</span> <span class=\"title\">ins</span>;</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(; i&lt;<span class=\"number\">200</span>; i++) &#123;</span><br><span class=\"line\">        ins.a[i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<blockquote>\n<p>C2P84<br>a[i]<em>(a+i)a[i]C</em>(a+i)</p>\n</blockquote>\n<p></p>"},{"title":"Cfread","date":"2017-07-07T09:14:16.000Z","comments":1,"_content":"\nCfread\n\n<!--more-->\n\n```c\n#include <stdio.h>\n#include <stdlib.h>\n\n// text.txt7\n\nint main() {\n    char *file = \"text.txt\";\n    FILE *fp = fopen(file, \"r\");\n    if(fp) {\n        char str[128];\n        int rc = fread(str, 5, 1, fp);\n        printf(\"size is : %d\\n\", rc);\n        if(rc) \n            printf(\"content is : %d\\n\", atoi(str));\n        fclose(fp);\n    }\n    return 0;\n}\n```\n\n\n> size is : 0\n\n\n> size is : 2\n> content is : 7\n\nfread\n> ```size_t fread(void *restrict ptr, size_t size, size_t nitems, FILE *restrict stream);```\n\n`size``nitems`55`rc`011\n\n    int rc = fread(str, 1, 5, fp);\n\n15","source":"_posts/2017-07-07-sth-about-fread.md","raw":"---\ntitle: Cfread\ndate: 2017-07-07 17:14:16\ntags: ['C/C++']\ncomments: true\ncategories: ['']\n---\n\nCfread\n\n<!--more-->\n\n```c\n#include <stdio.h>\n#include <stdlib.h>\n\n// text.txt7\n\nint main() {\n    char *file = \"text.txt\";\n    FILE *fp = fopen(file, \"r\");\n    if(fp) {\n        char str[128];\n        int rc = fread(str, 5, 1, fp);\n        printf(\"size is : %d\\n\", rc);\n        if(rc) \n            printf(\"content is : %d\\n\", atoi(str));\n        fclose(fp);\n    }\n    return 0;\n}\n```\n\n\n> size is : 0\n\n\n> size is : 2\n> content is : 7\n\nfread\n> ```size_t fread(void *restrict ptr, size_t size, size_t nitems, FILE *restrict stream);```\n\n`size``nitems`55`rc`011\n\n    int rc = fread(str, 1, 5, fp);\n\n15","slug":"sth-about-fread","published":1,"updated":"2020-04-12T03:42:45.513Z","_id":"ck8wh7lbq00294supphh8aq3n","layout":"post","photos":[],"link":"","content":"<p>Cfread</p>\n<a id=\"more\"></a>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// text.txt7</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *file = <span class=\"string\">\"text.txt\"</span>;</span><br><span class=\"line\">    FILE *fp = fopen(file, <span class=\"string\">\"r\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(fp) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">char</span> str[<span class=\"number\">128</span>];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> rc = fread(str, <span class=\"number\">5</span>, <span class=\"number\">1</span>, fp);</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"size is : %d\\n\"</span>, rc);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(rc) </span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"content is : %d\\n\"</span>, atoi(str));</span><br><span class=\"line\">        fclose(fp);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p>size is : 0</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>size is : 2<br>content is : 7</p>\n</blockquote>\n<p>fread</p>\n<blockquote>\n<p><code>size_t fread(void *restrict ptr, size_t size, size_t nitems, FILE *restrict stream);</code></p>\n</blockquote>\n<p><code>size</code><code>nitems</code>55<code>rc</code>011</p>\n<pre><code>int rc = fread(str, 1, 5, fp);\n</code></pre><p>15</p>\n","site":{"data":{}},"excerpt":"<p>Cfread</p>","more":"<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// text.txt7</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">char</span> *file = <span class=\"string\">\"text.txt\"</span>;</span><br><span class=\"line\">    FILE *fp = fopen(file, <span class=\"string\">\"r\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(fp) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">char</span> str[<span class=\"number\">128</span>];</span><br><span class=\"line\">        <span class=\"keyword\">int</span> rc = fread(str, <span class=\"number\">5</span>, <span class=\"number\">1</span>, fp);</span><br><span class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"size is : %d\\n\"</span>, rc);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(rc) </span><br><span class=\"line\">            <span class=\"built_in\">printf</span>(<span class=\"string\">\"content is : %d\\n\"</span>, atoi(str));</span><br><span class=\"line\">        fclose(fp);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<blockquote>\n<p>size is : 0</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>size is : 2<br>content is : 7</p>\n</blockquote>\n<p>fread</p>\n<blockquote>\n<p><code>size_t fread(void *restrict ptr, size_t size, size_t nitems, FILE *restrict stream);</code></p>\n</blockquote>\n<p><code>size</code><code>nitems</code>55<code>rc</code>011</p>\n<pre><code>int rc = fread(str, 1, 5, fp);\n</code></pre><p>15</p>"},{"title":"","date":"2017-05-09T09:25:16.000Z","comments":1,"_content":"\n## \n\n\n\n<!--more-->\n\n\n\n- \n- \n- A20B30C20D100\n\n\n\n- t1P1\n- t2P2\n- t3P3\n- \n\n## \n\n>  =  *  +  *  +  * \n> \n> \n\n\n\n`++/ <= ( - )` \n\n\n\n1. /N\n2. MNX\n3. Y\n4. X*Y\n\t1. \n\t2. +\n\t3. ","source":"_posts/2017-05-09-power-adjustment.md","raw":"---\ntitle: \ndate: 2017-05-09 17:25:16\ncomments: true\ncategories: [''] \ntags: ['']\n---\n\n## \n\n\n\n<!--more-->\n\n\n\n- \n- \n- A20B30C20D100\n\n\n\n- t1P1\n- t2P2\n- t3P3\n- \n\n## \n\n>  =  *  +  *  +  * \n> \n> \n\n\n\n`++/ <= ( - )` \n\n\n\n1. /N\n2. MNX\n3. Y\n4. X*Y\n\t1. \n\t2. +\n\t3. ","slug":"power-adjustment","published":1,"updated":"2020-01-11T03:26:55.208Z","layout":"post","photos":[],"link":"","_id":"ck8wh7lbt002c4sup7e4whxez","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<a id=\"more\"></a>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li>A20B30C20D100</li>\n</ul>\n<p></p>\n<ul>\n<li>t1P1</li>\n<li>t2P2</li>\n<li>t3P3</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p> =  <em>  +  </em>  +  * </p>\n<p></p>\n</blockquote>\n<p></p>\n<p><code>++/ &lt;= ( - )</code> </p>\n<p></p>\n<ol>\n<li>/N</li>\n<li>MNX</li>\n<li>Y</li>\n<li>X*Y<ol>\n<li></li>\n<li>+</li>\n<li></li>\n</ol>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>","more":"<p></p>\n<ul>\n<li></li>\n<li></li>\n<li>A20B30C20D100</li>\n</ul>\n<p></p>\n<ul>\n<li>t1P1</li>\n<li>t2P2</li>\n<li>t3P3</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p> =  <em>  +  </em>  +  * </p>\n<p></p>\n</blockquote>\n<p></p>\n<p><code>++/ &lt;= ( - )</code> </p>\n<p></p>\n<ol>\n<li>/N</li>\n<li>MNX</li>\n<li>Y</li>\n<li>X*Y<ol>\n<li></li>\n<li>+</li>\n<li></li>\n</ol>\n</li>\n</ol>"},{"title":"","date":"2017-07-28T04:29:39.000Z","comments":1,"_content":"\n\"abcdefgh\"3\"defghabc\"\n\n<!--more-->\n\n\n\n- xabcdefgh\n- n8\n- l3\n- ydefghabc\n\n\n\n- x[0]tx[1]x[0]x[2]x[1]\n- x[i]in8tx[n-1]x[7]\n\nx[i]int0\n\n- x[0]tx[2]x[0]tx[6]\n- x[1]x[3]x[5]x[7]\n\nn8l244**nl**\n\n\n\n```\n# gcd\nfor i in [0, gcd(n, l)):\n    t = x[i]\n    j = i\n    while true:\n        k = (j + l) % n\n\tif k == i:\n\t    break\n\tx[j] = x[k]\n\tj = k\n    x[j] = t\n```\n\n\n\n1. 2\n2. index\n","source":"_posts/2017-07-28-left-shift.md","raw":"---\ntitle: \ndate: 2017-07-28 12:29:39\ntags: ['C/C++']\ncomments: true\ncategories: ['']\n---\n\n\"abcdefgh\"3\"defghabc\"\n\n<!--more-->\n\n\n\n- xabcdefgh\n- n8\n- l3\n- ydefghabc\n\n\n\n- x[0]tx[1]x[0]x[2]x[1]\n- x[i]in8tx[n-1]x[7]\n\nx[i]int0\n\n- x[0]tx[2]x[0]tx[6]\n- x[1]x[3]x[5]x[7]\n\nn8l244**nl**\n\n\n\n```\n# gcd\nfor i in [0, gcd(n, l)):\n    t = x[i]\n    j = i\n    while true:\n        k = (j + l) % n\n\tif k == i:\n\t    break\n\tx[j] = x[k]\n\tj = k\n    x[j] = t\n```\n\n\n\n1. 2\n2. index\n","slug":"left-shift","published":1,"updated":"2020-04-12T03:38:32.883Z","_id":"ck8wh7lbv002f4supp65j5wty","layout":"post","photos":[],"link":"","content":"<p>abcdefgh3defghabc</p>\n<a id=\"more\"></a>\n<p></p>\n<ul>\n<li>xabcdefgh</li>\n<li>n8</li>\n<li>l3</li>\n<li>ydefghabc</li>\n</ul>\n<p></p>\n<ul>\n<li>x[0]tx[1]x[0]x[2]x[1]</li>\n<li>x[i]in8tx[n-1]x[7]</li>\n</ul>\n<p>x[i]int0</p>\n<ul>\n<li>x[0]tx[2]x[0]tx[6]</li>\n<li>x[1]x[3]x[5]x[7]</li>\n</ul>\n<p>n8l244<strong>nl</strong></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># gcd</span><br><span class=\"line\">for i in [0, gcd(n, l)):</span><br><span class=\"line\">    t = x[i]</span><br><span class=\"line\">    j = i</span><br><span class=\"line\">    while true:</span><br><span class=\"line\">        k = (j + l) % n</span><br><span class=\"line\">\tif k == i:</span><br><span class=\"line\">\t    break</span><br><span class=\"line\">\tx[j] = x[k]</span><br><span class=\"line\">\tj = k</span><br><span class=\"line\">    x[j] = t</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>2</li>\n<li>index</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>abcdefgh3defghabc</p>","more":"<p></p>\n<ul>\n<li>xabcdefgh</li>\n<li>n8</li>\n<li>l3</li>\n<li>ydefghabc</li>\n</ul>\n<p></p>\n<ul>\n<li>x[0]tx[1]x[0]x[2]x[1]</li>\n<li>x[i]in8tx[n-1]x[7]</li>\n</ul>\n<p>x[i]int0</p>\n<ul>\n<li>x[0]tx[2]x[0]tx[6]</li>\n<li>x[1]x[3]x[5]x[7]</li>\n</ul>\n<p>n8l244<strong>nl</strong></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># gcd</span><br><span class=\"line\">for i in [0, gcd(n, l)):</span><br><span class=\"line\">    t = x[i]</span><br><span class=\"line\">    j = i</span><br><span class=\"line\">    while true:</span><br><span class=\"line\">        k = (j + l) % n</span><br><span class=\"line\">\tif k == i:</span><br><span class=\"line\">\t    break</span><br><span class=\"line\">\tx[j] = x[k]</span><br><span class=\"line\">\tj = k</span><br><span class=\"line\">    x[j] = t</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>2</li>\n<li>index</li>\n</ol>"},{"title":"Core Java 01 | equals vs ==","date":"2018-06-07T04:22:29.000Z","comments":1,"_content":"\nJavaequals==\n\n<!-- more -->\n\n`==`\n\n- `==`\n- `==`\n- `==`\n\n`equals`\n\n- `equals``java.lang.Object`\n```java\npublic boolean equals(Object obj) {\n    return (this == obj);\n}\n```\n- `equals`\n- `equals`8Stringequals\n\nequalsJava\n\n> Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.\n\n> equalstruehashCode\n\nWhy\n","source":"_posts/2018-06-07-core-java-equals.md","raw":"---\ntitle: \"Core Java 01 | equals vs ==\"\ndate: 2018-06-07 12:22:29\ntags: ['Java']\ncomments: true\ncategories: ['']\n---\n\nJavaequals==\n\n<!-- more -->\n\n`==`\n\n- `==`\n- `==`\n- `==`\n\n`equals`\n\n- `equals``java.lang.Object`\n```java\npublic boolean equals(Object obj) {\n    return (this == obj);\n}\n```\n- `equals`\n- `equals`8Stringequals\n\nequalsJava\n\n> Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.\n\n> equalstruehashCode\n\nWhy\n","slug":"core-java-equals","published":1,"updated":"2020-04-12T03:42:52.998Z","_id":"ck8wh7lby002k4supub0stv3o","layout":"post","photos":[],"link":"","content":"<p>Javaequals==</p>\n<a id=\"more\"></a>\n<p><code>==</code></p>\n<ul>\n<li><code>==</code></li>\n<li><code>==</code></li>\n<li><code>==</code></li>\n</ul>\n<p><code>equals</code></p>\n<ul>\n<li><p><code>equals</code><code>java.lang.Object</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">equals</span><span class=\"params\">(Object obj)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"keyword\">this</span> == obj);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>equals</code></p>\n</li>\n<li><code>equals</code>8Stringequals</li>\n</ul>\n<p>equalsJava</p>\n<blockquote>\n<p>Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</p>\n</blockquote>\n<blockquote>\n<p>equalstruehashCode</p>\n</blockquote>\n<p>Why</p>\n","site":{"data":{}},"excerpt":"<p>Javaequals==</p>","more":"<p><code>==</code></p>\n<ul>\n<li><code>==</code></li>\n<li><code>==</code></li>\n<li><code>==</code></li>\n</ul>\n<p><code>equals</code></p>\n<ul>\n<li><p><code>equals</code><code>java.lang.Object</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">equals</span><span class=\"params\">(Object obj)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"keyword\">this</span> == obj);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>equals</code></p>\n</li>\n<li><code>equals</code>8Stringequals</li>\n</ul>\n<p>equalsJava</p>\n<blockquote>\n<p>Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</p>\n</blockquote>\n<blockquote>\n<p>equalstruehashCode</p>\n</blockquote>\n<p>Why</p>"},{"title":"Java Mina close_wait issue","date":"2018-06-14T03:02:06.000Z","comments":1,"_content":"\nLinuxJava MinaTCP/IPTCP ServerCLOSE_WAITwhy\n\n<!--more-->\n\nclose_waitTCPTCP\n\n![TCP](https://img-blog.csdn.net/20170606084851272?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXpjc3U=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n\n\n- FIN\n- FINACK**close_wait**FINACKclose_wait\n- FINclose_waitlast_ack\n\n\n\n- FIN\n- close()\n\n\n\n- close()socketmina`session.closeNow()`\n- close_waitsocket2tcp keepalive setup\n\n**close_waittcptcpTCP4IP++IP+TCPclose_waitkeep4TCP**\n\n\n**BUGclose()TCP**minasessionIdle()\n\n`lsof`socketclose_wait\n\n\n## \n\nhttps://blog.csdn.net/qzcsu/article/details/72861891\n","source":"_posts/2018-06-14-close-wait-issue.md","raw":"---\ntitle: Java Mina close_wait issue\ndate: 2018-06-14 11:02:06\ntags: ['Java', 'Mina', 'TCP/IP']\ncomments: true\ncategories: ['']\n---\n\nLinuxJava MinaTCP/IPTCP ServerCLOSE_WAITwhy\n\n<!--more-->\n\nclose_waitTCPTCP\n\n![TCP](https://img-blog.csdn.net/20170606084851272?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXpjc3U=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n\n\n- FIN\n- FINACK**close_wait**FINACKclose_wait\n- FINclose_waitlast_ack\n\n\n\n- FIN\n- close()\n\n\n\n- close()socketmina`session.closeNow()`\n- close_waitsocket2tcp keepalive setup\n\n**close_waittcptcpTCP4IP++IP+TCPclose_waitkeep4TCP**\n\n\n**BUGclose()TCP**minasessionIdle()\n\n`lsof`socketclose_wait\n\n\n## \n\nhttps://blog.csdn.net/qzcsu/article/details/72861891\n","slug":"close-wait-issue","published":1,"updated":"2020-04-12T03:43:01.077Z","_id":"ck8wh7lc0002n4supuounr58c","layout":"post","photos":[],"link":"","content":"<p>LinuxJava MinaTCP/IPTCP ServerCLOSE_WAITwhy</p>\n<a id=\"more\"></a>\n<p>close_waitTCPTCP</p>\n<p><img src=\"https://img-blog.csdn.net/20170606084851272?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXpjc3U=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"TCP\"></p>\n<p></p>\n<ul>\n<li>FIN</li>\n<li>FINACK<strong>close_wait</strong>FINACKclose_wait</li>\n<li>FINclose_waitlast_ack</li>\n</ul>\n<p></p>\n<ul>\n<li>FIN</li>\n<li>close()</li>\n</ul>\n<p></p>\n<ul>\n<li>close()socketmina<code>session.closeNow()</code></li>\n<li>close_waitsocket2tcp keepalive setup</li>\n</ul>\n<p><strong>close_waittcptcpTCP4IP++IP+TCPclose_waitkeep4TCP</strong></p>\n<p><strong>BUGclose()TCP</strong>minasessionIdle()</p>\n<p><code>lsof</code>socketclose_wait</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://blog.csdn.net/qzcsu/article/details/72861891\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/qzcsu/article/details/72861891</a></p>\n","site":{"data":{}},"excerpt":"<p>LinuxJava MinaTCP/IPTCP ServerCLOSE_WAITwhy</p>","more":"<p>close_waitTCPTCP</p>\n<p><img src=\"https://img-blog.csdn.net/20170606084851272?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXpjc3U=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"TCP\"></p>\n<p></p>\n<ul>\n<li>FIN</li>\n<li>FINACK<strong>close_wait</strong>FINACKclose_wait</li>\n<li>FINclose_waitlast_ack</li>\n</ul>\n<p></p>\n<ul>\n<li>FIN</li>\n<li>close()</li>\n</ul>\n<p></p>\n<ul>\n<li>close()socketmina<code>session.closeNow()</code></li>\n<li>close_waitsocket2tcp keepalive setup</li>\n</ul>\n<p><strong>close_waittcptcpTCP4IP++IP+TCPclose_waitkeep4TCP</strong></p>\n<p><strong>BUGclose()TCP</strong>minasessionIdle()</p>\n<p><code>lsof</code>socketclose_wait</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://blog.csdn.net/qzcsu/article/details/72861891\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/qzcsu/article/details/72861891</a></p>"},{"title":"Too many open files in java","date":"2018-06-16T09:00:05.000Z","comments":1,"_content":"\nLinux`ulimit``sysctl.conf`\nJavatoo many open filesOS\n\n<!--more-->\n\n## Linuxtoo many open files\n\n- `ps`ID`2343`\n- `ls -l /proc/2343/fd`pipesocket`ls -l /proc/2343/fd|wc -l`BUG`2343`ID\n\n## \n\n- try-finallytry-with-resources`new BufferedReader(new InputStreamReader(process.getInputStream()))``BufferedReader``InputStreamReader`\n- `Runtime.getRuntime().exec()`[StackOverFlow](https://stackoverflow.com/questions/15956452/troubleshooting-too-many-files-open-with-lsof)\n\n```java\n    try\n    {\n        // exec()\n        p = Runtime.getRuntime().exec(\"something\");\n    }\n    finally\n    {\n        if (p != null)\n        {\n            // \n            // p.getOutputStream().close()\n            IOUtils.closeQuietly(p.getOutputStream());\n            IOUtils.closeQuietly(p.getInputStream());\n            IOUtils.closeQuietly(p.getErrorStream());\n            // destroy()\n            p.destroy();\n        }\n    }\n```\n\n","source":"_posts/2018-06-16-too-many-open-files.md","raw":"---\ntitle: Too many open files in java\ndate: 2018-06-16 17:00:05\ntags: ['Java']\ncomments: true\ncategories: ['']\n---\n\nLinux`ulimit``sysctl.conf`\nJavatoo many open filesOS\n\n<!--more-->\n\n## Linuxtoo many open files\n\n- `ps`ID`2343`\n- `ls -l /proc/2343/fd`pipesocket`ls -l /proc/2343/fd|wc -l`BUG`2343`ID\n\n## \n\n- try-finallytry-with-resources`new BufferedReader(new InputStreamReader(process.getInputStream()))``BufferedReader``InputStreamReader`\n- `Runtime.getRuntime().exec()`[StackOverFlow](https://stackoverflow.com/questions/15956452/troubleshooting-too-many-files-open-with-lsof)\n\n```java\n    try\n    {\n        // exec()\n        p = Runtime.getRuntime().exec(\"something\");\n    }\n    finally\n    {\n        if (p != null)\n        {\n            // \n            // p.getOutputStream().close()\n            IOUtils.closeQuietly(p.getOutputStream());\n            IOUtils.closeQuietly(p.getInputStream());\n            IOUtils.closeQuietly(p.getErrorStream());\n            // destroy()\n            p.destroy();\n        }\n    }\n```\n\n","slug":"too-many-open-files","published":1,"updated":"2020-04-12T03:43:07.794Z","_id":"ck8wh7lc3002r4supghsejtop","layout":"post","photos":[],"link":"","content":"<p>Linux<code>ulimit</code><code>sysctl.conf</code><br>Javatoo many open filesOS</p>\n<a id=\"more\"></a>\n<h2 id=\"Linuxtoo-many-open-files\"><a href=\"#Linuxtoo-many-open-files\" class=\"headerlink\" title=\"Linuxtoo many open files\"></a>Linuxtoo many open files</h2><ul>\n<li><code>ps</code>ID<code>2343</code></li>\n<li><code>ls -l /proc/2343/fd</code>pipesocket<code>ls -l /proc/2343/fd|wc -l</code>BUG<code>2343</code>ID</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>try-finallytry-with-resources<code>new BufferedReader(new InputStreamReader(process.getInputStream()))</code><code>BufferedReader</code><code>InputStreamReader</code></li>\n<li><code>Runtime.getRuntime().exec()</code><a href=\"https://stackoverflow.com/questions/15956452/troubleshooting-too-many-files-open-with-lsof\" target=\"_blank\" rel=\"noopener\">StackOverFlow</a></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// exec()</span></span><br><span class=\"line\">    p = Runtime.getRuntime().exec(<span class=\"string\">\"something\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">finally</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (p != <span class=\"keyword\">null</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// p.getOutputStream().close()</span></span><br><span class=\"line\">        IOUtils.closeQuietly(p.getOutputStream());</span><br><span class=\"line\">        IOUtils.closeQuietly(p.getInputStream());</span><br><span class=\"line\">        IOUtils.closeQuietly(p.getErrorStream());</span><br><span class=\"line\">        <span class=\"comment\">// destroy()</span></span><br><span class=\"line\">        p.destroy();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>Linux<code>ulimit</code><code>sysctl.conf</code><br>Javatoo many open filesOS</p>","more":"<h2 id=\"Linuxtoo-many-open-files\"><a href=\"#Linuxtoo-many-open-files\" class=\"headerlink\" title=\"Linuxtoo many open files\"></a>Linuxtoo many open files</h2><ul>\n<li><code>ps</code>ID<code>2343</code></li>\n<li><code>ls -l /proc/2343/fd</code>pipesocket<code>ls -l /proc/2343/fd|wc -l</code>BUG<code>2343</code>ID</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>try-finallytry-with-resources<code>new BufferedReader(new InputStreamReader(process.getInputStream()))</code><code>BufferedReader</code><code>InputStreamReader</code></li>\n<li><code>Runtime.getRuntime().exec()</code><a href=\"https://stackoverflow.com/questions/15956452/troubleshooting-too-many-files-open-with-lsof\" target=\"_blank\" rel=\"noopener\">StackOverFlow</a></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// exec()</span></span><br><span class=\"line\">    p = Runtime.getRuntime().exec(<span class=\"string\">\"something\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">finally</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (p != <span class=\"keyword\">null</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// p.getOutputStream().close()</span></span><br><span class=\"line\">        IOUtils.closeQuietly(p.getOutputStream());</span><br><span class=\"line\">        IOUtils.closeQuietly(p.getInputStream());</span><br><span class=\"line\">        IOUtils.closeQuietly(p.getErrorStream());</span><br><span class=\"line\">        <span class=\"comment\">// destroy()</span></span><br><span class=\"line\">        p.destroy();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"JMC+JFR+JProfileJava","date":"2018-09-12T15:03:39.000Z","comments":1,"_content":"\nJMCJava Mission ControllJFRJava Flight RecordJProfileJavaOutOfMemroy\n\n<!--more-->\n\n# \n\n- ****\n- **function**dubbohttpfunction\n- ****Web\n- ****RPC\n- **procedure**procedure\n- **Limit**functionprocedurelimitlimit offset, numberOffsetnumberoffset\n\n# \n\nOutOfMemoryError\n\n## JVM\n\n82991192.168.8.181OutOfMemoryError\n\n> java.lang.OutOfMemoryError: GC overhead limit exceeded\n> ![OutOfMemoryError](https://user-images.githubusercontent.com/4915189/71431495-1c3c6680-270d-11ea-90d1-363a669926ad.png)\n\n\n## OS\n\n181Xmx8GOutOfMemoryErrormemory8G+swapmemory9GOutOfMemoryError1GswapOS\n\n## \n\nWeb\n\n# \n\nJava Flight Recoder1811OutOfMemoryError\n\n## CPU\n\n![01 OutOfMemoryErrorCPU](https://user-images.githubusercontent.com/4915189/71431503-20688400-270d-11ea-9daa-25778fbe457c.png)\n\n01OutOfMemoryErrorCPUCPUJVM01\n\n![02 OutOfMemoryError](https://user-images.githubusercontent.com/4915189/71431506-23fc0b00-270d-11ea-9cde-f38238128793.png)\n\n02OutOfMemoryErrorCPUdubbo\n\nOutOfMemoryError\n\n## \n\n![03 OutOfMemoryError](https://user-images.githubusercontent.com/4915189/71431507-28c0bf00-270d-11ea-8279-1079cb2c8039.png)\n\n03GC3GdumpmergeDatamergeData\n\n**3.4 **OutOfMemoryError\n\n## GC\n\n![04 OutOfMemoryErroryoung gcfull gc](https://user-images.githubusercontent.com/4915189/71431509-2bbbaf80-270d-11ea-922d-2be36cd1c0a1.png)\n\n04gcfull gc252young gc9full gc750young gc3.2GC05\n\n![ 05 Park](https://user-images.githubusercontent.com/4915189/71431511-2eb6a000-270d-11ea-93ee-2ea28c6759d1.png)\n\n![06 OutOfMemoryErrorFULL GC](https://user-images.githubusercontent.com/4915189/71431514-3413ea80-270d-11ea-8f82-040fe8cbb8cc.png)\n\n06OutOfMemoryErrorFULL GC400MJVMGC overhead limit exceededGC\n\nFull GCJVMJVMOutOfMemoryErrorOutOfMemoryErrorJVMJVM****OutOfMemoryError\n\n## \n\n![07 0ld gen](https://user-images.githubusercontent.com/4915189/71431518-370edb00-270d-11ea-8da0-368182699273.png)\n\n307old gengcold gen0.07GBJVM\n\n# \n\nOutOfMemoryErrorJVM\n\n![08 ](https://user-images.githubusercontent.com/4915189/71431520-3c6c2580-270d-11ea-96a7-600262a7dedb.png)\n\n08OutOfMemoryErrorS1S2S1S2S1S2JVMFull GCOutOfMemoryError\n\n\n\n## \n\n\n\n1 \n\n2 \n\n3 \n\n\n\n## \n\n### \n\n**1**\n\n\n\n**2**\n\n- \n\n- \n\n\n\n**3**\n\n\n\n**4limit**\n\n10000\n\n**5**\n\n1510nullJVM\n\n### IO\n\n![09 S1IO](https://user-images.githubusercontent.com/4915189/71431522-40984300-270d-11ea-8fb8-9a3b79ec213a.png)\n\n\n09S1S1****\n\nn1n1n1\n\nn2S1\n\n\n\n1 IO\n\n2 \n\n3 n2n1\n\n4 ****IO\n\n5**IO**\n\n## \n\nSQLKylin\n\nKylinHadoopSQLKylinSQLOLAPHadoop\n\nKylin\n\n## \n\n8G32G\n\n","source":"_posts/2018-09-12-use-jmc-jfr-jprofile.md","raw":"---\ntitle: JMC+JFR+JProfileJava\ndate: 2018-09-12 23:03:39\ntags: ['Java']\ncomments: true\ncategories: ['']\n---\n\nJMCJava Mission ControllJFRJava Flight RecordJProfileJavaOutOfMemroy\n\n<!--more-->\n\n# \n\n- ****\n- **function**dubbohttpfunction\n- ****Web\n- ****RPC\n- **procedure**procedure\n- **Limit**functionprocedurelimitlimit offset, numberOffsetnumberoffset\n\n# \n\nOutOfMemoryError\n\n## JVM\n\n82991192.168.8.181OutOfMemoryError\n\n> java.lang.OutOfMemoryError: GC overhead limit exceeded\n> ![OutOfMemoryError](https://user-images.githubusercontent.com/4915189/71431495-1c3c6680-270d-11ea-90d1-363a669926ad.png)\n\n\n## OS\n\n181Xmx8GOutOfMemoryErrormemory8G+swapmemory9GOutOfMemoryError1GswapOS\n\n## \n\nWeb\n\n# \n\nJava Flight Recoder1811OutOfMemoryError\n\n## CPU\n\n![01 OutOfMemoryErrorCPU](https://user-images.githubusercontent.com/4915189/71431503-20688400-270d-11ea-9daa-25778fbe457c.png)\n\n01OutOfMemoryErrorCPUCPUJVM01\n\n![02 OutOfMemoryError](https://user-images.githubusercontent.com/4915189/71431506-23fc0b00-270d-11ea-9cde-f38238128793.png)\n\n02OutOfMemoryErrorCPUdubbo\n\nOutOfMemoryError\n\n## \n\n![03 OutOfMemoryError](https://user-images.githubusercontent.com/4915189/71431507-28c0bf00-270d-11ea-8279-1079cb2c8039.png)\n\n03GC3GdumpmergeDatamergeData\n\n**3.4 **OutOfMemoryError\n\n## GC\n\n![04 OutOfMemoryErroryoung gcfull gc](https://user-images.githubusercontent.com/4915189/71431509-2bbbaf80-270d-11ea-922d-2be36cd1c0a1.png)\n\n04gcfull gc252young gc9full gc750young gc3.2GC05\n\n![ 05 Park](https://user-images.githubusercontent.com/4915189/71431511-2eb6a000-270d-11ea-93ee-2ea28c6759d1.png)\n\n![06 OutOfMemoryErrorFULL GC](https://user-images.githubusercontent.com/4915189/71431514-3413ea80-270d-11ea-8f82-040fe8cbb8cc.png)\n\n06OutOfMemoryErrorFULL GC400MJVMGC overhead limit exceededGC\n\nFull GCJVMJVMOutOfMemoryErrorOutOfMemoryErrorJVMJVM****OutOfMemoryError\n\n## \n\n![07 0ld gen](https://user-images.githubusercontent.com/4915189/71431518-370edb00-270d-11ea-8da0-368182699273.png)\n\n307old gengcold gen0.07GBJVM\n\n# \n\nOutOfMemoryErrorJVM\n\n![08 ](https://user-images.githubusercontent.com/4915189/71431520-3c6c2580-270d-11ea-96a7-600262a7dedb.png)\n\n08OutOfMemoryErrorS1S2S1S2S1S2JVMFull GCOutOfMemoryError\n\n\n\n## \n\n\n\n1 \n\n2 \n\n3 \n\n\n\n## \n\n### \n\n**1**\n\n\n\n**2**\n\n- \n\n- \n\n\n\n**3**\n\n\n\n**4limit**\n\n10000\n\n**5**\n\n1510nullJVM\n\n### IO\n\n![09 S1IO](https://user-images.githubusercontent.com/4915189/71431522-40984300-270d-11ea-8fb8-9a3b79ec213a.png)\n\n\n09S1S1****\n\nn1n1n1\n\nn2S1\n\n\n\n1 IO\n\n2 \n\n3 n2n1\n\n4 ****IO\n\n5**IO**\n\n## \n\nSQLKylin\n\nKylinHadoopSQLKylinSQLOLAPHadoop\n\nKylin\n\n## \n\n8G32G\n\n","slug":"use-jmc-jfr-jprofile","published":1,"updated":"2020-04-12T03:31:50.261Z","_id":"ck8wh7lc4002t4supqtuxty5g","layout":"post","photos":[],"link":"","content":"<p>JMCJava Mission ControllJFRJava Flight RecordJProfileJavaOutOfMemroy</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><strong></strong></li>\n<li><strong>function</strong>dubbohttpfunction</li>\n<li><strong></strong>Web</li>\n<li><strong></strong>RPC</li>\n<li><strong>procedure</strong>procedure</li>\n<li><strong>Limit</strong>functionprocedurelimitlimit offset, numberOffsetnumberoffset</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>OutOfMemoryError</p>\n<h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><p>82991192.168.8.181OutOfMemoryError</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: GC overhead limit exceeded<br><img src=\"https://user-images.githubusercontent.com/4915189/71431495-1c3c6680-270d-11ea-90d1-363a669926ad.png\" alt=\"OutOfMemoryError\"></p>\n</blockquote>\n<h2 id=\"OS\"><a href=\"#OS\" class=\"headerlink\" title=\"OS\"></a>OS</h2><p>181Xmx8GOutOfMemoryErrormemory8G+swapmemory9GOutOfMemoryError1GswapOS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Web</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Java Flight Recoder1811OutOfMemoryError</p>\n<h2 id=\"CPU\"><a href=\"#CPU\" class=\"headerlink\" title=\"CPU\"></a>CPU</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431503-20688400-270d-11ea-9daa-25778fbe457c.png\" alt=\"01 OutOfMemoryErrorCPU\"></p>\n<p>01OutOfMemoryErrorCPUCPUJVM01</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431506-23fc0b00-270d-11ea-9cde-f38238128793.png\" alt=\"02 OutOfMemoryError\"></p>\n<p>02OutOfMemoryErrorCPUdubbo</p>\n<p>OutOfMemoryError</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431507-28c0bf00-270d-11ea-8279-1079cb2c8039.png\" alt=\"03 OutOfMemoryError\"></p>\n<p>03GC3GdumpmergeDatamergeData</p>\n<p><strong>3.4 </strong>OutOfMemoryError</p>\n<h2 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431509-2bbbaf80-270d-11ea-922d-2be36cd1c0a1.png\" alt=\"04 OutOfMemoryErroryoung gcfull gc\"></p>\n<p>04gcfull gc252young gc9full gc750young gc3.2GC05</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431511-2eb6a000-270d-11ea-93ee-2ea28c6759d1.png\" alt=\" 05 Park\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431514-3413ea80-270d-11ea-8f82-040fe8cbb8cc.png\" alt=\"06 OutOfMemoryErrorFULL GC\"></p>\n<p>06OutOfMemoryErrorFULL GC400MJVMGC overhead limit exceededGC</p>\n<p>Full GCJVMJVMOutOfMemoryErrorOutOfMemoryErrorJVMJVM<strong></strong>OutOfMemoryError</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431518-370edb00-270d-11ea-8da0-368182699273.png\" alt=\"07 0ld gen\"></p>\n<p>307old gengcold gen0.07GBJVM</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>OutOfMemoryErrorJVM</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431520-3c6c2580-270d-11ea-96a7-600262a7dedb.png\" alt=\"08 \"></p>\n<p>08OutOfMemoryErrorS1S2S1S2S1S2JVMFull GCOutOfMemoryError</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>1 </p>\n<p>2 </p>\n<p>3 </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>1</strong></p>\n<p></p>\n<p><strong>2</strong></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p></p>\n<p><strong>3</strong></p>\n<p></p>\n<p><strong>4limit</strong></p>\n<p>10000</p>\n<p><strong>5</strong></p>\n<p>1510nullJVM</p>\n<h3 id=\"IO\"><a href=\"#IO\" class=\"headerlink\" title=\"IO\"></a>IO</h3><p><img src=\"https://user-images.githubusercontent.com/4915189/71431522-40984300-270d-11ea-8fb8-9a3b79ec213a.png\" alt=\"09 S1IO\"></p>\n<p>09S1S1<strong></strong></p>\n<p>n1n1n1</p>\n<p>n2S1</p>\n<p></p>\n<p>1 IO</p>\n<p>2 </p>\n<p>3 n2n1</p>\n<p>4 <strong></strong>IO</p>\n<p>5<strong>IO</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SQLKylin</p>\n<p>KylinHadoopSQLKylinSQLOLAPHadoop</p>\n<p>Kylin</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>8G32G</p>\n","site":{"data":{}},"excerpt":"<p>JMCJava Mission ControllJFRJava Flight RecordJProfileJavaOutOfMemroy</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><strong></strong></li>\n<li><strong>function</strong>dubbohttpfunction</li>\n<li><strong></strong>Web</li>\n<li><strong></strong>RPC</li>\n<li><strong>procedure</strong>procedure</li>\n<li><strong>Limit</strong>functionprocedurelimitlimit offset, numberOffsetnumberoffset</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>OutOfMemoryError</p>\n<h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><p>82991192.168.8.181OutOfMemoryError</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: GC overhead limit exceeded<br><img src=\"https://user-images.githubusercontent.com/4915189/71431495-1c3c6680-270d-11ea-90d1-363a669926ad.png\" alt=\"OutOfMemoryError\"></p>\n</blockquote>\n<h2 id=\"OS\"><a href=\"#OS\" class=\"headerlink\" title=\"OS\"></a>OS</h2><p>181Xmx8GOutOfMemoryErrormemory8G+swapmemory9GOutOfMemoryError1GswapOS</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Web</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Java Flight Recoder1811OutOfMemoryError</p>\n<h2 id=\"CPU\"><a href=\"#CPU\" class=\"headerlink\" title=\"CPU\"></a>CPU</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431503-20688400-270d-11ea-9daa-25778fbe457c.png\" alt=\"01 OutOfMemoryErrorCPU\"></p>\n<p>01OutOfMemoryErrorCPUCPUJVM01</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431506-23fc0b00-270d-11ea-9cde-f38238128793.png\" alt=\"02 OutOfMemoryError\"></p>\n<p>02OutOfMemoryErrorCPUdubbo</p>\n<p>OutOfMemoryError</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431507-28c0bf00-270d-11ea-8279-1079cb2c8039.png\" alt=\"03 OutOfMemoryError\"></p>\n<p>03GC3GdumpmergeDatamergeData</p>\n<p><strong>3.4 </strong>OutOfMemoryError</p>\n<h2 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431509-2bbbaf80-270d-11ea-922d-2be36cd1c0a1.png\" alt=\"04 OutOfMemoryErroryoung gcfull gc\"></p>\n<p>04gcfull gc252young gc9full gc750young gc3.2GC05</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431511-2eb6a000-270d-11ea-93ee-2ea28c6759d1.png\" alt=\" 05 Park\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431514-3413ea80-270d-11ea-8f82-040fe8cbb8cc.png\" alt=\"06 OutOfMemoryErrorFULL GC\"></p>\n<p>06OutOfMemoryErrorFULL GC400MJVMGC overhead limit exceededGC</p>\n<p>Full GCJVMJVMOutOfMemoryErrorOutOfMemoryErrorJVMJVM<strong></strong>OutOfMemoryError</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431518-370edb00-270d-11ea-8da0-368182699273.png\" alt=\"07 0ld gen\"></p>\n<p>307old gengcold gen0.07GBJVM</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>OutOfMemoryErrorJVM</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431520-3c6c2580-270d-11ea-96a7-600262a7dedb.png\" alt=\"08 \"></p>\n<p>08OutOfMemoryErrorS1S2S1S2S1S2JVMFull GCOutOfMemoryError</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>1 </p>\n<p>2 </p>\n<p>3 </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong>1</strong></p>\n<p></p>\n<p><strong>2</strong></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p></p>\n<p><strong>3</strong></p>\n<p></p>\n<p><strong>4limit</strong></p>\n<p>10000</p>\n<p><strong>5</strong></p>\n<p>1510nullJVM</p>\n<h3 id=\"IO\"><a href=\"#IO\" class=\"headerlink\" title=\"IO\"></a>IO</h3><p><img src=\"https://user-images.githubusercontent.com/4915189/71431522-40984300-270d-11ea-8fb8-9a3b79ec213a.png\" alt=\"09 S1IO\"></p>\n<p>09S1S1<strong></strong></p>\n<p>n1n1n1</p>\n<p>n2S1</p>\n<p></p>\n<p>1 IO</p>\n<p>2 </p>\n<p>3 n2n1</p>\n<p>4 <strong></strong>IO</p>\n<p>5<strong>IO</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>SQLKylin</p>\n<p>KylinHadoopSQLKylinSQLOLAPHadoop</p>\n<p>Kylin</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>8G32G</p>"},{"title":"MySQL01 | Group By","date":"2018-09-13T12:00:03.000Z","comments":1,"_content":"\nMySQL4group by\n\n<!-- more -->\n\n## \n\nUser\n\nuserid|username|orgid\n---|---|---\n1|jay|10\n2|tom|11\n3|shelly|12\n\nOrg\n\norgid|orgname\n---|---\n10|gdut\n12|gzut\n15|skj\n\n### \n\n`A [left|right|inner|full] join B on A.x = B.y``[]`4`inner`4\n\n- inner\n- left\n- right\n- full\n\n### \n\n`A.x = B.y`ABAxByxyjoinAB\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431479-0dee4a80-270d-11ea-8bdd-da043078410d.png)\n\njoinABAB\n\nuserid|username|orgid(user)|orgid(org)|orgname\n---|---|---|---|---\n\norgidselectSQL\n\n```\nSELECT u.userid, u.username, u.orgid, o.orgname FROM user u join org o ON u.orgid = o.orgid\n```\n\nleft joinAB\n\n- B\n- BNULL\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n2|tom|11|NULL\n3|shelly|12|gzut\n\nright joinright joinBABorgid\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n3|shelly|12|gzut\nNULL|NULL|15|skj\n\ninner joinABorgid\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n3|shelly|12|gzut\n\nfull join`(left join) + (right join) - (inner join)`\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n2|tom|11|NULL\n3|shelly|12|gzut\nNULL|NULL|15|skj\n\n## Cross Join\n\nJoinusercross join orgSQL\n\n```\nSELECT \n    u.userid,\n    u.username,\n    u.orgid,\n    o.orgname\nFROM\n    user u cross join org o -- cross join\n```\n\n\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n1|jay|10|gzut\n1|jay|10|skj\n2|tom|11|gdut\n2|tom|11|gzut\n2|tom|11|skj\n3|shelly|12|gdut\n3|shelly|12|gzut\n3|shelly|12|skj\n\ncross joinwhereBwhereSQLinner join\n\n```\nSELECT \n    u.userid,\n    u.username,\n    u.orgid,\n    o.orgname\nFROM\n    user u, org o -- cross join\nWHERE\n    u.orgid = o.orgid\n```\n\n## group by\n\n`group by`\n\n```\nSELECT \n    u.userid,\n    u.username,\n    u.orgid,\n    o.orgname\nFROM\n    user u cross join org o\nGROUP BY u.userid\n```\n\nSQLuserid\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n2|tom|11|gdut\n3|shelly|12|gdut\n\n`group by`count()avg()SQL\n\n```\nSELECT \n    u.userid, count(*)\nFROM\n    user u cross join org o\nGROUP BY u.userid\n```\n\n\n\nuserid|count\n---|---\n1|3\n2|3\n3|3\n\n`group by``group by``group by a, b`**ab**","source":"_posts/2018-09-13-basic-concept-of-mysql-1.md","raw":"---\ntitle: MySQL01 | Group By\ndate: 2018-09-13 20:00:03\ntags: 'MySQL'\ncomments: true\ncategories: ['']\n---\n\nMySQL4group by\n\n<!-- more -->\n\n## \n\nUser\n\nuserid|username|orgid\n---|---|---\n1|jay|10\n2|tom|11\n3|shelly|12\n\nOrg\n\norgid|orgname\n---|---\n10|gdut\n12|gzut\n15|skj\n\n### \n\n`A [left|right|inner|full] join B on A.x = B.y``[]`4`inner`4\n\n- inner\n- left\n- right\n- full\n\n### \n\n`A.x = B.y`ABAxByxyjoinAB\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431479-0dee4a80-270d-11ea-8bdd-da043078410d.png)\n\njoinABAB\n\nuserid|username|orgid(user)|orgid(org)|orgname\n---|---|---|---|---\n\norgidselectSQL\n\n```\nSELECT u.userid, u.username, u.orgid, o.orgname FROM user u join org o ON u.orgid = o.orgid\n```\n\nleft joinAB\n\n- B\n- BNULL\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n2|tom|11|NULL\n3|shelly|12|gzut\n\nright joinright joinBABorgid\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n3|shelly|12|gzut\nNULL|NULL|15|skj\n\ninner joinABorgid\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n3|shelly|12|gzut\n\nfull join`(left join) + (right join) - (inner join)`\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n2|tom|11|NULL\n3|shelly|12|gzut\nNULL|NULL|15|skj\n\n## Cross Join\n\nJoinusercross join orgSQL\n\n```\nSELECT \n    u.userid,\n    u.username,\n    u.orgid,\n    o.orgname\nFROM\n    user u cross join org o -- cross join\n```\n\n\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n1|jay|10|gzut\n1|jay|10|skj\n2|tom|11|gdut\n2|tom|11|gzut\n2|tom|11|skj\n3|shelly|12|gdut\n3|shelly|12|gzut\n3|shelly|12|skj\n\ncross joinwhereBwhereSQLinner join\n\n```\nSELECT \n    u.userid,\n    u.username,\n    u.orgid,\n    o.orgname\nFROM\n    user u, org o -- cross join\nWHERE\n    u.orgid = o.orgid\n```\n\n## group by\n\n`group by`\n\n```\nSELECT \n    u.userid,\n    u.username,\n    u.orgid,\n    o.orgname\nFROM\n    user u cross join org o\nGROUP BY u.userid\n```\n\nSQLuserid\n\nuserid|username|orgid|orgname\n---|---|---|---\n1|jay|10|gdut\n2|tom|11|gdut\n3|shelly|12|gdut\n\n`group by`count()avg()SQL\n\n```\nSELECT \n    u.userid, count(*)\nFROM\n    user u cross join org o\nGROUP BY u.userid\n```\n\n\n\nuserid|count\n---|---\n1|3\n2|3\n3|3\n\n`group by``group by``group by a, b`**ab**","slug":"basic-concept-of-mysql-1","published":1,"updated":"2020-04-12T03:31:59.775Z","_id":"ck8wh7lc6002w4supokmz9upn","layout":"post","photos":[],"link":"","content":"<p>MySQL4group by</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>User</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n</tr>\n</tbody>\n</table>\n<p>Org</p>\n<table>\n<thead>\n<tr>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>15</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>A [left|right|inner|full] join B on A.x = B.y</code><code>[]</code>4<code>inner</code>4</p>\n<ul>\n<li>inner</li>\n<li>left</li>\n<li>right</li>\n<li>full</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>A.x = B.y</code>ABAxByxyjoinAB</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431479-0dee4a80-270d-11ea-8bdd-da043078410d.png\" alt=\"image.png\"></p>\n<p>joinABAB</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid(user)</th>\n<th>orgid(org)</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>orgidselectSQL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT u.userid, u.username, u.orgid, o.orgname FROM user u join org o ON u.orgid = o.orgid</span><br></pre></td></tr></table></figure>\n<p>left joinAB</p>\n<ul>\n<li>B</li>\n<li>BNULL</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n</tbody>\n</table>\n<p>right joinright joinBABorgid</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>NULL</td>\n<td>NULL</td>\n<td>15</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<p>inner joinABorgid</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n</tbody>\n</table>\n<p>full join<code>(left join) + (right join) - (inner join)</code></p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>NULL</td>\n<td>NULL</td>\n<td>15</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Cross-Join\"><a href=\"#Cross-Join\" class=\"headerlink\" title=\"Cross Join\"></a>Cross Join</h2><p>Joinusercross join orgSQL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid,</span><br><span class=\"line\">    u.username,</span><br><span class=\"line\">    u.orgid,</span><br><span class=\"line\">    o.orgname</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u cross join org o -- cross join</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>skj</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>skj</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<p>cross joinwhereBwhereSQLinner join</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid,</span><br><span class=\"line\">    u.username,</span><br><span class=\"line\">    u.orgid,</span><br><span class=\"line\">    o.orgname</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u, org o -- cross join</span><br><span class=\"line\">WHERE</span><br><span class=\"line\">    u.orgid = o.orgid</span><br></pre></td></tr></table></figure>\n<h2 id=\"group-by\"><a href=\"#group-by\" class=\"headerlink\" title=\"group by\"></a>group by</h2><p><code>group by</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid,</span><br><span class=\"line\">    u.username,</span><br><span class=\"line\">    u.orgid,</span><br><span class=\"line\">    o.orgname</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u cross join org o</span><br><span class=\"line\">GROUP BY u.userid</span><br></pre></td></tr></table></figure>\n<p>SQLuserid</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gdut</td>\n</tr>\n</tbody>\n</table>\n<p><code>group by</code>count()avg()SQL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid, count(*)</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u cross join org o</span><br><span class=\"line\">GROUP BY u.userid</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>count</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>3</td>\n</tr>\n<tr>\n<td>2</td>\n<td>3</td>\n</tr>\n<tr>\n<td>3</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p><code>group by</code><code>group by</code><code>group by a, b</code><strong>ab</strong></p>\n","site":{"data":{}},"excerpt":"<p>MySQL4group by</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>User</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n</tr>\n</tbody>\n</table>\n<p>Org</p>\n<table>\n<thead>\n<tr>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>15</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>A [left|right|inner|full] join B on A.x = B.y</code><code>[]</code>4<code>inner</code>4</p>\n<ul>\n<li>inner</li>\n<li>left</li>\n<li>right</li>\n<li>full</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>A.x = B.y</code>ABAxByxyjoinAB</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431479-0dee4a80-270d-11ea-8bdd-da043078410d.png\" alt=\"image.png\"></p>\n<p>joinABAB</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid(user)</th>\n<th>orgid(org)</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>orgidselectSQL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT u.userid, u.username, u.orgid, o.orgname FROM user u join org o ON u.orgid = o.orgid</span><br></pre></td></tr></table></figure>\n<p>left joinAB</p>\n<ul>\n<li>B</li>\n<li>BNULL</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n</tbody>\n</table>\n<p>right joinright joinBABorgid</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>NULL</td>\n<td>NULL</td>\n<td>15</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<p>inner joinABorgid</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n</tbody>\n</table>\n<p>full join<code>(left join) + (right join) - (inner join)</code></p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>NULL</td>\n<td>NULL</td>\n<td>15</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"Cross-Join\"><a href=\"#Cross-Join\" class=\"headerlink\" title=\"Cross Join\"></a>Cross Join</h2><p>Joinusercross join orgSQL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid,</span><br><span class=\"line\">    u.username,</span><br><span class=\"line\">    u.orgid,</span><br><span class=\"line\">    o.orgname</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u cross join org o -- cross join</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>skj</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>skj</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gzut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>skj</td>\n</tr>\n</tbody>\n</table>\n<p>cross joinwhereBwhereSQLinner join</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid,</span><br><span class=\"line\">    u.username,</span><br><span class=\"line\">    u.orgid,</span><br><span class=\"line\">    o.orgname</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u, org o -- cross join</span><br><span class=\"line\">WHERE</span><br><span class=\"line\">    u.orgid = o.orgid</span><br></pre></td></tr></table></figure>\n<h2 id=\"group-by\"><a href=\"#group-by\" class=\"headerlink\" title=\"group by\"></a>group by</h2><p><code>group by</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid,</span><br><span class=\"line\">    u.username,</span><br><span class=\"line\">    u.orgid,</span><br><span class=\"line\">    o.orgname</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u cross join org o</span><br><span class=\"line\">GROUP BY u.userid</span><br></pre></td></tr></table></figure>\n<p>SQLuserid</p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>username</th>\n<th>orgid</th>\n<th>orgname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>jay</td>\n<td>10</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>2</td>\n<td>tom</td>\n<td>11</td>\n<td>gdut</td>\n</tr>\n<tr>\n<td>3</td>\n<td>shelly</td>\n<td>12</td>\n<td>gdut</td>\n</tr>\n</tbody>\n</table>\n<p><code>group by</code>count()avg()SQL</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT </span><br><span class=\"line\">    u.userid, count(*)</span><br><span class=\"line\">FROM</span><br><span class=\"line\">    user u cross join org o</span><br><span class=\"line\">GROUP BY u.userid</span><br></pre></td></tr></table></figure>\n<p></p>\n<table>\n<thead>\n<tr>\n<th>userid</th>\n<th>count</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>3</td>\n</tr>\n<tr>\n<td>2</td>\n<td>3</td>\n</tr>\n<tr>\n<td>3</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p><code>group by</code><code>group by</code><code>group by a, b</code><strong>ab</strong></p>"},{"title":"TCP","date":"2018-09-20T15:57:43.000Z","comments":1,"_content":"\nTCP\n\n<!--more-->\n\n![20170120191710076.png](https://user-images.githubusercontent.com/4915189/71431467-f7e08a00-270c-11ea-922b-0f1638cb8b61.png)\n\n\n\n- connect\n- bind\n- \n- FIN\n\n\n## CLOSED\n\n- SYNSYN_SENTACKCLOSED\n- FINACKCLOSE_WAITCLOSEDFINLAST_ACKACKCLOSED\n- FINTIME_WAIT2MSLCLOSED\n- SO_LINGERsocket close\n\n## CLOSE_WAIT\n\nsocketFINsocket closeJavaMinaNettyIDLEEXCEPTION_CAUGHTsocketclose\n\n## FIN_WAIT\n\n- FIN_WAIT-1FIN\n- ACKFIN_WAIT-2\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431469-fca53e00-270c-11ea-97ce-e684f88792d6.png)\n\n## SYN_RCVDESTABLISHED\n\n- SYN_RCVDSockettcp_max_syn_backlogSYN FloodTCPSYN_RCVDACKSYNLinuxSYNcookietcp_max_syn_backlog\n- ESTABLISHEDSocketbacklogacceptACKRST\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431473-029b1f00-270d-11ea-9acf-cd848b9705b7.png)\n","source":"_posts/2018-09-20-tcp-state.md","raw":"---\ntitle: TCP\ndate: 2018-09-20 23:57:43\ntags: 'TCP/IP'\ncomments: true\ncategories: ['']\n---\n\nTCP\n\n<!--more-->\n\n![20170120191710076.png](https://user-images.githubusercontent.com/4915189/71431467-f7e08a00-270c-11ea-922b-0f1638cb8b61.png)\n\n\n\n- connect\n- bind\n- \n- FIN\n\n\n## CLOSED\n\n- SYNSYN_SENTACKCLOSED\n- FINACKCLOSE_WAITCLOSEDFINLAST_ACKACKCLOSED\n- FINTIME_WAIT2MSLCLOSED\n- SO_LINGERsocket close\n\n## CLOSE_WAIT\n\nsocketFINsocket closeJavaMinaNettyIDLEEXCEPTION_CAUGHTsocketclose\n\n## FIN_WAIT\n\n- FIN_WAIT-1FIN\n- ACKFIN_WAIT-2\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431469-fca53e00-270c-11ea-97ce-e684f88792d6.png)\n\n## SYN_RCVDESTABLISHED\n\n- SYN_RCVDSockettcp_max_syn_backlogSYN FloodTCPSYN_RCVDACKSYNLinuxSYNcookietcp_max_syn_backlog\n- ESTABLISHEDSocketbacklogacceptACKRST\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431473-029b1f00-270d-11ea-9acf-cd848b9705b7.png)\n","slug":"tcp-state","published":1,"updated":"2020-04-12T03:32:10.804Z","_id":"ck8wh7lc9002z4sup7zpwmd7q","layout":"post","photos":[],"link":"","content":"<p>TCP</p>\n<a id=\"more\"></a>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431467-f7e08a00-270c-11ea-922b-0f1638cb8b61.png\" alt=\"20170120191710076.png\"></p>\n<p></p>\n<ul>\n<li>connect</li>\n<li>bind</li>\n<li></li>\n<li>FIN</li>\n</ul>\n<h2 id=\"CLOSED\"><a href=\"#CLOSED\" class=\"headerlink\" title=\"CLOSED\"></a>CLOSED</h2><ul>\n<li>SYNSYN_SENTACKCLOSED</li>\n<li>FINACKCLOSE_WAITCLOSEDFINLAST_ACKACKCLOSED</li>\n<li>FINTIME_WAIT2MSLCLOSED</li>\n<li>SO_LINGERsocket close</li>\n</ul>\n<h2 id=\"CLOSE-WAIT\"><a href=\"#CLOSE-WAIT\" class=\"headerlink\" title=\"CLOSE_WAIT\"></a>CLOSE_WAIT</h2><p>socketFINsocket closeJavaMinaNettyIDLEEXCEPTION_CAUGHTsocketclose</p>\n<h2 id=\"FIN-WAIT\"><a href=\"#FIN-WAIT\" class=\"headerlink\" title=\"FIN_WAIT\"></a>FIN_WAIT</h2><ul>\n<li>FIN_WAIT-1FIN</li>\n<li>ACKFIN_WAIT-2</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431469-fca53e00-270c-11ea-97ce-e684f88792d6.png\" alt=\"image.png\"></p>\n<h2 id=\"SYN-RCVDESTABLISHED\"><a href=\"#SYN-RCVDESTABLISHED\" class=\"headerlink\" title=\"SYN_RCVDESTABLISHED\"></a>SYN_RCVDESTABLISHED</h2><ul>\n<li>SYN_RCVDSockettcp_max_syn_backlogSYN FloodTCPSYN_RCVDACKSYNLinuxSYNcookietcp_max_syn_backlog</li>\n<li>ESTABLISHEDSocketbacklogacceptACKRST</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431473-029b1f00-270d-11ea-9acf-cd848b9705b7.png\" alt=\"image.png\"></p>\n","site":{"data":{}},"excerpt":"<p>TCP</p>","more":"<p><img src=\"https://user-images.githubusercontent.com/4915189/71431467-f7e08a00-270c-11ea-922b-0f1638cb8b61.png\" alt=\"20170120191710076.png\"></p>\n<p></p>\n<ul>\n<li>connect</li>\n<li>bind</li>\n<li></li>\n<li>FIN</li>\n</ul>\n<h2 id=\"CLOSED\"><a href=\"#CLOSED\" class=\"headerlink\" title=\"CLOSED\"></a>CLOSED</h2><ul>\n<li>SYNSYN_SENTACKCLOSED</li>\n<li>FINACKCLOSE_WAITCLOSEDFINLAST_ACKACKCLOSED</li>\n<li>FINTIME_WAIT2MSLCLOSED</li>\n<li>SO_LINGERsocket close</li>\n</ul>\n<h2 id=\"CLOSE-WAIT\"><a href=\"#CLOSE-WAIT\" class=\"headerlink\" title=\"CLOSE_WAIT\"></a>CLOSE_WAIT</h2><p>socketFINsocket closeJavaMinaNettyIDLEEXCEPTION_CAUGHTsocketclose</p>\n<h2 id=\"FIN-WAIT\"><a href=\"#FIN-WAIT\" class=\"headerlink\" title=\"FIN_WAIT\"></a>FIN_WAIT</h2><ul>\n<li>FIN_WAIT-1FIN</li>\n<li>ACKFIN_WAIT-2</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431469-fca53e00-270c-11ea-97ce-e684f88792d6.png\" alt=\"image.png\"></p>\n<h2 id=\"SYN-RCVDESTABLISHED\"><a href=\"#SYN-RCVDESTABLISHED\" class=\"headerlink\" title=\"SYN_RCVDESTABLISHED\"></a>SYN_RCVDESTABLISHED</h2><ul>\n<li>SYN_RCVDSockettcp_max_syn_backlogSYN FloodTCPSYN_RCVDACKSYNLinuxSYNcookietcp_max_syn_backlog</li>\n<li>ESTABLISHEDSocketbacklogacceptACKRST</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431473-029b1f00-270d-11ea-9acf-cd848b9705b7.png\" alt=\"image.png\"></p>"},{"title":"javaCPU","date":"2018-07-07T15:13:53.000Z","comments":1,"_content":"\nJavabbblackCPU60%70%\n\n<!--more-->\n\nGitHub[jvmtop](https://github.com/patric-r/jvmtop)jvmtopJavapidprofile\n\n```java\njvmtop <pid>\n```\n\n\n```\nJvmTop 0.4.1 alpha   amd64,  4 cpus, Linux 2.6.18-34\n https://github.com/patric-r/jvmtop\n\n PID 3539: org.apache.catalina.startup.Bootstrap\n ARGS: start\n VMARGS: -Djava.util.logging.config.file=/home/webserver/apache-tomcat-5.5[...]\n VM: Sun Microsystems Inc. Java HotSpot(TM) 64-Bit Server VM 1.6.0_25\n UP: 869:33m #THR: 106  #THRPEAK: 143  #THRCREATED: 128020 USER: webserver\n CPU:  4.55% GC:  3.25% HEAP: 137m / 227m NONHEAP:  75m / 304m\n Note: Only top 10 threads (according cpu load) are shown!\n\n  TID   NAME                                    STATE    CPU  TOTALCPU BLOCKEDBY\n     25 http-8080-Processor13                RUNNABLE  4.55%     1.60%\n 128022 RMI TCP Connection(18)-10.101.       RUNNABLE  1.82%     0.02%\n  36578 http-8080-Processor164               RUNNABLE  0.91%     2.35%\n  36453 http-8080-Processor94                RUNNABLE  0.91%     1.52%\n     27 http-8080-Processor15                RUNNABLE  0.91%     1.81%\n     14 http-8080-Processor2                 RUNNABLE  0.91%     3.17%\n 128026 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n 128025 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n 128024 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n 128023 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n```\n\nCPU`jvmtop -e <pid>`CPU****\n","source":"_posts/2018-07-07-jvmtop-profile.md","raw":"---\ntitle: javaCPU\ndate: 2018-07-07 23:13:53\ntags: ['Java']\ncomments: true\ncategories: ['']\n---\n\nJavabbblackCPU60%70%\n\n<!--more-->\n\nGitHub[jvmtop](https://github.com/patric-r/jvmtop)jvmtopJavapidprofile\n\n```java\njvmtop <pid>\n```\n\n\n```\nJvmTop 0.4.1 alpha   amd64,  4 cpus, Linux 2.6.18-34\n https://github.com/patric-r/jvmtop\n\n PID 3539: org.apache.catalina.startup.Bootstrap\n ARGS: start\n VMARGS: -Djava.util.logging.config.file=/home/webserver/apache-tomcat-5.5[...]\n VM: Sun Microsystems Inc. Java HotSpot(TM) 64-Bit Server VM 1.6.0_25\n UP: 869:33m #THR: 106  #THRPEAK: 143  #THRCREATED: 128020 USER: webserver\n CPU:  4.55% GC:  3.25% HEAP: 137m / 227m NONHEAP:  75m / 304m\n Note: Only top 10 threads (according cpu load) are shown!\n\n  TID   NAME                                    STATE    CPU  TOTALCPU BLOCKEDBY\n     25 http-8080-Processor13                RUNNABLE  4.55%     1.60%\n 128022 RMI TCP Connection(18)-10.101.       RUNNABLE  1.82%     0.02%\n  36578 http-8080-Processor164               RUNNABLE  0.91%     2.35%\n  36453 http-8080-Processor94                RUNNABLE  0.91%     1.52%\n     27 http-8080-Processor15                RUNNABLE  0.91%     1.81%\n     14 http-8080-Processor2                 RUNNABLE  0.91%     3.17%\n 128026 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n 128025 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n 128024 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n 128023 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%\n```\n\nCPU`jvmtop -e <pid>`CPU****\n","slug":"jvmtop-profile","published":1,"updated":"2020-04-12T03:43:22.244Z","_id":"ck8wh7lcb00324supmuqbfn53","layout":"post","photos":[],"link":"","content":"<p>JavabbblackCPU60%70%</p>\n<a id=\"more\"></a>\n<p>GitHub<a href=\"https://github.com/patric-r/jvmtop\" target=\"_blank\" rel=\"noopener\">jvmtop</a>jvmtopJavapidprofile</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jvmtop &lt;pid&gt;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JvmTop 0.4.1 alpha   amd64,  4 cpus, Linux 2.6.18-34</span><br><span class=\"line\"> https://github.com/patric-r/jvmtop</span><br><span class=\"line\"></span><br><span class=\"line\"> PID 3539: org.apache.catalina.startup.Bootstrap</span><br><span class=\"line\"> ARGS: start</span><br><span class=\"line\"> VMARGS: -Djava.util.logging.config.file=/home/webserver/apache-tomcat-5.5[...]</span><br><span class=\"line\"> VM: Sun Microsystems Inc. Java HotSpot(TM) 64-Bit Server VM 1.6.0_25</span><br><span class=\"line\"> UP: 869:33m #THR: 106  #THRPEAK: 143  #THRCREATED: 128020 USER: webserver</span><br><span class=\"line\"> CPU:  4.55% GC:  3.25% HEAP: 137m / 227m NONHEAP:  75m / 304m</span><br><span class=\"line\"> Note: Only top 10 threads (according cpu load) are shown!</span><br><span class=\"line\"></span><br><span class=\"line\">  TID   NAME                                    STATE    CPU  TOTALCPU BLOCKEDBY</span><br><span class=\"line\">     25 http-8080-Processor13                RUNNABLE  4.55%     1.60%</span><br><span class=\"line\"> 128022 RMI TCP Connection(18)-10.101.       RUNNABLE  1.82%     0.02%</span><br><span class=\"line\">  36578 http-8080-Processor164               RUNNABLE  0.91%     2.35%</span><br><span class=\"line\">  36453 http-8080-Processor94                RUNNABLE  0.91%     1.52%</span><br><span class=\"line\">     27 http-8080-Processor15                RUNNABLE  0.91%     1.81%</span><br><span class=\"line\">     14 http-8080-Processor2                 RUNNABLE  0.91%     3.17%</span><br><span class=\"line\"> 128026 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br><span class=\"line\"> 128025 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br><span class=\"line\"> 128024 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br><span class=\"line\"> 128023 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br></pre></td></tr></table></figure></p>\n<p>CPU<code>jvmtop -e &lt;pid&gt;</code>CPU<strong></strong></p>\n","site":{"data":{}},"excerpt":"<p>JavabbblackCPU60%70%</p>","more":"<p>GitHub<a href=\"https://github.com/patric-r/jvmtop\" target=\"_blank\" rel=\"noopener\">jvmtop</a>jvmtopJavapidprofile</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jvmtop &lt;pid&gt;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JvmTop 0.4.1 alpha   amd64,  4 cpus, Linux 2.6.18-34</span><br><span class=\"line\"> https://github.com/patric-r/jvmtop</span><br><span class=\"line\"></span><br><span class=\"line\"> PID 3539: org.apache.catalina.startup.Bootstrap</span><br><span class=\"line\"> ARGS: start</span><br><span class=\"line\"> VMARGS: -Djava.util.logging.config.file=/home/webserver/apache-tomcat-5.5[...]</span><br><span class=\"line\"> VM: Sun Microsystems Inc. Java HotSpot(TM) 64-Bit Server VM 1.6.0_25</span><br><span class=\"line\"> UP: 869:33m #THR: 106  #THRPEAK: 143  #THRCREATED: 128020 USER: webserver</span><br><span class=\"line\"> CPU:  4.55% GC:  3.25% HEAP: 137m / 227m NONHEAP:  75m / 304m</span><br><span class=\"line\"> Note: Only top 10 threads (according cpu load) are shown!</span><br><span class=\"line\"></span><br><span class=\"line\">  TID   NAME                                    STATE    CPU  TOTALCPU BLOCKEDBY</span><br><span class=\"line\">     25 http-8080-Processor13                RUNNABLE  4.55%     1.60%</span><br><span class=\"line\"> 128022 RMI TCP Connection(18)-10.101.       RUNNABLE  1.82%     0.02%</span><br><span class=\"line\">  36578 http-8080-Processor164               RUNNABLE  0.91%     2.35%</span><br><span class=\"line\">  36453 http-8080-Processor94                RUNNABLE  0.91%     1.52%</span><br><span class=\"line\">     27 http-8080-Processor15                RUNNABLE  0.91%     1.81%</span><br><span class=\"line\">     14 http-8080-Processor2                 RUNNABLE  0.91%     3.17%</span><br><span class=\"line\"> 128026 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br><span class=\"line\"> 128025 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br><span class=\"line\"> 128024 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br><span class=\"line\"> 128023 JMX server connection timeout   TIMED_WAITING  0.00%     0.00%</span><br></pre></td></tr></table></figure></p>\n<p>CPU<code>jvmtop -e &lt;pid&gt;</code>CPU<strong></strong></p>"},{"title":"mysql mmmmha","date":"2019-03-16T08:50:39.000Z","comments":1,"_content":"\nMySQLhigh availabilityMMMMHA\n\n<!--more-->\n\n## MMM\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431448-e5fee700-270c-11ea-8139-12d41a02f4b4.png)\n\nMMM(Master-Master replication managerfor Mysql)\n- master1\n- master2replicatemaster1monitormaster1replicatesemi-sync\n- slave1replicatemaster1master1replicate\n- salve2slave1\n- mmm-agent3monitor\n- mmm-monmonitormmm-agent\n- wvipIPmaster1\n- rvipIPslave1slave2\n\nMMM\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431454-eac39b00-270c-11ea-9899-b51b6260851f.png)\n\n- master1mmm-agentmmm-mon\n- mmm-monmaster1agentVIP\n- mmm-monmaster2agentVIP\n- mmm-monslaveagentmasterreplicate\n\n\n\n\n\n- \n- fail\n\n\n\n- mmm-mon\n- mmm-agent\n- master\n- master\n- VIP\n- VIPVIPARP\n- \n- masterrelay log\n\n## MHA\n\nMHA(Master High Availability)MMMmasterMHA12TMHA11\n\n- master\n- slavereplicate\n- wvipIP\n- rvipIP\n- managermasterslavemanagersshmanagersshmanagermysql-clientmanager\n\nmaster\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431458-ee572200-270c-11ea-846c-bcf25ff79b5a.png)\n\n\n- masterbinlog events;\n- slave\n- relay logslave\n- masterbinlog events\n- masterVIPslavemaster\n- slavemaster\n- mastervipmaster\n\n\n\n- MMMmaster\n- \n- \n\n\n\n- manager\n- master\n- VIP\n- \n- \n- SSH\n\n## VIP\n\nVIP\n\n- eth0:0MACIPVIP\n- VIPARPVIPMACVIPMAC\n- MACMAC\n\nVIP\n\n- master\n- masterMAC\n- VIPMACMAC\n\nmasterVIPARPVIPMACMACmastermastermanagerVIP\n\n\n- https://github.blog/2018-06-20-mysql-high-availability-at-github/\n- https://dzone.com/articles/choosing-mysql-high-availability-solutions\n- https://cloud.tencent.com/developer/article/1056162\n- http://www.fblinux.com/?p=1044","source":"_posts/2019-03-16-mysql-mmm-mha.md","raw":"---\ntitle: mysql mmmmha\ndate: 2019-03-16 16:50:39\ntags: ['MySQL']\ncomments: true\ncategories: ['']\n---\n\nMySQLhigh availabilityMMMMHA\n\n<!--more-->\n\n## MMM\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431448-e5fee700-270c-11ea-8139-12d41a02f4b4.png)\n\nMMM(Master-Master replication managerfor Mysql)\n- master1\n- master2replicatemaster1monitormaster1replicatesemi-sync\n- slave1replicatemaster1master1replicate\n- salve2slave1\n- mmm-agent3monitor\n- mmm-monmonitormmm-agent\n- wvipIPmaster1\n- rvipIPslave1slave2\n\nMMM\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431454-eac39b00-270c-11ea-9899-b51b6260851f.png)\n\n- master1mmm-agentmmm-mon\n- mmm-monmaster1agentVIP\n- mmm-monmaster2agentVIP\n- mmm-monslaveagentmasterreplicate\n\n\n\n\n\n- \n- fail\n\n\n\n- mmm-mon\n- mmm-agent\n- master\n- master\n- VIP\n- VIPVIPARP\n- \n- masterrelay log\n\n## MHA\n\nMHA(Master High Availability)MMMmasterMHA12TMHA11\n\n- master\n- slavereplicate\n- wvipIP\n- rvipIP\n- managermasterslavemanagersshmanagersshmanagermysql-clientmanager\n\nmaster\n\n![image.png](https://user-images.githubusercontent.com/4915189/71431458-ee572200-270c-11ea-846c-bcf25ff79b5a.png)\n\n\n- masterbinlog events;\n- slave\n- relay logslave\n- masterbinlog events\n- masterVIPslavemaster\n- slavemaster\n- mastervipmaster\n\n\n\n- MMMmaster\n- \n- \n\n\n\n- manager\n- master\n- VIP\n- \n- \n- SSH\n\n## VIP\n\nVIP\n\n- eth0:0MACIPVIP\n- VIPARPVIPMACVIPMAC\n- MACMAC\n\nVIP\n\n- master\n- masterMAC\n- VIPMACMAC\n\nmasterVIPARPVIPMACMACmastermastermanagerVIP\n\n\n- https://github.blog/2018-06-20-mysql-high-availability-at-github/\n- https://dzone.com/articles/choosing-mysql-high-availability-solutions\n- https://cloud.tencent.com/developer/article/1056162\n- http://www.fblinux.com/?p=1044","slug":"mysql-mmm-mha","published":1,"updated":"2020-04-12T03:32:21.022Z","_id":"ck8wh7lcd00344sup5bherglm","layout":"post","photos":[],"link":"","content":"<p>MySQLhigh availabilityMMMMHA</p>\n<a id=\"more\"></a>\n<h2 id=\"MMM\"><a href=\"#MMM\" class=\"headerlink\" title=\"MMM\"></a>MMM</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431448-e5fee700-270c-11ea-8139-12d41a02f4b4.png\" alt=\"image.png\"></p>\n<p>MMM(Master-Master replication managerfor Mysql)</p>\n<ul>\n<li>master1</li>\n<li>master2replicatemaster1monitormaster1replicatesemi-sync</li>\n<li>slave1replicatemaster1master1replicate</li>\n<li>salve2slave1</li>\n<li>mmm-agent3monitor</li>\n<li>mmm-monmonitormmm-agent</li>\n<li>wvipIPmaster1</li>\n<li>rvipIPslave1slave2</li>\n</ul>\n<p>MMM</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431454-eac39b00-270c-11ea-9899-b51b6260851f.png\" alt=\"image.png\"></p>\n<ul>\n<li>master1mmm-agentmmm-mon</li>\n<li>mmm-monmaster1agentVIP</li>\n<li>mmm-monmaster2agentVIP</li>\n<li>mmm-monslaveagentmasterreplicate</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li>fail</li>\n</ul>\n<p></p>\n<ul>\n<li>mmm-mon</li>\n<li>mmm-agent</li>\n<li>master</li>\n<li>master</li>\n<li>VIP</li>\n<li>VIPVIPARP</li>\n<li></li>\n<li>masterrelay log</li>\n</ul>\n<h2 id=\"MHA\"><a href=\"#MHA\" class=\"headerlink\" title=\"MHA\"></a>MHA</h2><p>MHA(Master High Availability)MMMmasterMHA12TMHA11</p>\n<ul>\n<li>master</li>\n<li>slavereplicate</li>\n<li>wvipIP</li>\n<li>rvipIP</li>\n<li>managermasterslavemanagersshmanagersshmanagermysql-clientmanager</li>\n</ul>\n<p>master</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431458-ee572200-270c-11ea-846c-bcf25ff79b5a.png\" alt=\"image.png\"></p>\n<ul>\n<li>masterbinlog events;</li>\n<li>slave</li>\n<li>relay logslave</li>\n<li>masterbinlog events</li>\n<li>masterVIPslavemaster</li>\n<li>slavemaster</li>\n<li>mastervipmaster</li>\n</ul>\n<p></p>\n<ul>\n<li>MMMmaster</li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>manager</li>\n<li>master</li>\n<li>VIP</li>\n<li></li>\n<li></li>\n<li>SSH</li>\n</ul>\n<h2 id=\"VIP\"><a href=\"#VIP\" class=\"headerlink\" title=\"VIP\"></a>VIP</h2><p>VIP</p>\n<ul>\n<li>eth0:0MACIPVIP</li>\n<li>VIPARPVIPMACVIPMAC</li>\n<li>MACMAC</li>\n</ul>\n<p>VIP</p>\n<ul>\n<li>master</li>\n<li>masterMAC</li>\n<li>VIPMACMAC</li>\n</ul>\n<p>masterVIPARPVIPMACMACmastermastermanagerVIP</p>\n<p></p>\n<ul>\n<li><a href=\"https://github.blog/2018-06-20-mysql-high-availability-at-github/\" target=\"_blank\" rel=\"noopener\">https://github.blog/2018-06-20-mysql-high-availability-at-github/</a></li>\n<li><a href=\"https://dzone.com/articles/choosing-mysql-high-availability-solutions\" target=\"_blank\" rel=\"noopener\">https://dzone.com/articles/choosing-mysql-high-availability-solutions</a></li>\n<li><a href=\"https://cloud.tencent.com/developer/article/1056162\" target=\"_blank\" rel=\"noopener\">https://cloud.tencent.com/developer/article/1056162</a></li>\n<li><a href=\"http://www.fblinux.com/?p=1044\" target=\"_blank\" rel=\"noopener\">http://www.fblinux.com/?p=1044</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>MySQLhigh availabilityMMMMHA</p>","more":"<h2 id=\"MMM\"><a href=\"#MMM\" class=\"headerlink\" title=\"MMM\"></a>MMM</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71431448-e5fee700-270c-11ea-8139-12d41a02f4b4.png\" alt=\"image.png\"></p>\n<p>MMM(Master-Master replication managerfor Mysql)</p>\n<ul>\n<li>master1</li>\n<li>master2replicatemaster1monitormaster1replicatesemi-sync</li>\n<li>slave1replicatemaster1master1replicate</li>\n<li>salve2slave1</li>\n<li>mmm-agent3monitor</li>\n<li>mmm-monmonitormmm-agent</li>\n<li>wvipIPmaster1</li>\n<li>rvipIPslave1slave2</li>\n</ul>\n<p>MMM</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431454-eac39b00-270c-11ea-9899-b51b6260851f.png\" alt=\"image.png\"></p>\n<ul>\n<li>master1mmm-agentmmm-mon</li>\n<li>mmm-monmaster1agentVIP</li>\n<li>mmm-monmaster2agentVIP</li>\n<li>mmm-monslaveagentmasterreplicate</li>\n</ul>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li>fail</li>\n</ul>\n<p></p>\n<ul>\n<li>mmm-mon</li>\n<li>mmm-agent</li>\n<li>master</li>\n<li>master</li>\n<li>VIP</li>\n<li>VIPVIPARP</li>\n<li></li>\n<li>masterrelay log</li>\n</ul>\n<h2 id=\"MHA\"><a href=\"#MHA\" class=\"headerlink\" title=\"MHA\"></a>MHA</h2><p>MHA(Master High Availability)MMMmasterMHA12TMHA11</p>\n<ul>\n<li>master</li>\n<li>slavereplicate</li>\n<li>wvipIP</li>\n<li>rvipIP</li>\n<li>managermasterslavemanagersshmanagersshmanagermysql-clientmanager</li>\n</ul>\n<p>master</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431458-ee572200-270c-11ea-846c-bcf25ff79b5a.png\" alt=\"image.png\"></p>\n<ul>\n<li>masterbinlog events;</li>\n<li>slave</li>\n<li>relay logslave</li>\n<li>masterbinlog events</li>\n<li>masterVIPslavemaster</li>\n<li>slavemaster</li>\n<li>mastervipmaster</li>\n</ul>\n<p></p>\n<ul>\n<li>MMMmaster</li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>manager</li>\n<li>master</li>\n<li>VIP</li>\n<li></li>\n<li></li>\n<li>SSH</li>\n</ul>\n<h2 id=\"VIP\"><a href=\"#VIP\" class=\"headerlink\" title=\"VIP\"></a>VIP</h2><p>VIP</p>\n<ul>\n<li>eth0:0MACIPVIP</li>\n<li>VIPARPVIPMACVIPMAC</li>\n<li>MACMAC</li>\n</ul>\n<p>VIP</p>\n<ul>\n<li>master</li>\n<li>masterMAC</li>\n<li>VIPMACMAC</li>\n</ul>\n<p>masterVIPARPVIPMACMACmastermastermanagerVIP</p>\n<p></p>\n<ul>\n<li><a href=\"https://github.blog/2018-06-20-mysql-high-availability-at-github/\" target=\"_blank\" rel=\"noopener\">https://github.blog/2018-06-20-mysql-high-availability-at-github/</a></li>\n<li><a href=\"https://dzone.com/articles/choosing-mysql-high-availability-solutions\" target=\"_blank\" rel=\"noopener\">https://dzone.com/articles/choosing-mysql-high-availability-solutions</a></li>\n<li><a href=\"https://cloud.tencent.com/developer/article/1056162\" target=\"_blank\" rel=\"noopener\">https://cloud.tencent.com/developer/article/1056162</a></li>\n<li><a href=\"http://www.fblinux.com/?p=1044\" target=\"_blank\" rel=\"noopener\">http://www.fblinux.com/?p=1044</a></li>\n</ul>"},{"title":"Redis Cluster & HDFS & ClustrixDB Reshard/Rebalance","date":"2019-03-31T14:12:14.000Z","comments":1,"_content":"\nrebalancereshardRedis ClusterHDFSClustrixDB\n\n<!--more-->\n\n## Redis Cluster Reshard\n\n[Redis Cluster Spec](https://redis.io/topics/cluster-spec)**Redirection and resharding**slotOriginalNew\nslot[Redis Cluster Spec](https://redis.io/topics/cluster-spec)\n\n![redis cluster reshard](https://user-images.githubusercontent.com/4915189/71431424-c23ba100-270c-11ea-91b1-1cafb8aeaef5.png)\n\n- NewRedis Instanceredis\n- OriginalslotimportingNewslotmigratingslotoriginaloriginalkeyneworiginalkeyoriginal\n- originalkeynewkeykey\n- keygossipmetadataslotnew\n\nRedis Clusteronline reshardingkeykeykeyresharding\n\n## HDFS rebalance\n\n[hdfs rebalance JIRA](https://issues.apache.org/jira/browse/HADOOP-1652)**RebalanceDesign6.pdf**\n\n![hdfs rebalance](https://user-images.githubusercontent.com/4915189/71431431-c9fb4580-270c-11ea-90b9-d851304c514a.png)\n\n- namenodedatanodesourcedestination\n- sourceblockmetadata\n- blockdestinationblock replicaproxysourcecopydestination\n- proxyblockdestination\n- destinationblocknamenodeblockmetadatablock\n- blockdestination\n\nhdfs rebalanceredis clusterofflinesafe mode\n\n## ClustrixDB rebalance\n\nClustrixDBMySQLscale[Rebalancer](http://docs.clustrix.com/display/CLXDOC/Rebalancer)Redis ClusterslotreplicareplicaNode 4Node 1\n\n\n- ClustrixDB shardingslicereplica\n- queueMySQLbinlogbinlogqueuebinlog\n\n![ClustrixDB rebalance](https://user-images.githubusercontent.com/4915189/71431435-d1225380-270c-11ea-8a89-657b928f8ded.png)\n\n- Initial StateNode 3Node 4replica\n- Data Copyepoch BNode 1replicaBuildingNode 2QueueStoreepoch ANode 4binlogNode 2queueNode 4Node 1Building replica\n- Queue ReplayNode 2queueNode 1queue\n- End of Queuequeuesynchronize queuestore & ForwardqueueNode 1\n- Queue FlippedNode 4RetiredNode 1Onlineepoch BNode 4queueforwardNode 1\n- Final stateepoch Btransactionqueue\n\nClustrixDBmetadata[Multi-Version Concurrency Control (MVCC)](http://docs.clustrix.com/display/CLXDOC/Concurrency+Control)epoch Bmetadataepoch Aepoch BqueueNode 1synchronize queueJavasynchronize queue\n\n","source":"_posts/2019-03-31-beyond-resharding.md","raw":"---\ntitle: Redis Cluster & HDFS & ClustrixDB Reshard/Rebalance\ndate: 2019-03-31 22:12:14\ntags: ['', 'MySQL', 'Redis', 'HDFS']\ncomments: true\ncategories: ['']\n---\n\nrebalancereshardRedis ClusterHDFSClustrixDB\n\n<!--more-->\n\n## Redis Cluster Reshard\n\n[Redis Cluster Spec](https://redis.io/topics/cluster-spec)**Redirection and resharding**slotOriginalNew\nslot[Redis Cluster Spec](https://redis.io/topics/cluster-spec)\n\n![redis cluster reshard](https://user-images.githubusercontent.com/4915189/71431424-c23ba100-270c-11ea-91b1-1cafb8aeaef5.png)\n\n- NewRedis Instanceredis\n- OriginalslotimportingNewslotmigratingslotoriginaloriginalkeyneworiginalkeyoriginal\n- originalkeynewkeykey\n- keygossipmetadataslotnew\n\nRedis Clusteronline reshardingkeykeykeyresharding\n\n## HDFS rebalance\n\n[hdfs rebalance JIRA](https://issues.apache.org/jira/browse/HADOOP-1652)**RebalanceDesign6.pdf**\n\n![hdfs rebalance](https://user-images.githubusercontent.com/4915189/71431431-c9fb4580-270c-11ea-90b9-d851304c514a.png)\n\n- namenodedatanodesourcedestination\n- sourceblockmetadata\n- blockdestinationblock replicaproxysourcecopydestination\n- proxyblockdestination\n- destinationblocknamenodeblockmetadatablock\n- blockdestination\n\nhdfs rebalanceredis clusterofflinesafe mode\n\n## ClustrixDB rebalance\n\nClustrixDBMySQLscale[Rebalancer](http://docs.clustrix.com/display/CLXDOC/Rebalancer)Redis ClusterslotreplicareplicaNode 4Node 1\n\n\n- ClustrixDB shardingslicereplica\n- queueMySQLbinlogbinlogqueuebinlog\n\n![ClustrixDB rebalance](https://user-images.githubusercontent.com/4915189/71431435-d1225380-270c-11ea-8a89-657b928f8ded.png)\n\n- Initial StateNode 3Node 4replica\n- Data Copyepoch BNode 1replicaBuildingNode 2QueueStoreepoch ANode 4binlogNode 2queueNode 4Node 1Building replica\n- Queue ReplayNode 2queueNode 1queue\n- End of Queuequeuesynchronize queuestore & ForwardqueueNode 1\n- Queue FlippedNode 4RetiredNode 1Onlineepoch BNode 4queueforwardNode 1\n- Final stateepoch Btransactionqueue\n\nClustrixDBmetadata[Multi-Version Concurrency Control (MVCC)](http://docs.clustrix.com/display/CLXDOC/Concurrency+Control)epoch Bmetadataepoch Aepoch BqueueNode 1synchronize queueJavasynchronize queue\n\n","slug":"beyond-resharding","published":1,"updated":"2020-04-12T03:32:32.835Z","_id":"ck8wh7lcg00374suptgycc5f4","layout":"post","photos":[],"link":"","content":"<p>rebalancereshardRedis ClusterHDFSClustrixDB</p>\n<a id=\"more\"></a>\n<h2 id=\"Redis-Cluster-Reshard\"><a href=\"#Redis-Cluster-Reshard\" class=\"headerlink\" title=\"Redis Cluster Reshard\"></a>Redis Cluster Reshard</h2><p><a href=\"https://redis.io/topics/cluster-spec\" target=\"_blank\" rel=\"noopener\">Redis Cluster Spec</a><strong>Redirection and resharding</strong>slotOriginalNew<br>slot<a href=\"https://redis.io/topics/cluster-spec\" target=\"_blank\" rel=\"noopener\">Redis Cluster Spec</a></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431424-c23ba100-270c-11ea-91b1-1cafb8aeaef5.png\" alt=\"redis cluster reshard\"></p>\n<ul>\n<li>NewRedis Instanceredis</li>\n<li>OriginalslotimportingNewslotmigratingslotoriginaloriginalkeyneworiginalkeyoriginal</li>\n<li>originalkeynewkeykey</li>\n<li>keygossipmetadataslotnew</li>\n</ul>\n<p>Redis Clusteronline reshardingkeykeykeyresharding</p>\n<h2 id=\"HDFS-rebalance\"><a href=\"#HDFS-rebalance\" class=\"headerlink\" title=\"HDFS rebalance\"></a>HDFS rebalance</h2><p><a href=\"https://issues.apache.org/jira/browse/HADOOP-1652\" target=\"_blank\" rel=\"noopener\">hdfs rebalance JIRA</a><strong>RebalanceDesign6.pdf</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431431-c9fb4580-270c-11ea-90b9-d851304c514a.png\" alt=\"hdfs rebalance\"></p>\n<ul>\n<li>namenodedatanodesourcedestination</li>\n<li>sourceblockmetadata</li>\n<li>blockdestinationblock replicaproxysourcecopydestination</li>\n<li>proxyblockdestination</li>\n<li>destinationblocknamenodeblockmetadatablock</li>\n<li>blockdestination</li>\n</ul>\n<p>hdfs rebalanceredis clusterofflinesafe mode</p>\n<h2 id=\"ClustrixDB-rebalance\"><a href=\"#ClustrixDB-rebalance\" class=\"headerlink\" title=\"ClustrixDB rebalance\"></a>ClustrixDB rebalance</h2><p>ClustrixDBMySQLscale<a href=\"http://docs.clustrix.com/display/CLXDOC/Rebalancer\" target=\"_blank\" rel=\"noopener\">Rebalancer</a>Redis ClusterslotreplicareplicaNode 4Node 1</p>\n<p></p>\n<ul>\n<li>ClustrixDB shardingslicereplica</li>\n<li>queueMySQLbinlogbinlogqueuebinlog</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431435-d1225380-270c-11ea-8a89-657b928f8ded.png\" alt=\"ClustrixDB rebalance\"></p>\n<ul>\n<li>Initial StateNode 3Node 4replica</li>\n<li>Data Copyepoch BNode 1replicaBuildingNode 2QueueStoreepoch ANode 4binlogNode 2queueNode 4Node 1Building replica</li>\n<li>Queue ReplayNode 2queueNode 1queue</li>\n<li>End of Queuequeuesynchronize queuestore &amp; ForwardqueueNode 1</li>\n<li>Queue FlippedNode 4RetiredNode 1Onlineepoch BNode 4queueforwardNode 1</li>\n<li>Final stateepoch Btransactionqueue</li>\n</ul>\n<p>ClustrixDBmetadata<a href=\"http://docs.clustrix.com/display/CLXDOC/Concurrency+Control\" target=\"_blank\" rel=\"noopener\">Multi-Version Concurrency Control (MVCC)</a>epoch Bmetadataepoch Aepoch BqueueNode 1synchronize queueJavasynchronize queue</p>\n","site":{"data":{}},"excerpt":"<p>rebalancereshardRedis ClusterHDFSClustrixDB</p>","more":"<h2 id=\"Redis-Cluster-Reshard\"><a href=\"#Redis-Cluster-Reshard\" class=\"headerlink\" title=\"Redis Cluster Reshard\"></a>Redis Cluster Reshard</h2><p><a href=\"https://redis.io/topics/cluster-spec\" target=\"_blank\" rel=\"noopener\">Redis Cluster Spec</a><strong>Redirection and resharding</strong>slotOriginalNew<br>slot<a href=\"https://redis.io/topics/cluster-spec\" target=\"_blank\" rel=\"noopener\">Redis Cluster Spec</a></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431424-c23ba100-270c-11ea-91b1-1cafb8aeaef5.png\" alt=\"redis cluster reshard\"></p>\n<ul>\n<li>NewRedis Instanceredis</li>\n<li>OriginalslotimportingNewslotmigratingslotoriginaloriginalkeyneworiginalkeyoriginal</li>\n<li>originalkeynewkeykey</li>\n<li>keygossipmetadataslotnew</li>\n</ul>\n<p>Redis Clusteronline reshardingkeykeykeyresharding</p>\n<h2 id=\"HDFS-rebalance\"><a href=\"#HDFS-rebalance\" class=\"headerlink\" title=\"HDFS rebalance\"></a>HDFS rebalance</h2><p><a href=\"https://issues.apache.org/jira/browse/HADOOP-1652\" target=\"_blank\" rel=\"noopener\">hdfs rebalance JIRA</a><strong>RebalanceDesign6.pdf</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431431-c9fb4580-270c-11ea-90b9-d851304c514a.png\" alt=\"hdfs rebalance\"></p>\n<ul>\n<li>namenodedatanodesourcedestination</li>\n<li>sourceblockmetadata</li>\n<li>blockdestinationblock replicaproxysourcecopydestination</li>\n<li>proxyblockdestination</li>\n<li>destinationblocknamenodeblockmetadatablock</li>\n<li>blockdestination</li>\n</ul>\n<p>hdfs rebalanceredis clusterofflinesafe mode</p>\n<h2 id=\"ClustrixDB-rebalance\"><a href=\"#ClustrixDB-rebalance\" class=\"headerlink\" title=\"ClustrixDB rebalance\"></a>ClustrixDB rebalance</h2><p>ClustrixDBMySQLscale<a href=\"http://docs.clustrix.com/display/CLXDOC/Rebalancer\" target=\"_blank\" rel=\"noopener\">Rebalancer</a>Redis ClusterslotreplicareplicaNode 4Node 1</p>\n<p></p>\n<ul>\n<li>ClustrixDB shardingslicereplica</li>\n<li>queueMySQLbinlogbinlogqueuebinlog</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431435-d1225380-270c-11ea-8a89-657b928f8ded.png\" alt=\"ClustrixDB rebalance\"></p>\n<ul>\n<li>Initial StateNode 3Node 4replica</li>\n<li>Data Copyepoch BNode 1replicaBuildingNode 2QueueStoreepoch ANode 4binlogNode 2queueNode 4Node 1Building replica</li>\n<li>Queue ReplayNode 2queueNode 1queue</li>\n<li>End of Queuequeuesynchronize queuestore &amp; ForwardqueueNode 1</li>\n<li>Queue FlippedNode 4RetiredNode 1Onlineepoch BNode 4queueforwardNode 1</li>\n<li>Final stateepoch Btransactionqueue</li>\n</ul>\n<p>ClustrixDBmetadata<a href=\"http://docs.clustrix.com/display/CLXDOC/Concurrency+Control\" target=\"_blank\" rel=\"noopener\">Multi-Version Concurrency Control (MVCC)</a>epoch Bmetadataepoch Aepoch BqueueNode 1synchronize queueJavasynchronize queue</p>"},{"title":"redisredlock","date":"2019-08-21T00:07:44.000Z","comments":1,"_content":"\nRedisredis\n\n<!-- more -->\n\n**1. Redis**\n\nRediscrash\n\nARediscrashBBoom\n\n**2. Redlock**\n\n> 1. It gets the current time in milliseconds.\n\n> 2. It tries to acquire the lock in all the N instances sequentially, using the same key name and random value in all the instances. During step 2, when setting the lock in each instance, the client uses a timeout which is small compared to the total lock auto-release time in order to acquire it. For example if the auto-release time is 10 seconds, the timeout could be in the ~ 5-50 milliseconds range. This prevents the client from remaining blocked for a long time trying to talk with a Redis node which is down: if an instance is not available, we should try to talk with the next instance ASAP.\nkey+valueNredisNXNXtimeoutredlockreleaserediscrash\n> 3. The client computes how much time elapsed in order to acquire the lock, by subtracting from the current time the timestamp obtained in step 1. If and only if the client was able to acquire the lock in the majority of the instances (at least 3), and the total time elapsed to acquire the lock is less than lock validity time, the lock is considered to be acquired.\nredisNXNXredlockreleaseredlock\n> 4. If the lock was acquired, its validity time is considered to be the initial validity time minus the time elapsed, as computed in step 3.\n> 5. If the client failed to acquire the lock for some reason (either it was not able to lock N/2+1 instances or the validity time is negative), it will try to unlock all the instances (even the instances it believed it was not able to lock).\nredlockredisNX\n\n**3. Martin**\n\n[](http://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)redlock\n\nClient1STWSTWClient1antirez[](http://antirez.com/news/101)double checkMartinSTWMartinfencing\n\n![](http://martin.kleppmann.com/2016/02/unsafe-lock.png)\n\nMartinRedis`gettimeofday`NX`gettimeofday`NTPNXMartin\n\nredlock3redlockrelease\n\n**4. antirez**\n\nNXvaluelua\n\nredlockrandom delay\n\nNrediscrashdelay startfsyncredis","source":"_posts/2019-08-21-redlock-algorithm.md","raw":"---\ntitle: redisredlock\ndate: 2019-08-21 08:07:44\ntags: ['Redis']\ncomments: true\ncategories: ['']\n---\n\nRedisredis\n\n<!-- more -->\n\n**1. Redis**\n\nRediscrash\n\nARediscrashBBoom\n\n**2. Redlock**\n\n> 1. It gets the current time in milliseconds.\n\n> 2. It tries to acquire the lock in all the N instances sequentially, using the same key name and random value in all the instances. During step 2, when setting the lock in each instance, the client uses a timeout which is small compared to the total lock auto-release time in order to acquire it. For example if the auto-release time is 10 seconds, the timeout could be in the ~ 5-50 milliseconds range. This prevents the client from remaining blocked for a long time trying to talk with a Redis node which is down: if an instance is not available, we should try to talk with the next instance ASAP.\nkey+valueNredisNXNXtimeoutredlockreleaserediscrash\n> 3. The client computes how much time elapsed in order to acquire the lock, by subtracting from the current time the timestamp obtained in step 1. If and only if the client was able to acquire the lock in the majority of the instances (at least 3), and the total time elapsed to acquire the lock is less than lock validity time, the lock is considered to be acquired.\nredisNXNXredlockreleaseredlock\n> 4. If the lock was acquired, its validity time is considered to be the initial validity time minus the time elapsed, as computed in step 3.\n> 5. If the client failed to acquire the lock for some reason (either it was not able to lock N/2+1 instances or the validity time is negative), it will try to unlock all the instances (even the instances it believed it was not able to lock).\nredlockredisNX\n\n**3. Martin**\n\n[](http://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)redlock\n\nClient1STWSTWClient1antirez[](http://antirez.com/news/101)double checkMartinSTWMartinfencing\n\n![](http://martin.kleppmann.com/2016/02/unsafe-lock.png)\n\nMartinRedis`gettimeofday`NX`gettimeofday`NTPNXMartin\n\nredlock3redlockrelease\n\n**4. antirez**\n\nNXvaluelua\n\nredlockrandom delay\n\nNrediscrashdelay startfsyncredis","slug":"redlock-algorithm","published":1,"updated":"2020-04-12T03:44:04.753Z","_id":"ck8wh7lci00394sup01hvb122","layout":"post","photos":[],"link":"","content":"<p>Redisredis</p>\n<a id=\"more\"></a>\n<p><strong>1. Redis</strong></p>\n<p>Rediscrash</p>\n<p>ARediscrashBBoom</p>\n<p><strong>2. Redlock</strong></p>\n<blockquote>\n<ol>\n<li>It gets the current time in milliseconds.<br></li>\n<li>It tries to acquire the lock in all the N instances sequentially, using the same key name and random value in all the instances. During step 2, when setting the lock in each instance, the client uses a timeout which is small compared to the total lock auto-release time in order to acquire it. For example if the auto-release time is 10 seconds, the timeout could be in the ~ 5-50 milliseconds range. This prevents the client from remaining blocked for a long time trying to talk with a Redis node which is down: if an instance is not available, we should try to talk with the next instance ASAP.<br>key+valueNredisNXNXtimeoutredlockreleaserediscrash</li>\n<li>The client computes how much time elapsed in order to acquire the lock, by subtracting from the current time the timestamp obtained in step 1. If and only if the client was able to acquire the lock in the majority of the instances (at least 3), and the total time elapsed to acquire the lock is less than lock validity time, the lock is considered to be acquired.<br>redisNXNXredlockreleaseredlock</li>\n<li>If the lock was acquired, its validity time is considered to be the initial validity time minus the time elapsed, as computed in step 3.</li>\n<li>If the client failed to acquire the lock for some reason (either it was not able to lock N/2+1 instances or the validity time is negative), it will try to unlock all the instances (even the instances it believed it was not able to lock).<br>redlockredisNX</li>\n</ol>\n</blockquote>\n<p><strong>3. Martin</strong></p>\n<p><a href=\"http://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\" target=\"_blank\" rel=\"noopener\"></a>redlock</p>\n<p>Client1STWSTWClient1antirez<a href=\"http://antirez.com/news/101\" target=\"_blank\" rel=\"noopener\"></a>double checkMartinSTWMartinfencing</p>\n<p><img src=\"http://martin.kleppmann.com/2016/02/unsafe-lock.png\" alt=\"\"></p>\n<p>MartinRedis<code>gettimeofday</code>NX<code>gettimeofday</code>NTPNXMartin</p>\n<p>redlock3redlockrelease</p>\n<p><strong>4. antirez</strong></p>\n<p>NXvaluelua</p>\n<p>redlockrandom delay</p>\n<p>Nrediscrashdelay startfsyncredis</p>\n","site":{"data":{}},"excerpt":"<p>Redisredis</p>","more":"<p><strong>1. Redis</strong></p>\n<p>Rediscrash</p>\n<p>ARediscrashBBoom</p>\n<p><strong>2. Redlock</strong></p>\n<blockquote>\n<ol>\n<li>It gets the current time in milliseconds.<br></li>\n<li>It tries to acquire the lock in all the N instances sequentially, using the same key name and random value in all the instances. During step 2, when setting the lock in each instance, the client uses a timeout which is small compared to the total lock auto-release time in order to acquire it. For example if the auto-release time is 10 seconds, the timeout could be in the ~ 5-50 milliseconds range. This prevents the client from remaining blocked for a long time trying to talk with a Redis node which is down: if an instance is not available, we should try to talk with the next instance ASAP.<br>key+valueNredisNXNXtimeoutredlockreleaserediscrash</li>\n<li>The client computes how much time elapsed in order to acquire the lock, by subtracting from the current time the timestamp obtained in step 1. If and only if the client was able to acquire the lock in the majority of the instances (at least 3), and the total time elapsed to acquire the lock is less than lock validity time, the lock is considered to be acquired.<br>redisNXNXredlockreleaseredlock</li>\n<li>If the lock was acquired, its validity time is considered to be the initial validity time minus the time elapsed, as computed in step 3.</li>\n<li>If the client failed to acquire the lock for some reason (either it was not able to lock N/2+1 instances or the validity time is negative), it will try to unlock all the instances (even the instances it believed it was not able to lock).<br>redlockredisNX</li>\n</ol>\n</blockquote>\n<p><strong>3. Martin</strong></p>\n<p><a href=\"http://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\" target=\"_blank\" rel=\"noopener\"></a>redlock</p>\n<p>Client1STWSTWClient1antirez<a href=\"http://antirez.com/news/101\" target=\"_blank\" rel=\"noopener\"></a>double checkMartinSTWMartinfencing</p>\n<p><img src=\"http://martin.kleppmann.com/2016/02/unsafe-lock.png\" alt=\"\"></p>\n<p>MartinRedis<code>gettimeofday</code>NX<code>gettimeofday</code>NTPNXMartin</p>\n<p>redlock3redlockrelease</p>\n<p><strong>4. antirez</strong></p>\n<p>NXvaluelua</p>\n<p>redlockrandom delay</p>\n<p>Nrediscrashdelay startfsyncredis</p>"},{"title":"","date":"2019-12-27T14:18:05.000Z","comments":1,"_content":"\n\n\n<!--more-->\n\n# \n\nhttps://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c\n\n## \n\nO(1)O(n)\n\n## \n\nO(n)O(1)\n\n## \n\n\n- n\n- n-1nii>=0n2i\n- n-2\n- 1\n\n1\n\n## \n\nFILOn1122FIFO\n\n## \n\nFIFO\n\n## \n\n\n\n## \n\nO(1)O(nlogn)\n\n## \n\nJDK8HashMap\n\nget\n\n- hashhash\n- hashgetNodehashhashcompare\n\nput\n\n- keyhash\n- tableresize\n- valueslotslotslotvalue\n- valueslots\n  - valuehashshash\n  - sputTreeValvalueputTreeVal\n  - hashvaluessslot8keyslotslotslotO(N)\n- sizethreholdcapacityresize()sizeNode\n\nhashmapslotthrehold=capacity x slotthreholdslot\n\n# \n\n## \n\n```python\n# \ndef preorder(root):\n    traverse_path.append(root.val)\n    preorder(root.left)\n    preorder(root.right)\ndef inorder(root):\n    inorder(root.left)\n    traverse_path.append(root.val)\n    inorder(root.right)\ndef postorder(root):\n    postorder(root.left)\n    postorder(root.right)\n    traverse_path.append(root.val)\n```\n\n## \n\n```python\n# \ndef recursie(level, p1, p2, ...):\n    if level > MAX_LEVEL:\n        # process result\n        return\n    # process current level logic\n    process(level, p1, p2, ...)\n    # drill down\n    recurse(level + 1, p1, p2, ...)\n    # reverse current level logic if needed\n```\n\n## \n\n```python\n# \ndef divide_conquer(problem, p1, p2, ...):\n    if not problem:\n        return\n\n    # prepare\n    subproblems = split_problem(problem, p1, p2, ...)\n\n    # divide\n    subresults = [divide_conquer(subproblems[i], p1, p2, ...) for i in range(len(subproblems))]\n\n    # combine\n    result = process_result(subresults)\n\n    # reverse\n```\n\n## DFS\n\n```python\n# depth-first search\n# DFS\n# \nvisited = set()\ndef dfs(root):\n    if root in visited:\n        return # terminator\n    visited.add(root)\n    # process logic here\n    for node in root.children():\n        if not node in visited:\n            dfs(node)\n```\n\n```python\n# depth-first search\n# DFS\n# \ndef dfs(root):\n    visited, stack = set(), [root]\n    while stack:\n        node = stack.pop()\n        if not node in visited:\n            visited.add(node)\n            process(node)\n            for child in reversed(node.children()): # add from right to left\n                stack.append(child)\n```\n\n## \n\n```python\n# breadth-first search\n# BFS\n# \ndef bfs():\n    visited, deque = set(), [root]\n    while deque:\n        node = queue.popleft() # \n        if node not in visited:\n            visited.add(node)\n            deque.append(node.childrens) # \n```\n\n## \n\n```python\n# binary search\nleft, right = 0, len(array) - 1\nwhile left <= right:\n    mid = (left + right) / 2\n    if array[mid] == target:\n        return or break\n    elif array[mid] < target:\n        left = mid + 1\n    else:\n        right = mid - 1\n```\n\n## \n\ndynamic programing = simplifying a complicated problem by breaking it down into simpler problems(in a recursive manner)\n\n\n- \n- \n\ndynamic program\n- subproblem(recursive manner)\n- memorize\n- \n\n## Trie\n\nTrie\n- \n- nn\n- \n- \n\n## \n\n\n- makeSet(s)s\n- unionSet(x, y)xy\n- find(x)x\n\n\n- NN\n- M[i][j]1\n- \n\nfind\n```python\ndef find(x):\n    if f[x] != x:\n        f[x] = find(f[x]) # \n    return f[x]\n```\n\n## BFS\n\nBFS\n```python\n# breadth-first search\n# BFS\n# \ndef bfs():\n    forward, backward = set(start_node), set(target_node)\n    while forward:\n        temp = set()\n        for node in forward:\n            for child in node.childrens:\n                if child in backward: # \n                    return\n                temp.add(child) # \n        forward = temp\n        if len(backward) < len(forward): # \n            forward, backward = forward, backward\n```\n\n## A*\n\n```python\n# A*\ndef AstartSearch():\n    visited = set(root)\n    pq = collections.priority_queue() #  > \n    pq.append(root)\n    while pq:\n        node = pq.pop()\n        process(node)\n        next = [node for node in node.children if node not in visited]\n        pq.push(next)\n```\n\n## \n\n\n```\n\nx % 2 == 0 => (x & 1) == 0\nx % 2 == 1 => (x & 1) == 1\n\n2\nx/2 => x >> 1\n\n1\nx & (x-1)\n\n1\nx & -x\n```\n\n## LRU\n\nlruhashmap+deque(double linked list)\n\n## \n\nbloom filter(capacity, k)\n- bit = hash(num, seed) % capacityseed1k\n- kbitbit1\n- kbitbit1\n\n## \n\ndynamic program = subproblem(recursive) + memorize + \n\n\n\nLeetCodeDP\n```python\nfor 1 in 1\n    for 2 in 2\n        for ...\n            dp[1][2][...] = (12...)\n```\n\n## \n\nRabin-Karphttps://shimo.im/docs/KXDdkT99TVtXvTXP/read\nKMP\n- https://www.bilibili.com/video/av11866460?from=search&seid=17425875345653862171\n- http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html\n\n\nhttps://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec","source":"_posts/2019-12-27-algorithm-04-summary.md","raw":"---\ntitle: \ndate: 2019-12-27 22:18:05\ntags: ['Algorithm']\ncomments: true\ncategories: ['']\n---\n\n\n\n<!--more-->\n\n# \n\nhttps://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c\n\n## \n\nO(1)O(n)\n\n## \n\nO(n)O(1)\n\n## \n\n\n- n\n- n-1nii>=0n2i\n- n-2\n- 1\n\n1\n\n## \n\nFILOn1122FIFO\n\n## \n\nFIFO\n\n## \n\n\n\n## \n\nO(1)O(nlogn)\n\n## \n\nJDK8HashMap\n\nget\n\n- hashhash\n- hashgetNodehashhashcompare\n\nput\n\n- keyhash\n- tableresize\n- valueslotslotslotvalue\n- valueslots\n  - valuehashshash\n  - sputTreeValvalueputTreeVal\n  - hashvaluessslot8keyslotslotslotO(N)\n- sizethreholdcapacityresize()sizeNode\n\nhashmapslotthrehold=capacity x slotthreholdslot\n\n# \n\n## \n\n```python\n# \ndef preorder(root):\n    traverse_path.append(root.val)\n    preorder(root.left)\n    preorder(root.right)\ndef inorder(root):\n    inorder(root.left)\n    traverse_path.append(root.val)\n    inorder(root.right)\ndef postorder(root):\n    postorder(root.left)\n    postorder(root.right)\n    traverse_path.append(root.val)\n```\n\n## \n\n```python\n# \ndef recursie(level, p1, p2, ...):\n    if level > MAX_LEVEL:\n        # process result\n        return\n    # process current level logic\n    process(level, p1, p2, ...)\n    # drill down\n    recurse(level + 1, p1, p2, ...)\n    # reverse current level logic if needed\n```\n\n## \n\n```python\n# \ndef divide_conquer(problem, p1, p2, ...):\n    if not problem:\n        return\n\n    # prepare\n    subproblems = split_problem(problem, p1, p2, ...)\n\n    # divide\n    subresults = [divide_conquer(subproblems[i], p1, p2, ...) for i in range(len(subproblems))]\n\n    # combine\n    result = process_result(subresults)\n\n    # reverse\n```\n\n## DFS\n\n```python\n# depth-first search\n# DFS\n# \nvisited = set()\ndef dfs(root):\n    if root in visited:\n        return # terminator\n    visited.add(root)\n    # process logic here\n    for node in root.children():\n        if not node in visited:\n            dfs(node)\n```\n\n```python\n# depth-first search\n# DFS\n# \ndef dfs(root):\n    visited, stack = set(), [root]\n    while stack:\n        node = stack.pop()\n        if not node in visited:\n            visited.add(node)\n            process(node)\n            for child in reversed(node.children()): # add from right to left\n                stack.append(child)\n```\n\n## \n\n```python\n# breadth-first search\n# BFS\n# \ndef bfs():\n    visited, deque = set(), [root]\n    while deque:\n        node = queue.popleft() # \n        if node not in visited:\n            visited.add(node)\n            deque.append(node.childrens) # \n```\n\n## \n\n```python\n# binary search\nleft, right = 0, len(array) - 1\nwhile left <= right:\n    mid = (left + right) / 2\n    if array[mid] == target:\n        return or break\n    elif array[mid] < target:\n        left = mid + 1\n    else:\n        right = mid - 1\n```\n\n## \n\ndynamic programing = simplifying a complicated problem by breaking it down into simpler problems(in a recursive manner)\n\n\n- \n- \n\ndynamic program\n- subproblem(recursive manner)\n- memorize\n- \n\n## Trie\n\nTrie\n- \n- nn\n- \n- \n\n## \n\n\n- makeSet(s)s\n- unionSet(x, y)xy\n- find(x)x\n\n\n- NN\n- M[i][j]1\n- \n\nfind\n```python\ndef find(x):\n    if f[x] != x:\n        f[x] = find(f[x]) # \n    return f[x]\n```\n\n## BFS\n\nBFS\n```python\n# breadth-first search\n# BFS\n# \ndef bfs():\n    forward, backward = set(start_node), set(target_node)\n    while forward:\n        temp = set()\n        for node in forward:\n            for child in node.childrens:\n                if child in backward: # \n                    return\n                temp.add(child) # \n        forward = temp\n        if len(backward) < len(forward): # \n            forward, backward = forward, backward\n```\n\n## A*\n\n```python\n# A*\ndef AstartSearch():\n    visited = set(root)\n    pq = collections.priority_queue() #  > \n    pq.append(root)\n    while pq:\n        node = pq.pop()\n        process(node)\n        next = [node for node in node.children if node not in visited]\n        pq.push(next)\n```\n\n## \n\n\n```\n\nx % 2 == 0 => (x & 1) == 0\nx % 2 == 1 => (x & 1) == 1\n\n2\nx/2 => x >> 1\n\n1\nx & (x-1)\n\n1\nx & -x\n```\n\n## LRU\n\nlruhashmap+deque(double linked list)\n\n## \n\nbloom filter(capacity, k)\n- bit = hash(num, seed) % capacityseed1k\n- kbitbit1\n- kbitbit1\n\n## \n\ndynamic program = subproblem(recursive) + memorize + \n\n\n\nLeetCodeDP\n```python\nfor 1 in 1\n    for 2 in 2\n        for ...\n            dp[1][2][...] = (12...)\n```\n\n## \n\nRabin-Karphttps://shimo.im/docs/KXDdkT99TVtXvTXP/read\nKMP\n- https://www.bilibili.com/video/av11866460?from=search&seid=17425875345653862171\n- http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html\n\n\nhttps://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec","slug":"algorithm-04-summary","published":1,"updated":"2020-04-12T03:33:18.202Z","_id":"ck8wh7lcl003c4supmznxrki1","layout":"post","photos":[],"link":"","content":"<p></p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c\" target=\"_blank\" rel=\"noopener\">https://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(1)O(n)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n)O(1)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>n</li>\n<li>n-1nii&gt;=0n2i</li>\n<li>n-2</li>\n<li>1</li>\n</ul>\n<p>1</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FILOn1122FIFO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FIFO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(1)O(nlogn)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JDK8HashMap</p>\n<p>get</p>\n<ul>\n<li>hashhash</li>\n<li>hashgetNodehashhashcompare</li>\n</ul>\n<p>put</p>\n<ul>\n<li>keyhash</li>\n<li>tableresize</li>\n<li>valueslotslotslotvalue</li>\n<li>valueslots<ul>\n<li>valuehashshash</li>\n<li>sputTreeValvalueputTreeVal</li>\n<li>hashvaluessslot8keyslotslotslotO(N)</li>\n</ul>\n</li>\n<li>sizethreholdcapacityresize()sizeNode</li>\n</ul>\n<p>hashmapslotthrehold=capacity x slotthreholdslot</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">preorder</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    traverse_path.append(root.val)</span><br><span class=\"line\">    preorder(root.left)</span><br><span class=\"line\">    preorder(root.right)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    inorder(root.left)</span><br><span class=\"line\">    traverse_path.append(root.val)</span><br><span class=\"line\">    inorder(root.right)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorder</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    postorder(root.left)</span><br><span class=\"line\">    postorder(root.right)</span><br><span class=\"line\">    traverse_path.append(root.val)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">recursie</span><span class=\"params\">(level, p1, p2, ...)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> level &gt; MAX_LEVEL:</span><br><span class=\"line\">        <span class=\"comment\"># process result</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"comment\"># process current level logic</span></span><br><span class=\"line\">    process(level, p1, p2, ...)</span><br><span class=\"line\">    <span class=\"comment\"># drill down</span></span><br><span class=\"line\">    recurse(level + <span class=\"number\">1</span>, p1, p2, ...)</span><br><span class=\"line\">    <span class=\"comment\"># reverse current level logic if needed</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">divide_conquer</span><span class=\"params\">(problem, p1, p2, ...)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> problem:</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># prepare</span></span><br><span class=\"line\">    subproblems = split_problem(problem, p1, p2, ...)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># divide</span></span><br><span class=\"line\">    subresults = [divide_conquer(subproblems[i], p1, p2, ...) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(subproblems))]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># combine</span></span><br><span class=\"line\">    result = process_result(subresults)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># reverse</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"DFS\"><a href=\"#DFS\" class=\"headerlink\" title=\"DFS\"></a>DFS</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># depth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># DFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">visited = set()</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"comment\"># terminator</span></span><br><span class=\"line\">    visited.add(root)</span><br><span class=\"line\">    <span class=\"comment\"># process logic here</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> root.children():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">            dfs(node)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># depth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># DFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    visited, stack = set(), [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">            visited.add(node)</span><br><span class=\"line\">            process(node)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> reversed(node.children()): <span class=\"comment\"># add from right to left</span></span><br><span class=\"line\">                stack.append(child)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># breadth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># BFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bfs</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    visited, deque = set(), [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> deque:</span><br><span class=\"line\">        node = queue.popleft() <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">            visited.add(node)</span><br><span class=\"line\">            deque.append(node.childrens) <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># binary search</span></span><br><span class=\"line\">left, right = <span class=\"number\">0</span>, len(array) - <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> left &lt;= right:</span><br><span class=\"line\">    mid = (left + right) / <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> array[mid] == target:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">or</span> <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> array[mid] &lt; target:</span><br><span class=\"line\">        left = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        right = mid - <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dynamic programing = simplifying a complicated problem by breaking it down into simpler problems(in a recursive manner)</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>dynamic program</p>\n<ul>\n<li>subproblem(recursive manner)</li>\n<li>memorize</li>\n<li></li>\n</ul>\n<h2 id=\"Trie\"><a href=\"#Trie\" class=\"headerlink\" title=\"Trie\"></a>Trie</h2><p>Trie</p>\n<ul>\n<li></li>\n<li>nn</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>makeSet(s)s</li>\n<li>unionSet(x, y)xy</li>\n<li>find(x)x</li>\n</ul>\n<p></p>\n<ul>\n<li>NN</li>\n<li>M[i][j]1</li>\n<li></li>\n</ul>\n<p>find<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> f[x] != x:</span><br><span class=\"line\">        f[x] = find(f[x]) <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> f[x]</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"BFS\"><a href=\"#BFS\" class=\"headerlink\" title=\"BFS\"></a>BFS</h2><p>BFS<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># breadth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># BFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bfs</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    forward, backward = set(start_node), set(target_node)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> forward:</span><br><span class=\"line\">        temp = set()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> forward:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> node.childrens:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> child <span class=\"keyword\">in</span> backward: <span class=\"comment\"># </span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span></span><br><span class=\"line\">                temp.add(child) <span class=\"comment\"># </span></span><br><span class=\"line\">        forward = temp</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(backward) &lt; len(forward): <span class=\"comment\"># </span></span><br><span class=\"line\">            forward, backward = forward, backward</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"A\"><a href=\"#A\" class=\"headerlink\" title=\"A*\"></a>A*</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># A*</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">AstartSearch</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    visited = set(root)</span><br><span class=\"line\">    pq = collections.priority_queue() <span class=\"comment\">#  &gt; </span></span><br><span class=\"line\">    pq.append(root)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> pq:</span><br><span class=\"line\">        node = pq.pop()</span><br><span class=\"line\">        process(node)</span><br><span class=\"line\">        next = [node <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> node.children <span class=\"keyword\">if</span> node <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> visited]</span><br><span class=\"line\">        pq.push(next)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">x % 2 == 0 =&gt; (x &amp; 1) == 0</span><br><span class=\"line\">x % 2 == 1 =&gt; (x &amp; 1) == 1</span><br><span class=\"line\"></span><br><span class=\"line\">2</span><br><span class=\"line\">x/2 =&gt; x &gt;&gt; 1</span><br><span class=\"line\"></span><br><span class=\"line\">1</span><br><span class=\"line\">x &amp; (x-1)</span><br><span class=\"line\"></span><br><span class=\"line\">1</span><br><span class=\"line\">x &amp; -x</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"LRU\"><a href=\"#LRU\" class=\"headerlink\" title=\"LRU\"></a>LRU</h2><p>lruhashmap+deque(double linked list)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>bloom filter(capacity, k)</p>\n<ul>\n<li>bit = hash(num, seed) % capacityseed1k</li>\n<li>kbitbit1</li>\n<li>kbitbit1</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dynamic program = subproblem(recursive) + memorize + </p>\n<p></p>\n<p>LeetCodeDP<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"number\">1</span> <span class=\"keyword\">in</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> <span class=\"number\">2</span> <span class=\"keyword\">in</span> <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> ...</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>][<span class=\"number\">2</span>][...] = (<span class=\"number\">1</span><span class=\"number\">2.</span>..)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Rabin-Karp<a href=\"https://shimo.im/docs/KXDdkT99TVtXvTXP/read\" target=\"_blank\" rel=\"noopener\">https://shimo.im/docs/KXDdkT99TVtXvTXP/read</a><br>KMP</p>\n<ul>\n<li><a href=\"https://www.bilibili.com/video/av11866460?from=search&amp;seid=17425875345653862171\" target=\"_blank\" rel=\"noopener\">https://www.bilibili.com/video/av11866460?from=search&amp;seid=17425875345653862171</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html\" target=\"_blank\" rel=\"noopener\">http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html</a></li>\n</ul>\n<p><a href=\"https://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec\" target=\"_blank\" rel=\"noopener\">https://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec</a></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><a href=\"https://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c\" target=\"_blank\" rel=\"noopener\">https://naotu.baidu.com/file/b832f043e2ead159d584cca4efb19703?token=7a6a56eb2630548c</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(1)O(n)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(n)O(1)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>n</li>\n<li>n-1nii&gt;=0n2i</li>\n<li>n-2</li>\n<li>1</li>\n</ul>\n<p>1</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FILOn1122FIFO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>FIFO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>O(1)O(nlogn)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JDK8HashMap</p>\n<p>get</p>\n<ul>\n<li>hashhash</li>\n<li>hashgetNodehashhashcompare</li>\n</ul>\n<p>put</p>\n<ul>\n<li>keyhash</li>\n<li>tableresize</li>\n<li>valueslotslotslotvalue</li>\n<li>valueslots<ul>\n<li>valuehashshash</li>\n<li>sputTreeValvalueputTreeVal</li>\n<li>hashvaluessslot8keyslotslotslotO(N)</li>\n</ul>\n</li>\n<li>sizethreholdcapacityresize()sizeNode</li>\n</ul>\n<p>hashmapslotthrehold=capacity x slotthreholdslot</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">preorder</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    traverse_path.append(root.val)</span><br><span class=\"line\">    preorder(root.left)</span><br><span class=\"line\">    preorder(root.right)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    inorder(root.left)</span><br><span class=\"line\">    traverse_path.append(root.val)</span><br><span class=\"line\">    inorder(root.right)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorder</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    postorder(root.left)</span><br><span class=\"line\">    postorder(root.right)</span><br><span class=\"line\">    traverse_path.append(root.val)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">recursie</span><span class=\"params\">(level, p1, p2, ...)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> level &gt; MAX_LEVEL:</span><br><span class=\"line\">        <span class=\"comment\"># process result</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"comment\"># process current level logic</span></span><br><span class=\"line\">    process(level, p1, p2, ...)</span><br><span class=\"line\">    <span class=\"comment\"># drill down</span></span><br><span class=\"line\">    recurse(level + <span class=\"number\">1</span>, p1, p2, ...)</span><br><span class=\"line\">    <span class=\"comment\"># reverse current level logic if needed</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">divide_conquer</span><span class=\"params\">(problem, p1, p2, ...)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> problem:</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># prepare</span></span><br><span class=\"line\">    subproblems = split_problem(problem, p1, p2, ...)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># divide</span></span><br><span class=\"line\">    subresults = [divide_conquer(subproblems[i], p1, p2, ...) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(subproblems))]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># combine</span></span><br><span class=\"line\">    result = process_result(subresults)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># reverse</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"DFS\"><a href=\"#DFS\" class=\"headerlink\" title=\"DFS\"></a>DFS</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># depth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># DFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">visited = set()</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"comment\"># terminator</span></span><br><span class=\"line\">    visited.add(root)</span><br><span class=\"line\">    <span class=\"comment\"># process logic here</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> root.children():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">            dfs(node)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># depth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># DFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    visited, stack = set(), [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">            visited.add(node)</span><br><span class=\"line\">            process(node)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> reversed(node.children()): <span class=\"comment\"># add from right to left</span></span><br><span class=\"line\">                stack.append(child)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># breadth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># BFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bfs</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    visited, deque = set(), [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> deque:</span><br><span class=\"line\">        node = queue.popleft() <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> visited:</span><br><span class=\"line\">            visited.add(node)</span><br><span class=\"line\">            deque.append(node.childrens) <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># binary search</span></span><br><span class=\"line\">left, right = <span class=\"number\">0</span>, len(array) - <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> left &lt;= right:</span><br><span class=\"line\">    mid = (left + right) / <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> array[mid] == target:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">or</span> <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> array[mid] &lt; target:</span><br><span class=\"line\">        left = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        right = mid - <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dynamic programing = simplifying a complicated problem by breaking it down into simpler problems(in a recursive manner)</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>dynamic program</p>\n<ul>\n<li>subproblem(recursive manner)</li>\n<li>memorize</li>\n<li></li>\n</ul>\n<h2 id=\"Trie\"><a href=\"#Trie\" class=\"headerlink\" title=\"Trie\"></a>Trie</h2><p>Trie</p>\n<ul>\n<li></li>\n<li>nn</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li>makeSet(s)s</li>\n<li>unionSet(x, y)xy</li>\n<li>find(x)x</li>\n</ul>\n<p></p>\n<ul>\n<li>NN</li>\n<li>M[i][j]1</li>\n<li></li>\n</ul>\n<p>find<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> f[x] != x:</span><br><span class=\"line\">        f[x] = find(f[x]) <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> f[x]</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"BFS\"><a href=\"#BFS\" class=\"headerlink\" title=\"BFS\"></a>BFS</h2><p>BFS<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># breadth-first search</span></span><br><span class=\"line\"><span class=\"comment\"># BFS</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bfs</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    forward, backward = set(start_node), set(target_node)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> forward:</span><br><span class=\"line\">        temp = set()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> forward:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> node.childrens:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> child <span class=\"keyword\">in</span> backward: <span class=\"comment\"># </span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span></span><br><span class=\"line\">                temp.add(child) <span class=\"comment\"># </span></span><br><span class=\"line\">        forward = temp</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(backward) &lt; len(forward): <span class=\"comment\"># </span></span><br><span class=\"line\">            forward, backward = forward, backward</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"A\"><a href=\"#A\" class=\"headerlink\" title=\"A*\"></a>A*</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># A*</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">AstartSearch</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    visited = set(root)</span><br><span class=\"line\">    pq = collections.priority_queue() <span class=\"comment\">#  &gt; </span></span><br><span class=\"line\">    pq.append(root)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> pq:</span><br><span class=\"line\">        node = pq.pop()</span><br><span class=\"line\">        process(node)</span><br><span class=\"line\">        next = [node <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> node.children <span class=\"keyword\">if</span> node <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> visited]</span><br><span class=\"line\">        pq.push(next)</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">x % 2 == 0 =&gt; (x &amp; 1) == 0</span><br><span class=\"line\">x % 2 == 1 =&gt; (x &amp; 1) == 1</span><br><span class=\"line\"></span><br><span class=\"line\">2</span><br><span class=\"line\">x/2 =&gt; x &gt;&gt; 1</span><br><span class=\"line\"></span><br><span class=\"line\">1</span><br><span class=\"line\">x &amp; (x-1)</span><br><span class=\"line\"></span><br><span class=\"line\">1</span><br><span class=\"line\">x &amp; -x</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"LRU\"><a href=\"#LRU\" class=\"headerlink\" title=\"LRU\"></a>LRU</h2><p>lruhashmap+deque(double linked list)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>bloom filter(capacity, k)</p>\n<ul>\n<li>bit = hash(num, seed) % capacityseed1k</li>\n<li>kbitbit1</li>\n<li>kbitbit1</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dynamic program = subproblem(recursive) + memorize + </p>\n<p></p>\n<p>LeetCodeDP<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"number\">1</span> <span class=\"keyword\">in</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> <span class=\"number\">2</span> <span class=\"keyword\">in</span> <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> ...</span><br><span class=\"line\">            dp[<span class=\"number\">1</span>][<span class=\"number\">2</span>][...] = (<span class=\"number\">1</span><span class=\"number\">2.</span>..)</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Rabin-Karp<a href=\"https://shimo.im/docs/KXDdkT99TVtXvTXP/read\" target=\"_blank\" rel=\"noopener\">https://shimo.im/docs/KXDdkT99TVtXvTXP/read</a><br>KMP</p>\n<ul>\n<li><a href=\"https://www.bilibili.com/video/av11866460?from=search&amp;seid=17425875345653862171\" target=\"_blank\" rel=\"noopener\">https://www.bilibili.com/video/av11866460?from=search&amp;seid=17425875345653862171</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html\" target=\"_blank\" rel=\"noopener\">http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html</a></li>\n</ul>\n<p><a href=\"https://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec\" target=\"_blank\" rel=\"noopener\">https://naotu.baidu.com/file/0a53d3a5343bd86375f348b2831d3610?token=5ab1de1c90d5f3ec</a></p>"},{"title":"knock_Java","date":"2019-12-27T14:14:52.000Z","comments":1,"_content":"\nhttps://juejin.im/post/5b4f54d66fb9a04f8d6bb44a\n\n<!--more-->\n\n## JMM\n\nJMMcpucachememstackheapstaticobjectobjectheapstackobjectstack\n\nhappens-beforeJMMlockvolatilestart()join()interrupt()finalize()\n\nvolatile\n\n## Lock\n\nsynchronizedCASABA\n\nReentrantLockfairunfairtryAcquireAQSacquirerelease\n\nSemaphorefairunfairtryAcquireShared\n\nCountDownLatchCountDownLatchawaitcountDown\n\nCountDownLatchSemaphorestate10acquire\n\nReentrantReadWriteLockSemaphoreReentrantLock\n\nStampedLockStampedLockrwlockABA127readerOverflowvalidate()double check\n\n## \n\nConcurrentHashMapCASCAShashsynchronized\n\nArrayBlockingQueueconditontakeIndexputIndexcountpollofferawaitNanos\n\nConcurrentSkipListMapmap\n\nArrayBlockingQueueLinkedBlockingQueueLinkedBlockingDequeLinkedBlockingDequeArrayBlockingQueueLinkedBlockingQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuetransferSynchronousQueue\n\nLinkedBlockingQueueAtomicIntegercount\n\n## \n\n1. \n    - &\n1. jdk1.8\n    - \n1. \n    - ExcutorRunnable\n    - ExcutorServiceExcutor\n    - Excutors\n    - ThreadPoolExecutor\n1. ExecutorService\n    - RUNNINGSHUTDOWNSTOPTIDYINGTERMINATED\n1. \n    - submitfutureget\n1. \n    - \n1. \n    - CPU\n1. \n    - \n1. \n    - \n1. \n    - ThreadPoolExecutorbeforeExcuteafterExcute","source":"_posts/2019-12-27-juejin-juc-blog-note.md","raw":"---\ntitle: knock_Java\ndate: 2019-12-27 22:14:52\ntags: ['Java']\ncomments: true\ncategories: ['']\n---\n\nhttps://juejin.im/post/5b4f54d66fb9a04f8d6bb44a\n\n<!--more-->\n\n## JMM\n\nJMMcpucachememstackheapstaticobjectobjectheapstackobjectstack\n\nhappens-beforeJMMlockvolatilestart()join()interrupt()finalize()\n\nvolatile\n\n## Lock\n\nsynchronizedCASABA\n\nReentrantLockfairunfairtryAcquireAQSacquirerelease\n\nSemaphorefairunfairtryAcquireShared\n\nCountDownLatchCountDownLatchawaitcountDown\n\nCountDownLatchSemaphorestate10acquire\n\nReentrantReadWriteLockSemaphoreReentrantLock\n\nStampedLockStampedLockrwlockABA127readerOverflowvalidate()double check\n\n## \n\nConcurrentHashMapCASCAShashsynchronized\n\nArrayBlockingQueueconditontakeIndexputIndexcountpollofferawaitNanos\n\nConcurrentSkipListMapmap\n\nArrayBlockingQueueLinkedBlockingQueueLinkedBlockingDequeLinkedBlockingDequeArrayBlockingQueueLinkedBlockingQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuetransferSynchronousQueue\n\nLinkedBlockingQueueAtomicIntegercount\n\n## \n\n1. \n    - &\n1. jdk1.8\n    - \n1. \n    - ExcutorRunnable\n    - ExcutorServiceExcutor\n    - Excutors\n    - ThreadPoolExecutor\n1. ExecutorService\n    - RUNNINGSHUTDOWNSTOPTIDYINGTERMINATED\n1. \n    - submitfutureget\n1. \n    - \n1. \n    - CPU\n1. \n    - \n1. \n    - \n1. \n    - ThreadPoolExecutorbeforeExcuteafterExcute","slug":"juejin-juc-blog-note","published":1,"updated":"2020-04-12T03:46:56.264Z","_id":"ck8wh7lcn003e4sup60jghpr5","layout":"post","photos":[],"link":"","content":"<p><a href=\"https://juejin.im/post/5b4f54d66fb9a04f8d6bb44a\" target=\"_blank\" rel=\"noopener\">https://juejin.im/post/5b4f54d66fb9a04f8d6bb44a</a></p>\n<a id=\"more\"></a>\n<h2 id=\"JMM\"><a href=\"#JMM\" class=\"headerlink\" title=\"JMM\"></a>JMM</h2><p>JMMcpucachememstackheapstaticobjectobjectheapstackobjectstack</p>\n<p>happens-beforeJMMlockvolatilestart()join()interrupt()finalize()</p>\n<p>volatile</p>\n<h2 id=\"Lock\"><a href=\"#Lock\" class=\"headerlink\" title=\"Lock\"></a>Lock</h2><p>synchronizedCASABA</p>\n<p>ReentrantLockfairunfairtryAcquireAQSacquirerelease</p>\n<p>SemaphorefairunfairtryAcquireShared</p>\n<p>CountDownLatchCountDownLatchawaitcountDown</p>\n<p>CountDownLatchSemaphorestate10acquire</p>\n<p>ReentrantReadWriteLockSemaphoreReentrantLock</p>\n<p>StampedLockStampedLockrwlockABA127readerOverflowvalidate()double check</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ConcurrentHashMapCASCAShashsynchronized</p>\n<p>ArrayBlockingQueueconditontakeIndexputIndexcountpollofferawaitNanos</p>\n<p>ConcurrentSkipListMapmap</p>\n<p>ArrayBlockingQueueLinkedBlockingQueueLinkedBlockingDequeLinkedBlockingDequeArrayBlockingQueueLinkedBlockingQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuetransferSynchronousQueue</p>\n<p>LinkedBlockingQueueAtomicIntegercount</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><ul>\n<li>&amp;</li>\n</ul>\n</li>\n<li>jdk1.8<ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>ExcutorRunnable</li>\n<li>ExcutorServiceExcutor</li>\n<li>Excutors</li>\n<li>ThreadPoolExecutor</li>\n</ul>\n</li>\n<li>ExecutorService<ul>\n<li>RUNNINGSHUTDOWNSTOPTIDYINGTERMINATED</li>\n</ul>\n</li>\n<li><ul>\n<li>submitfutureget</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>CPU</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>ThreadPoolExecutorbeforeExcuteafterExcute</li>\n</ul>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p><a href=\"https://juejin.im/post/5b4f54d66fb9a04f8d6bb44a\" target=\"_blank\" rel=\"noopener\">https://juejin.im/post/5b4f54d66fb9a04f8d6bb44a</a></p>","more":"<h2 id=\"JMM\"><a href=\"#JMM\" class=\"headerlink\" title=\"JMM\"></a>JMM</h2><p>JMMcpucachememstackheapstaticobjectobjectheapstackobjectstack</p>\n<p>happens-beforeJMMlockvolatilestart()join()interrupt()finalize()</p>\n<p>volatile</p>\n<h2 id=\"Lock\"><a href=\"#Lock\" class=\"headerlink\" title=\"Lock\"></a>Lock</h2><p>synchronizedCASABA</p>\n<p>ReentrantLockfairunfairtryAcquireAQSacquirerelease</p>\n<p>SemaphorefairunfairtryAcquireShared</p>\n<p>CountDownLatchCountDownLatchawaitcountDown</p>\n<p>CountDownLatchSemaphorestate10acquire</p>\n<p>ReentrantReadWriteLockSemaphoreReentrantLock</p>\n<p>StampedLockStampedLockrwlockABA127readerOverflowvalidate()double check</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ConcurrentHashMapCASCAShashsynchronized</p>\n<p>ArrayBlockingQueueconditontakeIndexputIndexcountpollofferawaitNanos</p>\n<p>ConcurrentSkipListMapmap</p>\n<p>ArrayBlockingQueueLinkedBlockingQueueLinkedBlockingDequeLinkedBlockingDequeArrayBlockingQueueLinkedBlockingQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuePriorityBlockingQueueDelayQueueLinkedTransferQueuetransferSynchronousQueue</p>\n<p>LinkedBlockingQueueAtomicIntegercount</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><ul>\n<li>&amp;</li>\n</ul>\n</li>\n<li>jdk1.8<ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>ExcutorRunnable</li>\n<li>ExcutorServiceExcutor</li>\n<li>Excutors</li>\n<li>ThreadPoolExecutor</li>\n</ul>\n</li>\n<li>ExecutorService<ul>\n<li>RUNNINGSHUTDOWNSTOPTIDYINGTERMINATED</li>\n</ul>\n</li>\n<li><ul>\n<li>submitfutureget</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>CPU</li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li>ThreadPoolExecutorbeforeExcuteafterExcute</li>\n</ul>\n</li>\n</ol>"},{"title":"RDMS Sharding","date":"2019-03-31T14:13:22.000Z","comments":1,"_content":"\nRDMSshard\n\n<!--more-->\n\n## Why sharding\n\nRDMSRelational Database Management System20%80%ABCSQLjoinjoin\n\nBLOB`select * from xxx`insertBLOBBLOB\n`select *`BLOB\n\n\n\n\n\n- sharding strategy\n- resharding\n- side effect\n\n\n## Sharding strategy compare\n\n### Case 1 \n\n![id % 4](https://user-images.githubusercontent.com/4915189/71431441-d97a8e80-270c-11ea-9b72-ed3ec0e921a2.png)\n\n`id`4`id % 4`LOOKUP\nLOOKUPZookeeper\n\n**1**\n\n`id % 4`[Java HashMaprebash](https://www.geeksforgeeks.org/load-factor-and-rehashing/)id`hash(id) % 4`hashidint\n\n- 0id`id % 5`0\n- \n\n\n\n- IO\n- \n\n**2**\n\n\n\n- \n- case\n\n**3**\n\n`id % 4`4`id % 1024`1024LOOKUP41024[](https://en.wikipedia.org/wiki/Consistent_hashing)\n1024\n\n`order by`\n\n`order by`\n\n### Case 2 \n\n![dynamic range](https://user-images.githubusercontent.com/4915189/71431444-dd0e1580-270c-11ea-8d7d-c801dd1df161.png)\n\nrangerangeLOOKUPrange[1,2,3,4]hash\n\n**1**\n\n[10, 30][10,20][21,30]\n\n- \n- [10,30]binlogIDA\n- MySQLrepeatable readcopy\n- copybinlogIDAbinlog[21,30]\n- binlogLOOKUP[21,30][21,30]\n\n1[](https://www.simononsoftware.com/are-long-running-transactions-bad/)\n23LOOKUP\n\n1\n- [2125]binlogIDB\n- [2630]\n- binlogidAB[2125]\n- binlogidBbinlogID[2130]\n\n2lag\n\n3[20,30][20,30]SQLLOOKUP\n\n**2**\n\n\n\nrange\n\n- \n- hotspotrange\n\n\n\n- \n- \n\n**3**\n\n\n\n## Common issue\n\nshardingcase\n\njoinjoinAAjoinB\n\ntransaction2PC([Two-phase commit protocol](https://en.wikipedia.org/wiki/Two-phase_commit_protocol))\n\nshardingidtimeid0ABCDtimeABCD2\n\nRDMSshardingsharding\n\n## Conclusion\n\nshardingrehashrange\n\n## Reference\n\n[How Sharding Works](https://medium.com/@jeeyoungk/how-sharding-works-b4dec46b3f6)\n[ClustrixDB Data Distribution](http://docs.clustrix.com/display/CLXDOC/Data+Distribution)\n[Challenges of Sharding MySQL](https://www.clustrix.com/bettersql/challenges-sharding-mysql/)\n","source":"_posts/2019-03-31-beyond-sharding.md","raw":"---\ntitle: RDMS Sharding\ndate: 2019-03-31 22:13:22\ntags: ['MySQL', '']\ncomments: true\ncategories: ['']\n---\n\nRDMSshard\n\n<!--more-->\n\n## Why sharding\n\nRDMSRelational Database Management System20%80%ABCSQLjoinjoin\n\nBLOB`select * from xxx`insertBLOBBLOB\n`select *`BLOB\n\n\n\n\n\n- sharding strategy\n- resharding\n- side effect\n\n\n## Sharding strategy compare\n\n### Case 1 \n\n![id % 4](https://user-images.githubusercontent.com/4915189/71431441-d97a8e80-270c-11ea-9b72-ed3ec0e921a2.png)\n\n`id`4`id % 4`LOOKUP\nLOOKUPZookeeper\n\n**1**\n\n`id % 4`[Java HashMaprebash](https://www.geeksforgeeks.org/load-factor-and-rehashing/)id`hash(id) % 4`hashidint\n\n- 0id`id % 5`0\n- \n\n\n\n- IO\n- \n\n**2**\n\n\n\n- \n- case\n\n**3**\n\n`id % 4`4`id % 1024`1024LOOKUP41024[](https://en.wikipedia.org/wiki/Consistent_hashing)\n1024\n\n`order by`\n\n`order by`\n\n### Case 2 \n\n![dynamic range](https://user-images.githubusercontent.com/4915189/71431444-dd0e1580-270c-11ea-8d7d-c801dd1df161.png)\n\nrangerangeLOOKUPrange[1,2,3,4]hash\n\n**1**\n\n[10, 30][10,20][21,30]\n\n- \n- [10,30]binlogIDA\n- MySQLrepeatable readcopy\n- copybinlogIDAbinlog[21,30]\n- binlogLOOKUP[21,30][21,30]\n\n1[](https://www.simononsoftware.com/are-long-running-transactions-bad/)\n23LOOKUP\n\n1\n- [2125]binlogIDB\n- [2630]\n- binlogidAB[2125]\n- binlogidBbinlogID[2130]\n\n2lag\n\n3[20,30][20,30]SQLLOOKUP\n\n**2**\n\n\n\nrange\n\n- \n- hotspotrange\n\n\n\n- \n- \n\n**3**\n\n\n\n## Common issue\n\nshardingcase\n\njoinjoinAAjoinB\n\ntransaction2PC([Two-phase commit protocol](https://en.wikipedia.org/wiki/Two-phase_commit_protocol))\n\nshardingidtimeid0ABCDtimeABCD2\n\nRDMSshardingsharding\n\n## Conclusion\n\nshardingrehashrange\n\n## Reference\n\n[How Sharding Works](https://medium.com/@jeeyoungk/how-sharding-works-b4dec46b3f6)\n[ClustrixDB Data Distribution](http://docs.clustrix.com/display/CLXDOC/Data+Distribution)\n[Challenges of Sharding MySQL](https://www.clustrix.com/bettersql/challenges-sharding-mysql/)\n","slug":"beyond-sharding","published":1,"updated":"2020-04-12T03:32:47.223Z","_id":"ck8wh7lcr003h4sup9avpb1ji","layout":"post","photos":[],"link":"","content":"<p>RDMSshard</p>\n<a id=\"more\"></a>\n<h2 id=\"Why-sharding\"><a href=\"#Why-sharding\" class=\"headerlink\" title=\"Why sharding\"></a>Why sharding</h2><p>RDMSRelational Database Management System20%80%ABCSQLjoinjoin</p>\n<p>BLOB<code>select * from xxx</code>insertBLOBBLOB<br><code>select *</code>BLOB</p>\n<p></p>\n<p></p>\n<ul>\n<li>sharding strategy</li>\n<li>resharding</li>\n<li>side effect</li>\n</ul>\n<h2 id=\"Sharding-strategy-compare\"><a href=\"#Sharding-strategy-compare\" class=\"headerlink\" title=\"Sharding strategy compare\"></a>Sharding strategy compare</h2><h3 id=\"Case-1-\"><a href=\"#Case-1-\" class=\"headerlink\" title=\"Case 1 \"></a>Case 1 </h3><p><img src=\"https://user-images.githubusercontent.com/4915189/71431441-d97a8e80-270c-11ea-9b72-ed3ec0e921a2.png\" alt=\"id % 4\"></p>\n<p><code>id</code>4<code>id % 4</code>LOOKUP<br>LOOKUPZookeeper</p>\n<p><strong>1</strong></p>\n<p><code>id % 4</code><a href=\"https://www.geeksforgeeks.org/load-factor-and-rehashing/\" target=\"_blank\" rel=\"noopener\">Java HashMaprebash</a>id<code>hash(id) % 4</code>hashidint</p>\n<ul>\n<li>0id<code>id % 5</code>0</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>IO</li>\n<li></li>\n</ul>\n<p><strong>2</strong></p>\n<p></p>\n<ul>\n<li></li>\n<li>case</li>\n</ul>\n<p><strong>3</strong></p>\n<p><code>id % 4</code>4<code>id % 1024</code>1024LOOKUP41024<a href=\"https://en.wikipedia.org/wiki/Consistent_hashing\" target=\"_blank\" rel=\"noopener\"></a><br>1024</p>\n<p><code>order by</code></p>\n<p><code>order by</code></p>\n<h3 id=\"Case-2-\"><a href=\"#Case-2-\" class=\"headerlink\" title=\"Case 2 \"></a>Case 2 </h3><p><img src=\"https://user-images.githubusercontent.com/4915189/71431444-dd0e1580-270c-11ea-8d7d-c801dd1df161.png\" alt=\"dynamic range\"></p>\n<p>rangerangeLOOKUPrange[1,2,3,4]hash</p>\n<p><strong>1</strong></p>\n<p>[10, 30][10,20][21,30]</p>\n<ul>\n<li></li>\n<li>[10,30]binlogIDA</li>\n<li>MySQLrepeatable readcopy</li>\n<li>copybinlogIDAbinlog[21,30]</li>\n<li>binlogLOOKUP[21,30][21,30]</li>\n</ul>\n<p>1<a href=\"https://www.simononsoftware.com/are-long-running-transactions-bad/\" target=\"_blank\" rel=\"noopener\"></a><br>23LOOKUP</p>\n<p>1</p>\n<ul>\n<li>[2125]binlogIDB</li>\n<li>[2630]</li>\n<li>binlogidAB[2125]</li>\n<li>binlogidBbinlogID[2130]</li>\n</ul>\n<p>2lag</p>\n<p>3[20,30][20,30]SQLLOOKUP</p>\n<p><strong>2</strong></p>\n<p></p>\n<p>range</p>\n<ul>\n<li></li>\n<li>hotspotrange</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p><strong>3</strong></p>\n<p></p>\n<h2 id=\"Common-issue\"><a href=\"#Common-issue\" class=\"headerlink\" title=\"Common issue\"></a>Common issue</h2><p>shardingcase</p>\n<p>joinjoinAAjoinB</p>\n<p>transaction2PC(<a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" target=\"_blank\" rel=\"noopener\">Two-phase commit protocol</a>)</p>\n<p>shardingidtimeid0ABCDtimeABCD2</p>\n<p>RDMSshardingsharding</p>\n<h2 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h2><p>shardingrehashrange</p>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><p><a href=\"https://medium.com/@jeeyoungk/how-sharding-works-b4dec46b3f6\" target=\"_blank\" rel=\"noopener\">How Sharding Works</a><br><a href=\"http://docs.clustrix.com/display/CLXDOC/Data+Distribution\" target=\"_blank\" rel=\"noopener\">ClustrixDB Data Distribution</a><br><a href=\"https://www.clustrix.com/bettersql/challenges-sharding-mysql/\" target=\"_blank\" rel=\"noopener\">Challenges of Sharding MySQL</a></p>\n","site":{"data":{}},"excerpt":"<p>RDMSshard</p>","more":"<h2 id=\"Why-sharding\"><a href=\"#Why-sharding\" class=\"headerlink\" title=\"Why sharding\"></a>Why sharding</h2><p>RDMSRelational Database Management System20%80%ABCSQLjoinjoin</p>\n<p>BLOB<code>select * from xxx</code>insertBLOBBLOB<br><code>select *</code>BLOB</p>\n<p></p>\n<p></p>\n<ul>\n<li>sharding strategy</li>\n<li>resharding</li>\n<li>side effect</li>\n</ul>\n<h2 id=\"Sharding-strategy-compare\"><a href=\"#Sharding-strategy-compare\" class=\"headerlink\" title=\"Sharding strategy compare\"></a>Sharding strategy compare</h2><h3 id=\"Case-1-\"><a href=\"#Case-1-\" class=\"headerlink\" title=\"Case 1 \"></a>Case 1 </h3><p><img src=\"https://user-images.githubusercontent.com/4915189/71431441-d97a8e80-270c-11ea-9b72-ed3ec0e921a2.png\" alt=\"id % 4\"></p>\n<p><code>id</code>4<code>id % 4</code>LOOKUP<br>LOOKUPZookeeper</p>\n<p><strong>1</strong></p>\n<p><code>id % 4</code><a href=\"https://www.geeksforgeeks.org/load-factor-and-rehashing/\" target=\"_blank\" rel=\"noopener\">Java HashMaprebash</a>id<code>hash(id) % 4</code>hashidint</p>\n<ul>\n<li>0id<code>id % 5</code>0</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>IO</li>\n<li></li>\n</ul>\n<p><strong>2</strong></p>\n<p></p>\n<ul>\n<li></li>\n<li>case</li>\n</ul>\n<p><strong>3</strong></p>\n<p><code>id % 4</code>4<code>id % 1024</code>1024LOOKUP41024<a href=\"https://en.wikipedia.org/wiki/Consistent_hashing\" target=\"_blank\" rel=\"noopener\"></a><br>1024</p>\n<p><code>order by</code></p>\n<p><code>order by</code></p>\n<h3 id=\"Case-2-\"><a href=\"#Case-2-\" class=\"headerlink\" title=\"Case 2 \"></a>Case 2 </h3><p><img src=\"https://user-images.githubusercontent.com/4915189/71431444-dd0e1580-270c-11ea-8d7d-c801dd1df161.png\" alt=\"dynamic range\"></p>\n<p>rangerangeLOOKUPrange[1,2,3,4]hash</p>\n<p><strong>1</strong></p>\n<p>[10, 30][10,20][21,30]</p>\n<ul>\n<li></li>\n<li>[10,30]binlogIDA</li>\n<li>MySQLrepeatable readcopy</li>\n<li>copybinlogIDAbinlog[21,30]</li>\n<li>binlogLOOKUP[21,30][21,30]</li>\n</ul>\n<p>1<a href=\"https://www.simononsoftware.com/are-long-running-transactions-bad/\" target=\"_blank\" rel=\"noopener\"></a><br>23LOOKUP</p>\n<p>1</p>\n<ul>\n<li>[2125]binlogIDB</li>\n<li>[2630]</li>\n<li>binlogidAB[2125]</li>\n<li>binlogidBbinlogID[2130]</li>\n</ul>\n<p>2lag</p>\n<p>3[20,30][20,30]SQLLOOKUP</p>\n<p><strong>2</strong></p>\n<p></p>\n<p>range</p>\n<ul>\n<li></li>\n<li>hotspotrange</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p><strong>3</strong></p>\n<p></p>\n<h2 id=\"Common-issue\"><a href=\"#Common-issue\" class=\"headerlink\" title=\"Common issue\"></a>Common issue</h2><p>shardingcase</p>\n<p>joinjoinAAjoinB</p>\n<p>transaction2PC(<a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" target=\"_blank\" rel=\"noopener\">Two-phase commit protocol</a>)</p>\n<p>shardingidtimeid0ABCDtimeABCD2</p>\n<p>RDMSshardingsharding</p>\n<h2 id=\"Conclusion\"><a href=\"#Conclusion\" class=\"headerlink\" title=\"Conclusion\"></a>Conclusion</h2><p>shardingrehashrange</p>\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2><p><a href=\"https://medium.com/@jeeyoungk/how-sharding-works-b4dec46b3f6\" target=\"_blank\" rel=\"noopener\">How Sharding Works</a><br><a href=\"http://docs.clustrix.com/display/CLXDOC/Data+Distribution\" target=\"_blank\" rel=\"noopener\">ClustrixDB Data Distribution</a><br><a href=\"https://www.clustrix.com/bettersql/challenges-sharding-mysql/\" target=\"_blank\" rel=\"noopener\">Challenges of Sharding MySQL</a></p>"},{"title":"b-tree","date":"2019-12-27T14:31:55.000Z","comments":1,"_content":"\nYouTube[B](https://www.youtube.com/watch?v=aZjYr87r1b8)\n\n<!--more-->\n\n## disk structure\n\n![image](https://user-images.githubusercontent.com/4915189/71506681-e8a03e80-28bc-11ea-862d-8e6d7f10eb07.png)\n\ntracktracksectorsectortrack nosector noblock10block\n\n## indexing\n\n![image](https://user-images.githubusercontent.com/4915189/71506950-d07cef00-28bd-11ea-8ed2-0f5ae150eabd.png)\n\n100id1011020idindexing\n\n## multi-indexingm-way search tree\n\n1W10W100Wloadmulti-indexing\n\n![image](https://user-images.githubusercontent.com/4915189/71510392-b9dc9500-28c9-11ea-9518-7e4e92b12e49.png)\n\nm-way search treebinary-search treebinary-search treeI/OI/Om-treem-way search treeI/O\n\n## b-tree\n\nb-treem-way search treem-way search tree\n\n![image](https://user-images.githubusercontent.com/4915189/71511235-8f400b80-28cc-11ea-9171-ee6ccefb264f.png)\n\nb-tree\n- m2Ceil(m/2)\n- \n- nnceil(m/2)-1 <= n <= m-1k1 < k2 < ... < ki < kn\n- n+1P(i-1)kik(i-1)\n\nb-tree[b-tree](https://www.geeksforgeeks.org/introduction-of-b-tree-2/)\n\n## b+ tree\n\n![image](https://user-images.githubusercontent.com/4915189/71511550-bfd47500-28cd-11ea-90aa-c8589680301f.png)\n\nb-treeb-treeb+ treeb-tree\n- \n- \n- \n\n[b+ tree](https://www.geeksforgeeks.org/introduction-of-b-tree/)\n","source":"_posts/2019-12-27-b-tree.md","raw":"---\ntitle: b-tree\ndate: 2019-12-27 22:31:55\ntags: ['B-Tree']\ncomments: true\ncategories: ['']\n---\n\nYouTube[B](https://www.youtube.com/watch?v=aZjYr87r1b8)\n\n<!--more-->\n\n## disk structure\n\n![image](https://user-images.githubusercontent.com/4915189/71506681-e8a03e80-28bc-11ea-862d-8e6d7f10eb07.png)\n\ntracktracksectorsectortrack nosector noblock10block\n\n## indexing\n\n![image](https://user-images.githubusercontent.com/4915189/71506950-d07cef00-28bd-11ea-8ed2-0f5ae150eabd.png)\n\n100id1011020idindexing\n\n## multi-indexingm-way search tree\n\n1W10W100Wloadmulti-indexing\n\n![image](https://user-images.githubusercontent.com/4915189/71510392-b9dc9500-28c9-11ea-9518-7e4e92b12e49.png)\n\nm-way search treebinary-search treebinary-search treeI/OI/Om-treem-way search treeI/O\n\n## b-tree\n\nb-treem-way search treem-way search tree\n\n![image](https://user-images.githubusercontent.com/4915189/71511235-8f400b80-28cc-11ea-9171-ee6ccefb264f.png)\n\nb-tree\n- m2Ceil(m/2)\n- \n- nnceil(m/2)-1 <= n <= m-1k1 < k2 < ... < ki < kn\n- n+1P(i-1)kik(i-1)\n\nb-tree[b-tree](https://www.geeksforgeeks.org/introduction-of-b-tree-2/)\n\n## b+ tree\n\n![image](https://user-images.githubusercontent.com/4915189/71511550-bfd47500-28cd-11ea-90aa-c8589680301f.png)\n\nb-treeb-treeb+ treeb-tree\n- \n- \n- \n\n[b+ tree](https://www.geeksforgeeks.org/introduction-of-b-tree/)\n","slug":"b-tree","published":1,"updated":"2020-04-12T03:33:39.161Z","_id":"ck8wh7lct003j4supzavyq6be","layout":"post","photos":[],"link":"","content":"<p>YouTube<a href=\"https://www.youtube.com/watch?v=aZjYr87r1b8\" target=\"_blank\" rel=\"noopener\">B</a></p>\n<a id=\"more\"></a>\n<h2 id=\"disk-structure\"><a href=\"#disk-structure\" class=\"headerlink\" title=\"disk structure\"></a>disk structure</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71506681-e8a03e80-28bc-11ea-862d-8e6d7f10eb07.png\" alt=\"image\"></p>\n<p>tracktracksectorsectortrack nosector noblock10block</p>\n<h2 id=\"indexing\"><a href=\"#indexing\" class=\"headerlink\" title=\"indexing\"></a>indexing</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71506950-d07cef00-28bd-11ea-8ed2-0f5ae150eabd.png\" alt=\"image\"></p>\n<p>100id1011020idindexing</p>\n<h2 id=\"multi-indexingm-way-search-tree\"><a href=\"#multi-indexingm-way-search-tree\" class=\"headerlink\" title=\"multi-indexingm-way search tree\"></a>multi-indexingm-way search tree</h2><p>1W10W100Wloadmulti-indexing</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71510392-b9dc9500-28c9-11ea-9518-7e4e92b12e49.png\" alt=\"image\"></p>\n<p>m-way search treebinary-search treebinary-search treeI/OI/Om-treem-way search treeI/O</p>\n<h2 id=\"b-tree\"><a href=\"#b-tree\" class=\"headerlink\" title=\"b-tree\"></a>b-tree</h2><p>b-treem-way search treem-way search tree</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71511235-8f400b80-28cc-11ea-9171-ee6ccefb264f.png\" alt=\"image\"></p>\n<p>b-tree</p>\n<ul>\n<li>m2Ceil(m/2)</li>\n<li></li>\n<li>nnceil(m/2)-1 &lt;= n &lt;= m-1k1 &lt; k2 &lt;  &lt; ki &lt; kn</li>\n<li>n+1P(i-1)kik(i-1)</li>\n</ul>\n<p>b-tree<a href=\"https://www.geeksforgeeks.org/introduction-of-b-tree-2/\" target=\"_blank\" rel=\"noopener\">b-tree</a></p>\n<h2 id=\"b-tree-1\"><a href=\"#b-tree-1\" class=\"headerlink\" title=\"b+ tree\"></a>b+ tree</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71511550-bfd47500-28cd-11ea-90aa-c8589680301f.png\" alt=\"image\"></p>\n<p>b-treeb-treeb+ treeb-tree</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><a href=\"https://www.geeksforgeeks.org/introduction-of-b-tree/\" target=\"_blank\" rel=\"noopener\">b+ tree</a></p>\n","site":{"data":{}},"excerpt":"<p>YouTube<a href=\"https://www.youtube.com/watch?v=aZjYr87r1b8\" target=\"_blank\" rel=\"noopener\">B</a></p>","more":"<h2 id=\"disk-structure\"><a href=\"#disk-structure\" class=\"headerlink\" title=\"disk structure\"></a>disk structure</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71506681-e8a03e80-28bc-11ea-862d-8e6d7f10eb07.png\" alt=\"image\"></p>\n<p>tracktracksectorsectortrack nosector noblock10block</p>\n<h2 id=\"indexing\"><a href=\"#indexing\" class=\"headerlink\" title=\"indexing\"></a>indexing</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71506950-d07cef00-28bd-11ea-8ed2-0f5ae150eabd.png\" alt=\"image\"></p>\n<p>100id1011020idindexing</p>\n<h2 id=\"multi-indexingm-way-search-tree\"><a href=\"#multi-indexingm-way-search-tree\" class=\"headerlink\" title=\"multi-indexingm-way search tree\"></a>multi-indexingm-way search tree</h2><p>1W10W100Wloadmulti-indexing</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71510392-b9dc9500-28c9-11ea-9518-7e4e92b12e49.png\" alt=\"image\"></p>\n<p>m-way search treebinary-search treebinary-search treeI/OI/Om-treem-way search treeI/O</p>\n<h2 id=\"b-tree\"><a href=\"#b-tree\" class=\"headerlink\" title=\"b-tree\"></a>b-tree</h2><p>b-treem-way search treem-way search tree</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71511235-8f400b80-28cc-11ea-9171-ee6ccefb264f.png\" alt=\"image\"></p>\n<p>b-tree</p>\n<ul>\n<li>m2Ceil(m/2)</li>\n<li></li>\n<li>nnceil(m/2)-1 &lt;= n &lt;= m-1k1 &lt; k2 &lt;  &lt; ki &lt; kn</li>\n<li>n+1P(i-1)kik(i-1)</li>\n</ul>\n<p>b-tree<a href=\"https://www.geeksforgeeks.org/introduction-of-b-tree-2/\" target=\"_blank\" rel=\"noopener\">b-tree</a></p>\n<h2 id=\"b-tree-1\"><a href=\"#b-tree-1\" class=\"headerlink\" title=\"b+ tree\"></a>b+ tree</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71511550-bfd47500-28cd-11ea-90aa-c8589680301f.png\" alt=\"image\"></p>\n<p>b-treeb-treeb+ treeb-tree</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><a href=\"https://www.geeksforgeeks.org/introduction-of-b-tree/\" target=\"_blank\" rel=\"noopener\">b+ tree</a></p>"},{"title":"6","date":"2019-12-27T14:29:43.000Z","comments":1,"_content":"\n[6](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/solution/yi-ge-tong-yong-fang-fa-tuan-mie-6-dao-gu-piao-wen/)6\n\n<!--more-->\n\n \n\n6ikjj\n```python\n# dp[i][k][1 or 0]\nii0 <= i <= n-1\nkk1 <= k <= Kbuyk1sell1\n10\n\ndp[i][k][1 or 0]ik\n\ndp[i][k][0]\n```\n\n\n```python\n# \ndp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n              max(, )\ndp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n              max(, )\n\ndp[i][k][1 or 0]i-1k0\ndp[0][k][0] = 0 # 00\ndp[0][k][1] = 0 - prices[0] # 0prices[0]\n```\n\n6\n\n[1](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # k = 1dp[i-1][0][0]0k1\n        # dp[i][1][0] = max(dp[i-1][1][0], dp[i-1][1][1]+prices[i])\n        # dp[i][1][1] = max(dp[i-1][1][1], dp[i-1][0][0]-prices[i])\n        #\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        # dp[i][1] = max(dp[i-1][1], -prices[i])\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n            dp[i][1] = max(dp[i-1][1], -prices[i])\n        return dp[-1][0]\n```\n\n[2](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        #\n        # kk\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        #               max(, )\n        # dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        #               max(, )\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n            dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        return dp[-1][0]\n```\n\n[3](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # k = 2\n        if len(prices) < 2:\n            return 0\n        max_k = 2 + 1\n        # [0] * 2list...\n        # dp = [[[0] * 2] * max_k] * len(prices)\n        dp = [[[0] * 2 for _ in range(max_k)] for _ in range(len(prices))]\n        print(dp)\n        for k in range(1, max_k):\n            dp[0][k][0] = 0\n            dp[0][k][1] = 0 - prices[0]\n            for i in range(1, len(prices)):\n                dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n                dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        return dp[-1][-1][0]\n```\n\n[4](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/)\n```python\nclass Solution(object):\n    def maxProfit(self, k, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # k = 2\n        if len(prices) < 2:\n            return 0\n        # k\n        if k > len(prices) / 2: \n            dp = [[0] * 2 for _ in range(len(prices))]\n            dp[0][0] = 0\n            dp[0][1] = 0 - prices[0]\n            for i in range(1, len(prices)):\n                dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n                dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n            return dp[-1][0]\n        max_k = k + 1\n        # [0] * 2list...\n        # dp = [[[0] * 2] * max_k] * len(prices)\n        dp = [[[0] * 2 for _ in range(max_k)] for _ in range(len(prices))]\n        for _k in range(1, max_k):\n            dp[0][_k][0] = 0\n            dp[0][_k][1] = 0 - prices[0]\n            for i in range(1, len(prices)):\n                dp[i][_k][0] = max(dp[i-1][_k][0], dp[i-1][_k][1]+prices[i])\n                dp[i][_k][1] = max(dp[i-1][_k][1], dp[i-1][_k-1][0]-prices[i])\n        return dp[-1][-1][0]\n```\n\n[](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices, fee):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # kk\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        #               max(, )\n        # dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        #               max(, )\n        # \n        # \n        # dp[i][k][0] = max(dp[i-1][0], dp[i-1][1]+prices[i]-fee)\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i]-fee)\n            dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        return dp[-1][0]\n```\n\n[](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # kk\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        #               max(, )\n        # dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        #               max(, )\n        # \n        # \n        # dp[i][k][1] = max(dp[i-1][1], dp[i-2][0]-prices[i])\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n            dp[i][1] = max(dp[i-1][1], dp[i-2][0]-prices[i]) # i-2\n        return dp[-1][0]\n```","source":"_posts/2019-12-27-stock-dp.md","raw":"---\ntitle: 6\ndate: 2019-12-27 22:29:43\ntags: ['Algorithm', '']\ncomments: true\ncategories: ['']\n---\n\n[6](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/solution/yi-ge-tong-yong-fang-fa-tuan-mie-6-dao-gu-piao-wen/)6\n\n<!--more-->\n\n \n\n6ikjj\n```python\n# dp[i][k][1 or 0]\nii0 <= i <= n-1\nkk1 <= k <= Kbuyk1sell1\n10\n\ndp[i][k][1 or 0]ik\n\ndp[i][k][0]\n```\n\n\n```python\n# \ndp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n              max(, )\ndp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n              max(, )\n\ndp[i][k][1 or 0]i-1k0\ndp[0][k][0] = 0 # 00\ndp[0][k][1] = 0 - prices[0] # 0prices[0]\n```\n\n6\n\n[1](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # k = 1dp[i-1][0][0]0k1\n        # dp[i][1][0] = max(dp[i-1][1][0], dp[i-1][1][1]+prices[i])\n        # dp[i][1][1] = max(dp[i-1][1][1], dp[i-1][0][0]-prices[i])\n        #\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        # dp[i][1] = max(dp[i-1][1], -prices[i])\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n            dp[i][1] = max(dp[i-1][1], -prices[i])\n        return dp[-1][0]\n```\n\n[2](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        #\n        # kk\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        #               max(, )\n        # dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        #               max(, )\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n            dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        return dp[-1][0]\n```\n\n[3](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # k = 2\n        if len(prices) < 2:\n            return 0\n        max_k = 2 + 1\n        # [0] * 2list...\n        # dp = [[[0] * 2] * max_k] * len(prices)\n        dp = [[[0] * 2 for _ in range(max_k)] for _ in range(len(prices))]\n        print(dp)\n        for k in range(1, max_k):\n            dp[0][k][0] = 0\n            dp[0][k][1] = 0 - prices[0]\n            for i in range(1, len(prices)):\n                dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n                dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        return dp[-1][-1][0]\n```\n\n[4](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/)\n```python\nclass Solution(object):\n    def maxProfit(self, k, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # k = 2\n        if len(prices) < 2:\n            return 0\n        # k\n        if k > len(prices) / 2: \n            dp = [[0] * 2 for _ in range(len(prices))]\n            dp[0][0] = 0\n            dp[0][1] = 0 - prices[0]\n            for i in range(1, len(prices)):\n                dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n                dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n            return dp[-1][0]\n        max_k = k + 1\n        # [0] * 2list...\n        # dp = [[[0] * 2] * max_k] * len(prices)\n        dp = [[[0] * 2 for _ in range(max_k)] for _ in range(len(prices))]\n        for _k in range(1, max_k):\n            dp[0][_k][0] = 0\n            dp[0][_k][1] = 0 - prices[0]\n            for i in range(1, len(prices)):\n                dp[i][_k][0] = max(dp[i-1][_k][0], dp[i-1][_k][1]+prices[i])\n                dp[i][_k][1] = max(dp[i-1][_k][1], dp[i-1][_k-1][0]-prices[i])\n        return dp[-1][-1][0]\n```\n\n[](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices, fee):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # kk\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        #               max(, )\n        # dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        #               max(, )\n        # \n        # \n        # dp[i][k][0] = max(dp[i-1][0], dp[i-1][1]+prices[i]-fee)\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i]-fee)\n            dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        return dp[-1][0]\n```\n\n[](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/)\n```python\nclass Solution(object):\n    def maxProfit(self, prices):\n        \"\"\"\n        :type prices: List[int]\n        :rtype: int\n        \"\"\"\n        # dp[i][k][1 or 0]\n        # ii0 <= i <= n-1\n        # kk1 <= k <= Kbuyk1\n        # 10\n        # \n        # dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])\n        #               max(, )\n        # dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])\n        #               max(, )\n        # i-1k0\n        # dp[-1][k][0] = dp[i][0][0] = 0\n        # dp[-1][k][1] = dp[i][0][1] = -infinite\n        #\n        # kk\n        # dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n        #               max(, )\n        # dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])\n        #               max(, )\n        # \n        # \n        # dp[i][k][1] = max(dp[i-1][1], dp[i-2][0]-prices[i])\n        if len(prices) < 2:\n            return 0\n        dp = [[0] * 2 for _ in range(len(prices))]\n        dp[0][0] = 0\n        dp[0][1] = 0 - prices[0]\n        for i in range(1, len(prices)):\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])\n            dp[i][1] = max(dp[i-1][1], dp[i-2][0]-prices[i]) # i-2\n        return dp[-1][0]\n```","slug":"stock-dp","published":1,"updated":"2020-04-12T03:33:58.204Z","_id":"ck8wh7lcw003m4supayvyuguz","layout":"post","photos":[],"link":"","content":"<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/solution/yi-ge-tong-yong-fang-fa-tuan-mie-6-dao-gu-piao-wen/\" target=\"_blank\" rel=\"noopener\">6</a>6</p>\n<a id=\"more\"></a>\n<p> </p>\n<p>6ikjj<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">ii<span class=\"number\">0</span> &lt;= i &lt;= n<span class=\"number\">-1</span></span><br><span class=\"line\">kk<span class=\"number\">1</span> &lt;= k &lt;= Kbuyk<span class=\"number\">1</span>sell<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">1</span><span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][k][<span class=\"number\">1</span> <span class=\"keyword\">or</span> <span class=\"number\">0</span>]ik</span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][k][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">dp[i][k][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">              max(, )</span><br><span class=\"line\">dp[i][k][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][k<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">              max(, )</span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][k][<span class=\"number\">1</span> <span class=\"keyword\">or</span> <span class=\"number\">0</span>]i<span class=\"number\">-1</span>k<span class=\"number\">0</span></span><br><span class=\"line\">dp[<span class=\"number\">0</span>][k][<span class=\"number\">0</span>] = <span class=\"number\">0</span> <span class=\"comment\"># 00</span></span><br><span class=\"line\">dp[<span class=\"number\">0</span>][k][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>] <span class=\"comment\"># 0prices[0]</span></span><br></pre></td></tr></table></figure></p>\n<p>6</p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/\" target=\"_blank\" rel=\"noopener\">1</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># k = 1dp[i-1][0][0]0k1</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1][0] = max(dp[i-1][1][0], dp[i-1][1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1][1] = max(dp[i-1][1][1], dp[i-1][0][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], -prices[i])</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], -prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/\" target=\"_blank\" rel=\"noopener\">2</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># kk</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/\" target=\"_blank\" rel=\"noopener\">3</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># k = 2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        max_k = <span class=\"number\">2</span> + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># [0] * 2list...</span></span><br><span class=\"line\">        <span class=\"comment\"># dp = [[[0] * 2] * max_k] * len(prices)</span></span><br><span class=\"line\">        dp = [[[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(max_k)] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        print(dp)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, max_k):</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][k][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][k][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">                dp[i][k][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">                dp[i][k][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][k<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/\" target=\"_blank\" rel=\"noopener\">4</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, k, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># k = 2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"comment\"># k</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k &gt; len(prices) / <span class=\"number\">2</span>: </span><br><span class=\"line\">            dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">                dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">                dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\">        max_k = k + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># [0] * 2list...</span></span><br><span class=\"line\">        <span class=\"comment\"># dp = [[[0] * 2] * max_k] * len(prices)</span></span><br><span class=\"line\">        dp = [[[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(max_k)] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> _k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, max_k):</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][_k][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][_k][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">                dp[i][_k][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][_k][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][_k][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">                dp[i][_k][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][_k][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][_k<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices, fee)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># kk</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][0], dp[i-1][1]+prices[i]-fee)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i]-fee)</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># kk</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][1], dp[i-2][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-2</span>][<span class=\"number\">0</span>]-prices[i]) <span class=\"comment\"># i-2</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/solution/yi-ge-tong-yong-fang-fa-tuan-mie-6-dao-gu-piao-wen/\" target=\"_blank\" rel=\"noopener\">6</a>6</p>","more":"<p> </p>\n<p>6ikjj<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">ii<span class=\"number\">0</span> &lt;= i &lt;= n<span class=\"number\">-1</span></span><br><span class=\"line\">kk<span class=\"number\">1</span> &lt;= k &lt;= Kbuyk<span class=\"number\">1</span>sell<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">1</span><span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][k][<span class=\"number\">1</span> <span class=\"keyword\">or</span> <span class=\"number\">0</span>]ik</span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][k][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">dp[i][k][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">              max(, )</span><br><span class=\"line\">dp[i][k][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][k<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">              max(, )</span><br><span class=\"line\"></span><br><span class=\"line\">dp[i][k][<span class=\"number\">1</span> <span class=\"keyword\">or</span> <span class=\"number\">0</span>]i<span class=\"number\">-1</span>k<span class=\"number\">0</span></span><br><span class=\"line\">dp[<span class=\"number\">0</span>][k][<span class=\"number\">0</span>] = <span class=\"number\">0</span> <span class=\"comment\"># 00</span></span><br><span class=\"line\">dp[<span class=\"number\">0</span>][k][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>] <span class=\"comment\"># 0prices[0]</span></span><br></pre></td></tr></table></figure></p>\n<p>6</p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/\" target=\"_blank\" rel=\"noopener\">1</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># k = 1dp[i-1][0][0]0k1</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1][0] = max(dp[i-1][1][0], dp[i-1][1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1][1] = max(dp[i-1][1][1], dp[i-1][0][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], -prices[i])</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], -prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/\" target=\"_blank\" rel=\"noopener\">2</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># kk</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/\" target=\"_blank\" rel=\"noopener\">3</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># k = 2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        max_k = <span class=\"number\">2</span> + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># [0] * 2list...</span></span><br><span class=\"line\">        <span class=\"comment\"># dp = [[[0] * 2] * max_k] * len(prices)</span></span><br><span class=\"line\">        dp = [[[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(max_k)] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        print(dp)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, max_k):</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][k][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][k][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">                dp[i][k][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">                dp[i][k][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][k][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][k<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/\" target=\"_blank\" rel=\"noopener\">4</a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, k, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># k = 2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"comment\"># k</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k &gt; len(prices) / <span class=\"number\">2</span>: </span><br><span class=\"line\">            dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">                dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">                dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\">        max_k = k + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># [0] * 2list...</span></span><br><span class=\"line\">        <span class=\"comment\"># dp = [[[0] * 2] * max_k] * len(prices)</span></span><br><span class=\"line\">        dp = [[[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(max_k)] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> _k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, max_k):</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][_k][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][_k][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">                dp[i][_k][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][_k][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][_k][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">                dp[i][_k][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][_k][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][_k<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices, fee)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># kk</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][0], dp[i-1][1]+prices[i]-fee)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i]-fee)</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-prices[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        :type prices: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1 or 0]</span></span><br><span class=\"line\">        <span class=\"comment\"># ii0 &lt;= i &lt;= n-1</span></span><br><span class=\"line\">        <span class=\"comment\"># kk1 &lt;= k &lt;= Kbuyk1</span></span><br><span class=\"line\">        <span class=\"comment\"># 10</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># i-1k0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][0] = dp[i][0][0] = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[-1][k][1] = dp[i][0][1] = -infinite</span></span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"comment\"># kk</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][0] = max(dp[i-1][0], dp[i-1][1]+prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][1] = max(dp[i-1][1], dp[i-1][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"comment\">#               max(, )</span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"comment\"># dp[i][k][1] = max(dp[i-1][1], dp[i-2][0]-prices[i])</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(prices) &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        dp = [[<span class=\"number\">0</span>] * <span class=\"number\">2</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(prices))]</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][<span class=\"number\">1</span>] = <span class=\"number\">0</span> - prices[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>], dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+prices[i])</span><br><span class=\"line\">            dp[i][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>], dp[i<span class=\"number\">-2</span>][<span class=\"number\">0</span>]-prices[i]) <span class=\"comment\"># i-2</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure></p>"},{"title":"Kafka","date":"2020-01-03T14:00:32.000Z","comments":1,"_content":"\nKafka\n\n<!--more-->\n\n## Kafka\n\n![image](https://user-images.githubusercontent.com/4915189/70886991-c6363780-2017-11ea-9b16-c455e0daf769.png)\n\n- Topic\n- Partitionleaderfollowerleaderproducerconsumeroffsetfollowerconsumer groupleaderrebalanceconsumer offset\n- record\n\n## Kafka\n\n- 0.9.0.0JavaAPIKafka Connect\n- 0.11.0.0Producer APIAPIKafka\n\n## kafka\n\n![image](https://user-images.githubusercontent.com/4915189/70970163-9b5fe800-20d8-11ea-955d-1949f4889d4f.png)\n![image](https://user-images.githubusercontent.com/4915189/70970212-bc283d80-20d8-11ea-9c1d-1e4bd5772adf.png)\n\n\n## \n\n- \n- \n- Key-orderingkey\n\n## \n\nProducerBrokerConsumer\n\n- lz4 > snappy > zstd & gzip\n- zstd > lz4 > gzip > snappy\n- snappyzstd\n- CPUsnappygzip\n\n## \n\n- producerproducer.send(msg, callback)producer.send(msg)callback\n- \n- brokerfactor\n- produceracks = all\n- producerretries\n- uncleanbroker leader\n- consumer\n\n## producerTCP\n- producerbootstrap.serversBroker\n- producer\n- \n- kafka\n\n## \n\n- \n- producersendsendack\n- commit\n\n## __consumer_offsets\n- zookeeperzookeeper\n- key/valuekey`<Group ID, , >`\n- kafkaconsumerkafka\n- kafkacompact\n\n## consumer group\n- consumercoordinatorbroker\n- coordinator\n- coordinator\n  - partitionId=Math.abs(groupId.hashCode() % __consumer_offsets)\n  - leaderbroker\n- consumerkafka\n  - \n    - session.timeout.ms6consumer\n    - heartbeat.interval.ms2\n    - **consumer3**\n  - \n    - max.poll.interval.mspollconsumer\n  - FULL GC\n\n## KafkaConsumer\n- \n- KafkaConsumer\n- 1KafkaConsumertopic_partition\n- 2KafkaConsumerpoll\n\n## CommitFailedException\n- pollmax.poll.interval.msconsumerLeaveGroup0.10.1.0\n    - \n    - max.poll.interval.ms\n    - max.poll.records\n    - \n- standalonegroupid\n\n## TCP\n- KafkaConsumerTCP3TCP\n    -  FindCoordinator Broker\n    - coordinator=> Rebalance\n    - leaderbroker=> \n\n## \n- 5\n- commitSync\n- commitAsync\n- consumer\n- kafka5000100\n\n## consumer group\n\nconsumer lag100W80Wlag20Wkafkaconsumers-groupcomsumerjava apijmx\n\n## \n\nkafkareplicaappendkafkareplicaleaderfollowerbroker\n\n![image](https://user-images.githubusercontent.com/4915189/70912772-a02c8980-204f-11ea-8643-b0d48cf9741f.png)\n\n/leaderfollowerleadercrashkafka\n- \n- \n\nkafkaread-your-writesABABBread-your-writes\n\nkafkaISRnormalleaderISRfollowerleaderreplica.lag.time.max.msISRISRISRleadercrashfollowerreplica.lag.time.max.msuncleanunclean.leader.election.enabletrue\n\n## broker\n\nbrokersocket[reactor](http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf)reactoracceptdispatchworker\n\n![image](https://user-images.githubusercontent.com/4915189/70974586-0e6e5c00-20e3-11ea-8b6f-061ba7136691.png)\n\n\n\n![image](https://user-images.githubusercontent.com/4915189/70974621-234aef80-20e3-11ea-9465-ae83e6d74c63.png)\n\n\n\nread()IOPRODUCEFETCHPRODUCEackallleaderfollowerPRODUCEpurgatoryreplica\n\n![image](https://user-images.githubusercontent.com/4915189/72348031-69ac6200-3714-11ea-87c9-d445e7349d01.png)\n\nmatt33\n\nacceptorIO\n\n## kafka\n\n(consumer group)\n- group.id\n- timeout\n- \n\nconsumer groupbrokerkafka\n![image](https://user-images.githubusercontent.com/4915189/71159642-fcc2bb00-2280-11ea-83c9-3674506d08aa.png)\n- PreparingRebalance\n- Stable\n- Dead\n\nkafka_consumer_offsetstopicconsumer groupoffsettopicpartitionpartitionleaderbrokergroup\n\nconsumer\n- **REBALANCE_IN_PROGRESS**response\n- (JoinGroup)ACKJoinGroupconsumerleader consumerACKJoinGroupconsumer\n- SyncGroupleader consumerconsumer\n- consumer\n\n\n![image](https://user-images.githubusercontent.com/4915189/71161512-727c5600-2284-11ea-816a-0488b3d93976.png)\n\ntopicconsumerconsumertopic_partitiontopicpartitionNNtopic_partition\n\n## kafkacontroller\n\nZookeeperKafkaBrokerzookeeper/controllercontrollercontrollerbroker/controller\n- \n- \n- preferredbrokerleader\n- brokerbrokerbroker/broker/ids/\n- zookeeperbroker\n\n\n![image](https://user-images.githubusercontent.com/4915189/71415497-f4122080-2696-11ea-92b9-4060d033b866.png)\n\n- zookeeperqueue\n- queueStopReplica\n\n## Leader Epoch\n\n![image](https://user-images.githubusercontent.com/4915189/71415605-769ae000-2697-11ea-92a9-faa2fc36bca0.png)\n\n- high water maskHWmessagefollowerreplicateHWreplicate\n    - leaderHWHW\n    - followerHWleader = min(leaderHW, followerLEO)\n- log end offsetLEOLEOLEO1\n    - leaderfollowerLEOleaderHW = min(followerLEOleaderLEO)\n\n![image](https://user-images.githubusercontent.com/4915189/71431213-50af2300-270b-11ea-8af6-8146d902e255.png)\n\n- producer0leaderLEO1\n- followerfetchoffset0leaderremote LEO0offsetleaderHWmin(remote LEO, leader LEO)0\n- followerfetch0LEO1HWmin(followerLEOleaderHW)0\n- followerfetchoffset1leaderremote LEO1offsetleaderHWmin(remote LEO, leader LEO)1\n- followerfetchleaderHWmin(followerLEOleaderHW)1\n\nleaderHWRPCHWresponsefollowerfollowerfollowerLEOHWleader\n\n![image](https://user-images.githubusercontent.com/4915189/71431323-0c705280-270c-11ea-92c0-de96d67b89ce.png)\n\n[KIP-101](https://cwiki.apache.org/confluence/display/KAFKA/KIP-101+-+Alter+Replication+Protocol+to+use+Leader+Epoch+rather+than+High+Watermark+for+Truncation)EpochfollowerleaderLEO\n![image](https://user-images.githubusercontent.com/4915189/71431336-25790380-270c-11ea-8301-3e582ff3c1cb.png)\n\n## \n1. MQ\n    - \n    - \n    - \n1. MQ\n    - RabbitMQ\n    - RedisMQ\n    - ZeroMQmq\n    - ActiveMQZeroMQ\n    - kafkapush and pullreplica\n1. Kafka delivery guarantee\n    - At most onceproducer\n    - At least once\n    - Exactly onceproducerPIDbroker<PID, TOPIC, PARTITION>sequenceproducer\n1. \n    - topic-partitionsegmentsegmentoffset+kafkasegment\n1. push vs pull\n    - pushkafkapullpull\n1. topicpartition\n    - nbroker\n    - ipartitionleader(i mod n)broker\n    - ipartitionjfollower((i+j) mod n)broker\n1. produerACK\n    - acks = all\n    - producerleaderleaderlog\n    - ISRfollowerPULLACKleaderfollower\n1. leader\n    - kafkazookeeperbrokerpartitionzookeepercontrollerbrokerISRbrokerleader\n1. kafka\n    - partitionbroker\n    - partitionbroker\n1. kafka\n    - producersendbrokerbroker\n    - brokerflushpage cachecachereplica\n    - kafkasendfilesegmentzero copy\n    - produceconsume\n    - kafkaavroprotocol buffer\n1. kafka\n    - sessionproducer\n    - sessionproducercommitabort\n    - topic-partition\n    - \n        - producertransaction.id\n        - consumercommitconsumertopicconsumerseek\n\n## \n\n![image](https://user-images.githubusercontent.com/4915189/71614560-5a42fa00-2be7-11ea-9a9f-f30a025b6381.png)\n\n","source":"_posts/2020-01-12-kafka-geekbang-note.md","raw":"---\ntitle: Kafka\ndate: 2020-01-03 22:00:32\ntags: ['Kafka']\ncomments: true\ncategories: ['']\n---\n\nKafka\n\n<!--more-->\n\n## Kafka\n\n![image](https://user-images.githubusercontent.com/4915189/70886991-c6363780-2017-11ea-9b16-c455e0daf769.png)\n\n- Topic\n- Partitionleaderfollowerleaderproducerconsumeroffsetfollowerconsumer groupleaderrebalanceconsumer offset\n- record\n\n## Kafka\n\n- 0.9.0.0JavaAPIKafka Connect\n- 0.11.0.0Producer APIAPIKafka\n\n## kafka\n\n![image](https://user-images.githubusercontent.com/4915189/70970163-9b5fe800-20d8-11ea-955d-1949f4889d4f.png)\n![image](https://user-images.githubusercontent.com/4915189/70970212-bc283d80-20d8-11ea-9c1d-1e4bd5772adf.png)\n\n\n## \n\n- \n- \n- Key-orderingkey\n\n## \n\nProducerBrokerConsumer\n\n- lz4 > snappy > zstd & gzip\n- zstd > lz4 > gzip > snappy\n- snappyzstd\n- CPUsnappygzip\n\n## \n\n- producerproducer.send(msg, callback)producer.send(msg)callback\n- \n- brokerfactor\n- produceracks = all\n- producerretries\n- uncleanbroker leader\n- consumer\n\n## producerTCP\n- producerbootstrap.serversBroker\n- producer\n- \n- kafka\n\n## \n\n- \n- producersendsendack\n- commit\n\n## __consumer_offsets\n- zookeeperzookeeper\n- key/valuekey`<Group ID, , >`\n- kafkaconsumerkafka\n- kafkacompact\n\n## consumer group\n- consumercoordinatorbroker\n- coordinator\n- coordinator\n  - partitionId=Math.abs(groupId.hashCode() % __consumer_offsets)\n  - leaderbroker\n- consumerkafka\n  - \n    - session.timeout.ms6consumer\n    - heartbeat.interval.ms2\n    - **consumer3**\n  - \n    - max.poll.interval.mspollconsumer\n  - FULL GC\n\n## KafkaConsumer\n- \n- KafkaConsumer\n- 1KafkaConsumertopic_partition\n- 2KafkaConsumerpoll\n\n## CommitFailedException\n- pollmax.poll.interval.msconsumerLeaveGroup0.10.1.0\n    - \n    - max.poll.interval.ms\n    - max.poll.records\n    - \n- standalonegroupid\n\n## TCP\n- KafkaConsumerTCP3TCP\n    -  FindCoordinator Broker\n    - coordinator=> Rebalance\n    - leaderbroker=> \n\n## \n- 5\n- commitSync\n- commitAsync\n- consumer\n- kafka5000100\n\n## consumer group\n\nconsumer lag100W80Wlag20Wkafkaconsumers-groupcomsumerjava apijmx\n\n## \n\nkafkareplicaappendkafkareplicaleaderfollowerbroker\n\n![image](https://user-images.githubusercontent.com/4915189/70912772-a02c8980-204f-11ea-8643-b0d48cf9741f.png)\n\n/leaderfollowerleadercrashkafka\n- \n- \n\nkafkaread-your-writesABABBread-your-writes\n\nkafkaISRnormalleaderISRfollowerleaderreplica.lag.time.max.msISRISRISRleadercrashfollowerreplica.lag.time.max.msuncleanunclean.leader.election.enabletrue\n\n## broker\n\nbrokersocket[reactor](http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf)reactoracceptdispatchworker\n\n![image](https://user-images.githubusercontent.com/4915189/70974586-0e6e5c00-20e3-11ea-8b6f-061ba7136691.png)\n\n\n\n![image](https://user-images.githubusercontent.com/4915189/70974621-234aef80-20e3-11ea-9465-ae83e6d74c63.png)\n\n\n\nread()IOPRODUCEFETCHPRODUCEackallleaderfollowerPRODUCEpurgatoryreplica\n\n![image](https://user-images.githubusercontent.com/4915189/72348031-69ac6200-3714-11ea-87c9-d445e7349d01.png)\n\nmatt33\n\nacceptorIO\n\n## kafka\n\n(consumer group)\n- group.id\n- timeout\n- \n\nconsumer groupbrokerkafka\n![image](https://user-images.githubusercontent.com/4915189/71159642-fcc2bb00-2280-11ea-83c9-3674506d08aa.png)\n- PreparingRebalance\n- Stable\n- Dead\n\nkafka_consumer_offsetstopicconsumer groupoffsettopicpartitionpartitionleaderbrokergroup\n\nconsumer\n- **REBALANCE_IN_PROGRESS**response\n- (JoinGroup)ACKJoinGroupconsumerleader consumerACKJoinGroupconsumer\n- SyncGroupleader consumerconsumer\n- consumer\n\n\n![image](https://user-images.githubusercontent.com/4915189/71161512-727c5600-2284-11ea-816a-0488b3d93976.png)\n\ntopicconsumerconsumertopic_partitiontopicpartitionNNtopic_partition\n\n## kafkacontroller\n\nZookeeperKafkaBrokerzookeeper/controllercontrollercontrollerbroker/controller\n- \n- \n- preferredbrokerleader\n- brokerbrokerbroker/broker/ids/\n- zookeeperbroker\n\n\n![image](https://user-images.githubusercontent.com/4915189/71415497-f4122080-2696-11ea-92b9-4060d033b866.png)\n\n- zookeeperqueue\n- queueStopReplica\n\n## Leader Epoch\n\n![image](https://user-images.githubusercontent.com/4915189/71415605-769ae000-2697-11ea-92a9-faa2fc36bca0.png)\n\n- high water maskHWmessagefollowerreplicateHWreplicate\n    - leaderHWHW\n    - followerHWleader = min(leaderHW, followerLEO)\n- log end offsetLEOLEOLEO1\n    - leaderfollowerLEOleaderHW = min(followerLEOleaderLEO)\n\n![image](https://user-images.githubusercontent.com/4915189/71431213-50af2300-270b-11ea-8af6-8146d902e255.png)\n\n- producer0leaderLEO1\n- followerfetchoffset0leaderremote LEO0offsetleaderHWmin(remote LEO, leader LEO)0\n- followerfetch0LEO1HWmin(followerLEOleaderHW)0\n- followerfetchoffset1leaderremote LEO1offsetleaderHWmin(remote LEO, leader LEO)1\n- followerfetchleaderHWmin(followerLEOleaderHW)1\n\nleaderHWRPCHWresponsefollowerfollowerfollowerLEOHWleader\n\n![image](https://user-images.githubusercontent.com/4915189/71431323-0c705280-270c-11ea-92c0-de96d67b89ce.png)\n\n[KIP-101](https://cwiki.apache.org/confluence/display/KAFKA/KIP-101+-+Alter+Replication+Protocol+to+use+Leader+Epoch+rather+than+High+Watermark+for+Truncation)EpochfollowerleaderLEO\n![image](https://user-images.githubusercontent.com/4915189/71431336-25790380-270c-11ea-8301-3e582ff3c1cb.png)\n\n## \n1. MQ\n    - \n    - \n    - \n1. MQ\n    - RabbitMQ\n    - RedisMQ\n    - ZeroMQmq\n    - ActiveMQZeroMQ\n    - kafkapush and pullreplica\n1. Kafka delivery guarantee\n    - At most onceproducer\n    - At least once\n    - Exactly onceproducerPIDbroker<PID, TOPIC, PARTITION>sequenceproducer\n1. \n    - topic-partitionsegmentsegmentoffset+kafkasegment\n1. push vs pull\n    - pushkafkapullpull\n1. topicpartition\n    - nbroker\n    - ipartitionleader(i mod n)broker\n    - ipartitionjfollower((i+j) mod n)broker\n1. produerACK\n    - acks = all\n    - producerleaderleaderlog\n    - ISRfollowerPULLACKleaderfollower\n1. leader\n    - kafkazookeeperbrokerpartitionzookeepercontrollerbrokerISRbrokerleader\n1. kafka\n    - partitionbroker\n    - partitionbroker\n1. kafka\n    - producersendbrokerbroker\n    - brokerflushpage cachecachereplica\n    - kafkasendfilesegmentzero copy\n    - produceconsume\n    - kafkaavroprotocol buffer\n1. kafka\n    - sessionproducer\n    - sessionproducercommitabort\n    - topic-partition\n    - \n        - producertransaction.id\n        - consumercommitconsumertopicconsumerseek\n\n## \n\n![image](https://user-images.githubusercontent.com/4915189/71614560-5a42fa00-2be7-11ea-9a9f-f30a025b6381.png)\n\n","slug":"kafka-geekbang-note","published":1,"updated":"2020-04-12T03:43:57.927Z","_id":"ck8wh7lcz003o4sup80n69fab","layout":"post","photos":[],"link":"","content":"<p>Kafka</p>\n<a id=\"more\"></a>\n<h2 id=\"Kafka\"><a href=\"#Kafka\" class=\"headerlink\" title=\"Kafka\"></a>Kafka</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/70886991-c6363780-2017-11ea-9b16-c455e0daf769.png\" alt=\"image\"></p>\n<ul>\n<li>Topic</li>\n<li>Partitionleaderfollowerleaderproducerconsumeroffsetfollowerconsumer groupleaderrebalanceconsumer offset</li>\n<li>record</li>\n</ul>\n<h2 id=\"Kafka\"><a href=\"#Kafka\" class=\"headerlink\" title=\"Kafka\"></a>Kafka</h2><ul>\n<li>0.9.0.0JavaAPIKafka Connect</li>\n<li>0.11.0.0Producer APIAPIKafka</li>\n</ul>\n<h2 id=\"kafka\"><a href=\"#kafka\" class=\"headerlink\" title=\"kafka\"></a>kafka</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/70970163-9b5fe800-20d8-11ea-955d-1949f4889d4f.png\" alt=\"image\"><br><img src=\"https://user-images.githubusercontent.com/4915189/70970212-bc283d80-20d8-11ea-9c1d-1e4bd5772adf.png\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li>Key-orderingkey</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ProducerBrokerConsumer</p>\n<ul>\n<li>lz4 &gt; snappy &gt; zstd &amp; gzip</li>\n<li>zstd &gt; lz4 &gt; gzip &gt; snappy</li>\n<li>snappyzstd</li>\n<li>CPUsnappygzip</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>producerproducer.send(msg, callback)producer.send(msg)callback</li>\n<li></li>\n<li>brokerfactor</li>\n<li>produceracks = all</li>\n<li>producerretries</li>\n<li>uncleanbroker leader</li>\n<li>consumer</li>\n</ul>\n<h2 id=\"producerTCP\"><a href=\"#producerTCP\" class=\"headerlink\" title=\"producerTCP\"></a>producerTCP</h2><ul>\n<li>producerbootstrap.serversBroker</li>\n<li>producer</li>\n<li></li>\n<li>kafka</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li>producersendsendack</li>\n<li>commit</li>\n</ul>\n<h2 id=\"consumer-offsets\"><a href=\"#consumer-offsets\" class=\"headerlink\" title=\"__consumer_offsets\"></a>__consumer_offsets</h2><ul>\n<li>zookeeperzookeeper</li>\n<li>key/valuekey<code>&lt;Group ID, , &gt;</code></li>\n<li>kafkaconsumerkafka</li>\n<li>kafkacompact</li>\n</ul>\n<h2 id=\"consumer-group\"><a href=\"#consumer-group\" class=\"headerlink\" title=\"consumer group\"></a>consumer group</h2><ul>\n<li>consumercoordinatorbroker</li>\n<li>coordinator</li>\n<li>coordinator<ul>\n<li>partitionId=Math.abs(groupId.hashCode() % __consumer_offsets)</li>\n<li>leaderbroker</li>\n</ul>\n</li>\n<li>consumerkafka<ul>\n<li><ul>\n<li>session.timeout.ms6consumer</li>\n<li>heartbeat.interval.ms2</li>\n<li><strong>consumer3</strong></li>\n</ul>\n</li>\n<li><ul>\n<li>max.poll.interval.mspollconsumer</li>\n</ul>\n</li>\n<li>FULL GC</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"KafkaConsumer\"><a href=\"#KafkaConsumer\" class=\"headerlink\" title=\"KafkaConsumer\"></a>KafkaConsumer</h2><ul>\n<li></li>\n<li>KafkaConsumer</li>\n<li>1KafkaConsumertopic_partition</li>\n<li>2KafkaConsumerpoll</li>\n</ul>\n<h2 id=\"CommitFailedException\"><a href=\"#CommitFailedException\" class=\"headerlink\" title=\"CommitFailedException\"></a>CommitFailedException</h2><ul>\n<li>pollmax.poll.interval.msconsumerLeaveGroup0.10.1.0<ul>\n<li></li>\n<li>max.poll.interval.ms</li>\n<li>max.poll.records</li>\n<li></li>\n</ul>\n</li>\n<li>standalonegroupid</li>\n</ul>\n<h2 id=\"TCP\"><a href=\"#TCP\" class=\"headerlink\" title=\"TCP\"></a>TCP</h2><ul>\n<li>KafkaConsumerTCP3TCP<ul>\n<li> FindCoordinator Broker</li>\n<li>coordinator=&gt; Rebalance</li>\n<li>leaderbroker=&gt; </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>5</li>\n<li>commitSync</li>\n<li>commitAsync</li>\n<li>consumer</li>\n<li>kafka5000100</li>\n</ul>\n<h2 id=\"consumer-group\"><a href=\"#consumer-group\" class=\"headerlink\" title=\"consumer group\"></a>consumer group</h2><p>consumer lag100W80Wlag20Wkafkaconsumers-groupcomsumerjava apijmx</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>kafkareplicaappendkafkareplicaleaderfollowerbroker</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/70912772-a02c8980-204f-11ea-8643-b0d48cf9741f.png\" alt=\"image\"></p>\n<p>/leaderfollowerleadercrashkafka</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>kafkaread-your-writesABABBread-your-writes</p>\n<p>kafkaISRnormalleaderISRfollowerleaderreplica.lag.time.max.msISRISRISRleadercrashfollowerreplica.lag.time.max.msuncleanunclean.leader.election.enabletrue</p>\n<h2 id=\"broker\"><a href=\"#broker\" class=\"headerlink\" title=\"broker\"></a>broker</h2><p>brokersocket<a href=\"http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf\" target=\"_blank\" rel=\"noopener\">reactor</a>reactoracceptdispatchworker</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/70974586-0e6e5c00-20e3-11ea-8b6f-061ba7136691.png\" alt=\"image\"></p>\n<p></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/70974621-234aef80-20e3-11ea-9465-ae83e6d74c63.png\" alt=\"image\"></p>\n<p></p>\n<p>read()IOPRODUCEFETCHPRODUCEackallleaderfollowerPRODUCEpurgatoryreplica</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72348031-69ac6200-3714-11ea-87c9-d445e7349d01.png\" alt=\"image\"></p>\n<p>matt33</p>\n<p>acceptorIO</p>\n<h2 id=\"kafka\"><a href=\"#kafka\" class=\"headerlink\" title=\"kafka\"></a>kafka</h2><p>(consumer group)</p>\n<ul>\n<li>group.id</li>\n<li>timeout</li>\n<li></li>\n</ul>\n<p>consumer groupbrokerkafka<br><img src=\"https://user-images.githubusercontent.com/4915189/71159642-fcc2bb00-2280-11ea-83c9-3674506d08aa.png\" alt=\"image\"></p>\n<ul>\n<li>PreparingRebalance</li>\n<li>Stable</li>\n<li>Dead</li>\n</ul>\n<p>kafka_consumer_offsetstopicconsumer groupoffsettopicpartitionpartitionleaderbrokergroup</p>\n<p>consumer</p>\n<ul>\n<li><strong>REBALANCE_IN_PROGRESS</strong>response</li>\n<li>(JoinGroup)ACKJoinGroupconsumerleader consumerACKJoinGroupconsumer</li>\n<li>SyncGroupleader consumerconsumer</li>\n<li>consumer</li>\n</ul>\n<p><br><img src=\"https://user-images.githubusercontent.com/4915189/71161512-727c5600-2284-11ea-816a-0488b3d93976.png\" alt=\"image\"></p>\n<p>topicconsumerconsumertopic_partitiontopicpartitionNNtopic_partition</p>\n<h2 id=\"kafkacontroller\"><a href=\"#kafkacontroller\" class=\"headerlink\" title=\"kafkacontroller\"></a>kafkacontroller</h2><p>ZookeeperKafkaBrokerzookeeper/controllercontrollercontrollerbroker/controller</p>\n<ul>\n<li></li>\n<li></li>\n<li>preferredbrokerleader</li>\n<li>brokerbrokerbroker/broker/ids/</li>\n<li>zookeeperbroker</li>\n</ul>\n<p><br><img src=\"https://user-images.githubusercontent.com/4915189/71415497-f4122080-2696-11ea-92b9-4060d033b866.png\" alt=\"image\"></p>\n<ul>\n<li>zookeeperqueue</li>\n<li>queueStopReplica</li>\n</ul>\n<h2 id=\"Leader-Epoch\"><a href=\"#Leader-Epoch\" class=\"headerlink\" title=\"Leader Epoch\"></a>Leader Epoch</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71415605-769ae000-2697-11ea-92a9-faa2fc36bca0.png\" alt=\"image\"></p>\n<ul>\n<li>high water maskHWmessagefollowerreplicateHWreplicate<ul>\n<li>leaderHWHW</li>\n<li>followerHWleader = min(leaderHW, followerLEO)</li>\n</ul>\n</li>\n<li>log end offsetLEOLEOLEO1<ul>\n<li>leaderfollowerLEOleaderHW = min(followerLEOleaderLEO)</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431213-50af2300-270b-11ea-8af6-8146d902e255.png\" alt=\"image\"></p>\n<ul>\n<li>producer0leaderLEO1</li>\n<li>followerfetchoffset0leaderremote LEO0offsetleaderHWmin(remote LEO, leader LEO)0</li>\n<li>followerfetch0LEO1HWmin(followerLEOleaderHW)0</li>\n<li>followerfetchoffset1leaderremote LEO1offsetleaderHWmin(remote LEO, leader LEO)1</li>\n<li>followerfetchleaderHWmin(followerLEOleaderHW)1</li>\n</ul>\n<p>leaderHWRPCHWresponsefollowerfollowerfollowerLEOHWleader</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431323-0c705280-270c-11ea-92c0-de96d67b89ce.png\" alt=\"image\"></p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-101+-+Alter+Replication+Protocol+to+use+Leader+Epoch+rather+than+High+Watermark+for+Truncation\" target=\"_blank\" rel=\"noopener\">KIP-101</a>EpochfollowerleaderLEO<br><img src=\"https://user-images.githubusercontent.com/4915189/71431336-25790380-270c-11ea-8301-3e582ff3c1cb.png\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>MQ<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>MQ<ul>\n<li>RabbitMQ</li>\n<li>RedisMQ</li>\n<li>ZeroMQmq</li>\n<li>ActiveMQZeroMQ</li>\n<li>kafkapush and pullreplica</li>\n</ul>\n</li>\n<li>Kafka delivery guarantee<ul>\n<li>At most onceproducer</li>\n<li>At least once</li>\n<li>Exactly onceproducerPIDbroker&lt;PID, TOPIC, PARTITION&gt;sequenceproducer</li>\n</ul>\n</li>\n<li><ul>\n<li>topic-partitionsegmentsegmentoffset+kafkasegment</li>\n</ul>\n</li>\n<li>push vs pull<ul>\n<li>pushkafkapullpull</li>\n</ul>\n</li>\n<li>topicpartition<ul>\n<li>nbroker</li>\n<li>ipartitionleader(i mod n)broker</li>\n<li>ipartitionjfollower((i+j) mod n)broker</li>\n</ul>\n</li>\n<li>produerACK<ul>\n<li>acks = all</li>\n<li>producerleaderleaderlog</li>\n<li>ISRfollowerPULLACKleaderfollower</li>\n</ul>\n</li>\n<li>leader<ul>\n<li>kafkazookeeperbrokerpartitionzookeepercontrollerbrokerISRbrokerleader</li>\n</ul>\n</li>\n<li>kafka<ul>\n<li>partitionbroker</li>\n<li>partitionbroker</li>\n</ul>\n</li>\n<li>kafka<ul>\n<li>producersendbrokerbroker</li>\n<li>brokerflushpage cachecachereplica</li>\n<li>kafkasendfilesegmentzero copy</li>\n<li>produceconsume</li>\n<li>kafkaavroprotocol buffer</li>\n</ul>\n</li>\n<li>kafka<ul>\n<li>sessionproducer</li>\n<li>sessionproducercommitabort</li>\n<li>topic-partition</li>\n<li><ul>\n<li>producertransaction.id</li>\n<li>consumercommitconsumertopicconsumerseek</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71614560-5a42fa00-2be7-11ea-9a9f-f30a025b6381.png\" alt=\"image\"></p>\n","site":{"data":{}},"excerpt":"<p>Kafka</p>","more":"<h2 id=\"Kafka\"><a href=\"#Kafka\" class=\"headerlink\" title=\"Kafka\"></a>Kafka</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/70886991-c6363780-2017-11ea-9b16-c455e0daf769.png\" alt=\"image\"></p>\n<ul>\n<li>Topic</li>\n<li>Partitionleaderfollowerleaderproducerconsumeroffsetfollowerconsumer groupleaderrebalanceconsumer offset</li>\n<li>record</li>\n</ul>\n<h2 id=\"Kafka\"><a href=\"#Kafka\" class=\"headerlink\" title=\"Kafka\"></a>Kafka</h2><ul>\n<li>0.9.0.0JavaAPIKafka Connect</li>\n<li>0.11.0.0Producer APIAPIKafka</li>\n</ul>\n<h2 id=\"kafka\"><a href=\"#kafka\" class=\"headerlink\" title=\"kafka\"></a>kafka</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/70970163-9b5fe800-20d8-11ea-955d-1949f4889d4f.png\" alt=\"image\"><br><img src=\"https://user-images.githubusercontent.com/4915189/70970212-bc283d80-20d8-11ea-9c1d-1e4bd5772adf.png\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li>Key-orderingkey</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ProducerBrokerConsumer</p>\n<ul>\n<li>lz4 &gt; snappy &gt; zstd &amp; gzip</li>\n<li>zstd &gt; lz4 &gt; gzip &gt; snappy</li>\n<li>snappyzstd</li>\n<li>CPUsnappygzip</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>producerproducer.send(msg, callback)producer.send(msg)callback</li>\n<li></li>\n<li>brokerfactor</li>\n<li>produceracks = all</li>\n<li>producerretries</li>\n<li>uncleanbroker leader</li>\n<li>consumer</li>\n</ul>\n<h2 id=\"producerTCP\"><a href=\"#producerTCP\" class=\"headerlink\" title=\"producerTCP\"></a>producerTCP</h2><ul>\n<li>producerbootstrap.serversBroker</li>\n<li>producer</li>\n<li></li>\n<li>kafka</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li>producersendsendack</li>\n<li>commit</li>\n</ul>\n<h2 id=\"consumer-offsets\"><a href=\"#consumer-offsets\" class=\"headerlink\" title=\"__consumer_offsets\"></a>__consumer_offsets</h2><ul>\n<li>zookeeperzookeeper</li>\n<li>key/valuekey<code>&lt;Group ID, , &gt;</code></li>\n<li>kafkaconsumerkafka</li>\n<li>kafkacompact</li>\n</ul>\n<h2 id=\"consumer-group\"><a href=\"#consumer-group\" class=\"headerlink\" title=\"consumer group\"></a>consumer group</h2><ul>\n<li>consumercoordinatorbroker</li>\n<li>coordinator</li>\n<li>coordinator<ul>\n<li>partitionId=Math.abs(groupId.hashCode() % __consumer_offsets)</li>\n<li>leaderbroker</li>\n</ul>\n</li>\n<li>consumerkafka<ul>\n<li><ul>\n<li>session.timeout.ms6consumer</li>\n<li>heartbeat.interval.ms2</li>\n<li><strong>consumer3</strong></li>\n</ul>\n</li>\n<li><ul>\n<li>max.poll.interval.mspollconsumer</li>\n</ul>\n</li>\n<li>FULL GC</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"KafkaConsumer\"><a href=\"#KafkaConsumer\" class=\"headerlink\" title=\"KafkaConsumer\"></a>KafkaConsumer</h2><ul>\n<li></li>\n<li>KafkaConsumer</li>\n<li>1KafkaConsumertopic_partition</li>\n<li>2KafkaConsumerpoll</li>\n</ul>\n<h2 id=\"CommitFailedException\"><a href=\"#CommitFailedException\" class=\"headerlink\" title=\"CommitFailedException\"></a>CommitFailedException</h2><ul>\n<li>pollmax.poll.interval.msconsumerLeaveGroup0.10.1.0<ul>\n<li></li>\n<li>max.poll.interval.ms</li>\n<li>max.poll.records</li>\n<li></li>\n</ul>\n</li>\n<li>standalonegroupid</li>\n</ul>\n<h2 id=\"TCP\"><a href=\"#TCP\" class=\"headerlink\" title=\"TCP\"></a>TCP</h2><ul>\n<li>KafkaConsumerTCP3TCP<ul>\n<li> FindCoordinator Broker</li>\n<li>coordinator=&gt; Rebalance</li>\n<li>leaderbroker=&gt; </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>5</li>\n<li>commitSync</li>\n<li>commitAsync</li>\n<li>consumer</li>\n<li>kafka5000100</li>\n</ul>\n<h2 id=\"consumer-group\"><a href=\"#consumer-group\" class=\"headerlink\" title=\"consumer group\"></a>consumer group</h2><p>consumer lag100W80Wlag20Wkafkaconsumers-groupcomsumerjava apijmx</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>kafkareplicaappendkafkareplicaleaderfollowerbroker</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/70912772-a02c8980-204f-11ea-8643-b0d48cf9741f.png\" alt=\"image\"></p>\n<p>/leaderfollowerleadercrashkafka</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>kafkaread-your-writesABABBread-your-writes</p>\n<p>kafkaISRnormalleaderISRfollowerleaderreplica.lag.time.max.msISRISRISRleadercrashfollowerreplica.lag.time.max.msuncleanunclean.leader.election.enabletrue</p>\n<h2 id=\"broker\"><a href=\"#broker\" class=\"headerlink\" title=\"broker\"></a>broker</h2><p>brokersocket<a href=\"http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf\" target=\"_blank\" rel=\"noopener\">reactor</a>reactoracceptdispatchworker</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/70974586-0e6e5c00-20e3-11ea-8b6f-061ba7136691.png\" alt=\"image\"></p>\n<p></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/70974621-234aef80-20e3-11ea-9465-ae83e6d74c63.png\" alt=\"image\"></p>\n<p></p>\n<p>read()IOPRODUCEFETCHPRODUCEackallleaderfollowerPRODUCEpurgatoryreplica</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72348031-69ac6200-3714-11ea-87c9-d445e7349d01.png\" alt=\"image\"></p>\n<p>matt33</p>\n<p>acceptorIO</p>\n<h2 id=\"kafka\"><a href=\"#kafka\" class=\"headerlink\" title=\"kafka\"></a>kafka</h2><p>(consumer group)</p>\n<ul>\n<li>group.id</li>\n<li>timeout</li>\n<li></li>\n</ul>\n<p>consumer groupbrokerkafka<br><img src=\"https://user-images.githubusercontent.com/4915189/71159642-fcc2bb00-2280-11ea-83c9-3674506d08aa.png\" alt=\"image\"></p>\n<ul>\n<li>PreparingRebalance</li>\n<li>Stable</li>\n<li>Dead</li>\n</ul>\n<p>kafka_consumer_offsetstopicconsumer groupoffsettopicpartitionpartitionleaderbrokergroup</p>\n<p>consumer</p>\n<ul>\n<li><strong>REBALANCE_IN_PROGRESS</strong>response</li>\n<li>(JoinGroup)ACKJoinGroupconsumerleader consumerACKJoinGroupconsumer</li>\n<li>SyncGroupleader consumerconsumer</li>\n<li>consumer</li>\n</ul>\n<p><br><img src=\"https://user-images.githubusercontent.com/4915189/71161512-727c5600-2284-11ea-816a-0488b3d93976.png\" alt=\"image\"></p>\n<p>topicconsumerconsumertopic_partitiontopicpartitionNNtopic_partition</p>\n<h2 id=\"kafkacontroller\"><a href=\"#kafkacontroller\" class=\"headerlink\" title=\"kafkacontroller\"></a>kafkacontroller</h2><p>ZookeeperKafkaBrokerzookeeper/controllercontrollercontrollerbroker/controller</p>\n<ul>\n<li></li>\n<li></li>\n<li>preferredbrokerleader</li>\n<li>brokerbrokerbroker/broker/ids/</li>\n<li>zookeeperbroker</li>\n</ul>\n<p><br><img src=\"https://user-images.githubusercontent.com/4915189/71415497-f4122080-2696-11ea-92b9-4060d033b866.png\" alt=\"image\"></p>\n<ul>\n<li>zookeeperqueue</li>\n<li>queueStopReplica</li>\n</ul>\n<h2 id=\"Leader-Epoch\"><a href=\"#Leader-Epoch\" class=\"headerlink\" title=\"Leader Epoch\"></a>Leader Epoch</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71415605-769ae000-2697-11ea-92a9-faa2fc36bca0.png\" alt=\"image\"></p>\n<ul>\n<li>high water maskHWmessagefollowerreplicateHWreplicate<ul>\n<li>leaderHWHW</li>\n<li>followerHWleader = min(leaderHW, followerLEO)</li>\n</ul>\n</li>\n<li>log end offsetLEOLEOLEO1<ul>\n<li>leaderfollowerLEOleaderHW = min(followerLEOleaderLEO)</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431213-50af2300-270b-11ea-8af6-8146d902e255.png\" alt=\"image\"></p>\n<ul>\n<li>producer0leaderLEO1</li>\n<li>followerfetchoffset0leaderremote LEO0offsetleaderHWmin(remote LEO, leader LEO)0</li>\n<li>followerfetch0LEO1HWmin(followerLEOleaderHW)0</li>\n<li>followerfetchoffset1leaderremote LEO1offsetleaderHWmin(remote LEO, leader LEO)1</li>\n<li>followerfetchleaderHWmin(followerLEOleaderHW)1</li>\n</ul>\n<p>leaderHWRPCHWresponsefollowerfollowerfollowerLEOHWleader</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/71431323-0c705280-270c-11ea-92c0-de96d67b89ce.png\" alt=\"image\"></p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-101+-+Alter+Replication+Protocol+to+use+Leader+Epoch+rather+than+High+Watermark+for+Truncation\" target=\"_blank\" rel=\"noopener\">KIP-101</a>EpochfollowerleaderLEO<br><img src=\"https://user-images.githubusercontent.com/4915189/71431336-25790380-270c-11ea-8301-3e582ff3c1cb.png\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>MQ<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>MQ<ul>\n<li>RabbitMQ</li>\n<li>RedisMQ</li>\n<li>ZeroMQmq</li>\n<li>ActiveMQZeroMQ</li>\n<li>kafkapush and pullreplica</li>\n</ul>\n</li>\n<li>Kafka delivery guarantee<ul>\n<li>At most onceproducer</li>\n<li>At least once</li>\n<li>Exactly onceproducerPIDbroker&lt;PID, TOPIC, PARTITION&gt;sequenceproducer</li>\n</ul>\n</li>\n<li><ul>\n<li>topic-partitionsegmentsegmentoffset+kafkasegment</li>\n</ul>\n</li>\n<li>push vs pull<ul>\n<li>pushkafkapullpull</li>\n</ul>\n</li>\n<li>topicpartition<ul>\n<li>nbroker</li>\n<li>ipartitionleader(i mod n)broker</li>\n<li>ipartitionjfollower((i+j) mod n)broker</li>\n</ul>\n</li>\n<li>produerACK<ul>\n<li>acks = all</li>\n<li>producerleaderleaderlog</li>\n<li>ISRfollowerPULLACKleaderfollower</li>\n</ul>\n</li>\n<li>leader<ul>\n<li>kafkazookeeperbrokerpartitionzookeepercontrollerbrokerISRbrokerleader</li>\n</ul>\n</li>\n<li>kafka<ul>\n<li>partitionbroker</li>\n<li>partitionbroker</li>\n</ul>\n</li>\n<li>kafka<ul>\n<li>producersendbrokerbroker</li>\n<li>brokerflushpage cachecachereplica</li>\n<li>kafkasendfilesegmentzero copy</li>\n<li>produceconsume</li>\n<li>kafkaavroprotocol buffer</li>\n</ul>\n</li>\n<li>kafka<ul>\n<li>sessionproducer</li>\n<li>sessionproducercommitabort</li>\n<li>topic-partition</li>\n<li><ul>\n<li>producertransaction.id</li>\n<li>consumercommitconsumertopicconsumerseek</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71614560-5a42fa00-2be7-11ea-9a9f-f30a025b6381.png\" alt=\"image\"></p>"},{"title":"","date":"2020-01-14T14:43:57.000Z","comments":1,"_content":"\n\n\n<!--more-->\n\n##  bulkheads\n\n\n- \n- \n- \n\n\n- \n- \n- \n\n##  asynchronous\n\n\n- ABBCcontext\n- \n\n\n- senderreceiverreceiversenderreceiversendercallbackreceivercallbacksenderreceiver\n- senderpublisherreceiversubscribersubscriberpublisher30publishersubscriberACKsubscribersubscriberpublisher\n- sender => broker => receiverbrokersenderreceiversenderbrokerreceiverbrokercontextreturnsenderbrokerevent driven architecturebrokersendereventdata -> broker_a =>  => broker_b => \n\nbroker\n- broker\n- \n- adapteradapter\n- block\n- \n\nbroker\n- \n- \n- \n\nbroker\n- \n- \n- \n\n##  idempotency\n\ny = f(x)xyabs(x)APItimeout\n- \n- timeout\n\nididTwittersnowflakeworkerid\n\nAPIididNoSQLMongoDB\n\n##  state\n\n\n- \n- ID\n- session\n\nstateless\n- \n- Redis/MySQL/ZooKeeper\n- \n\nstateful\n- data locality\n- sticky connectionback pressure\n- \n- gossip\n- replica\n\n##  compensating transaction\n\nACIDBASEACID\n- basic availability\n- soft-state\n- eventually consistency\n\nBASEBASE\n\n- \n- \n\n##  retry\n\n- when: \n- how: fail fast/exponential backoff\n- service meshspringannotation\n\n##  circuit breaker\n\n![image](https://user-images.githubusercontent.com/4915189/71655359-517e2f80-2d71-11ea-82a2-3489c1d0ea2e.png)\n\n\n\n- closed\n- openclosed\n- half-openopenclosedopen\n\n\n- crashopen\n- half-open\n- admin\n- \n\n##  throttle\n\n4\n- SLART\n- \n- \n- \n\n\n- \n- \n- \n- \n- TOP5\n\n\n- +1-1MN\n- processor\n![image](https://user-images.githubusercontent.com/4915189/71948706-d5219b80-320b-11ea-887e-055f03e117d0.png)\n- processor\n![image](https://user-images.githubusercontent.com/4915189/71948724-eb2f5c00-320b-11ea-8b45-456a4325b7ff.png)\n- processorQPS\n![image](https://user-images.githubusercontent.com/4915189/71948727-f08ca680-320b-11ea-8152-9260165cdafd.png)\n\nRTresponse time\n- reservoir samplingRTP99P90\n- P99P90QPSTCPQPSP99P90QPS\n\n\n- \n- \n- \n- \n- \n- Header\n\n##  degradation\n\n\n- \n- \n- \n\n\n- \n- cache aside[](https://coolshell.cn/articles/17416.html)\n\n\n- \n- \n\n\n- \n\n\n- \n- \n- \n- \n- case\n\n## \n![image](https://user-images.githubusercontent.com/4915189/72056536-c4565000-3307-11ea-93bb-c1b6f88e4361.png)\nreplica4\n- nginxhaproxy\n- ZuulAPIConsulZookeeper\n- kubernates\n\nSpringAkkaStreams\n- bulkheads\n- \n- \n- \n\n\n- ++\n- +\n- +\n- ","source":"_posts/2020-01-14-chenhao-resilience-design.md","raw":"---\ntitle: \ndate: 2020-01-14 22:43:57\ntags: ['']\ncomments: true\ncategories: ['']\n---\n\n\n\n<!--more-->\n\n##  bulkheads\n\n\n- \n- \n- \n\n\n- \n- \n- \n\n##  asynchronous\n\n\n- ABBCcontext\n- \n\n\n- senderreceiverreceiversenderreceiversendercallbackreceivercallbacksenderreceiver\n- senderpublisherreceiversubscribersubscriberpublisher30publishersubscriberACKsubscribersubscriberpublisher\n- sender => broker => receiverbrokersenderreceiversenderbrokerreceiverbrokercontextreturnsenderbrokerevent driven architecturebrokersendereventdata -> broker_a =>  => broker_b => \n\nbroker\n- broker\n- \n- adapteradapter\n- block\n- \n\nbroker\n- \n- \n- \n\nbroker\n- \n- \n- \n\n##  idempotency\n\ny = f(x)xyabs(x)APItimeout\n- \n- timeout\n\nididTwittersnowflakeworkerid\n\nAPIididNoSQLMongoDB\n\n##  state\n\n\n- \n- ID\n- session\n\nstateless\n- \n- Redis/MySQL/ZooKeeper\n- \n\nstateful\n- data locality\n- sticky connectionback pressure\n- \n- gossip\n- replica\n\n##  compensating transaction\n\nACIDBASEACID\n- basic availability\n- soft-state\n- eventually consistency\n\nBASEBASE\n\n- \n- \n\n##  retry\n\n- when: \n- how: fail fast/exponential backoff\n- service meshspringannotation\n\n##  circuit breaker\n\n![image](https://user-images.githubusercontent.com/4915189/71655359-517e2f80-2d71-11ea-82a2-3489c1d0ea2e.png)\n\n\n\n- closed\n- openclosed\n- half-openopenclosedopen\n\n\n- crashopen\n- half-open\n- admin\n- \n\n##  throttle\n\n4\n- SLART\n- \n- \n- \n\n\n- \n- \n- \n- \n- TOP5\n\n\n- +1-1MN\n- processor\n![image](https://user-images.githubusercontent.com/4915189/71948706-d5219b80-320b-11ea-887e-055f03e117d0.png)\n- processor\n![image](https://user-images.githubusercontent.com/4915189/71948724-eb2f5c00-320b-11ea-8b45-456a4325b7ff.png)\n- processorQPS\n![image](https://user-images.githubusercontent.com/4915189/71948727-f08ca680-320b-11ea-8152-9260165cdafd.png)\n\nRTresponse time\n- reservoir samplingRTP99P90\n- P99P90QPSTCPQPSP99P90QPS\n\n\n- \n- \n- \n- \n- \n- Header\n\n##  degradation\n\n\n- \n- \n- \n\n\n- \n- cache aside[](https://coolshell.cn/articles/17416.html)\n\n\n- \n- \n\n\n- \n\n\n- \n- \n- \n- \n- case\n\n## \n![image](https://user-images.githubusercontent.com/4915189/72056536-c4565000-3307-11ea-93bb-c1b6f88e4361.png)\nreplica4\n- nginxhaproxy\n- ZuulAPIConsulZookeeper\n- kubernates\n\nSpringAkkaStreams\n- bulkheads\n- \n- \n- \n\n\n- ++\n- +\n- +\n- ","slug":"chenhao-resilience-design","published":1,"updated":"2020-04-12T03:47:41.667Z","_id":"ck8wh7ld1003q4supjpgv7b5g","layout":"post","photos":[],"link":"","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"-bulkheads\"><a href=\"#-bulkheads\" class=\"headerlink\" title=\" bulkheads\"></a> bulkheads</h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-asynchronous\"><a href=\"#-asynchronous\" class=\"headerlink\" title=\" asynchronous\"></a> asynchronous</h2><p></p>\n<ul>\n<li>ABBCcontext</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>senderreceiverreceiversenderreceiversendercallbackreceivercallbacksenderreceiver</li>\n<li>senderpublisherreceiversubscribersubscriberpublisher30publishersubscriberACKsubscribersubscriberpublisher</li>\n<li>sender =&gt; broker =&gt; receiverbrokersenderreceiversenderbrokerreceiverbrokercontextreturnsenderbrokerevent driven architecturebrokersendereventdata -&gt; broker_a =&gt;  =&gt; broker_b =&gt; </li>\n</ul>\n<p>broker</p>\n<ul>\n<li>broker</li>\n<li></li>\n<li>adapteradapter</li>\n<li>block</li>\n<li></li>\n</ul>\n<p>broker</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>broker</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-idempotency\"><a href=\"#-idempotency\" class=\"headerlink\" title=\" idempotency\"></a> idempotency</h2><p>y = f(x)xyabs(x)APItimeout</p>\n<ul>\n<li></li>\n<li>timeout</li>\n</ul>\n<p>ididTwittersnowflakeworkerid</p>\n<p>APIididNoSQLMongoDB</p>\n<h2 id=\"-state\"><a href=\"#-state\" class=\"headerlink\" title=\" state\"></a> state</h2><p></p>\n<ul>\n<li></li>\n<li>ID</li>\n<li>session</li>\n</ul>\n<p>stateless</p>\n<ul>\n<li></li>\n<li>Redis/MySQL/ZooKeeper</li>\n<li></li>\n</ul>\n<p>stateful</p>\n<ul>\n<li>data locality</li>\n<li>sticky connectionback pressure</li>\n<li></li>\n<li>gossip</li>\n<li>replica</li>\n</ul>\n<h2 id=\"-compensating-transaction\"><a href=\"#-compensating-transaction\" class=\"headerlink\" title=\" compensating transaction\"></a> compensating transaction</h2><p>ACIDBASEACID</p>\n<ul>\n<li>basic availability</li>\n<li>soft-state</li>\n<li>eventually consistency</li>\n</ul>\n<p>BASEBASE</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-retry\"><a href=\"#-retry\" class=\"headerlink\" title=\" retry\"></a> retry</h2><ul>\n<li>when: </li>\n<li>how: fail fast/exponential backoff</li>\n<li>service meshspringannotation</li>\n</ul>\n<h2 id=\"-circuit-breaker\"><a href=\"#-circuit-breaker\" class=\"headerlink\" title=\" circuit breaker\"></a> circuit breaker</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71655359-517e2f80-2d71-11ea-82a2-3489c1d0ea2e.png\" alt=\"image\"></p>\n<p></p>\n<ul>\n<li>closed</li>\n<li>openclosed</li>\n<li>half-openopenclosedopen</li>\n</ul>\n<p></p>\n<ul>\n<li>crashopen</li>\n<li>half-open</li>\n<li>admin</li>\n<li></li>\n</ul>\n<h2 id=\"-throttle\"><a href=\"#-throttle\" class=\"headerlink\" title=\" throttle\"></a> throttle</h2><p>4</p>\n<ul>\n<li>SLART</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>TOP5</li>\n</ul>\n<p></p>\n<ul>\n<li>+1-1MN</li>\n<li>processor<br><img src=\"https://user-images.githubusercontent.com/4915189/71948706-d5219b80-320b-11ea-887e-055f03e117d0.png\" alt=\"image\"></li>\n<li>processor<br><img src=\"https://user-images.githubusercontent.com/4915189/71948724-eb2f5c00-320b-11ea-8b45-456a4325b7ff.png\" alt=\"image\"></li>\n<li>processorQPS<br><img src=\"https://user-images.githubusercontent.com/4915189/71948727-f08ca680-320b-11ea-8152-9260165cdafd.png\" alt=\"image\"></li>\n</ul>\n<p>RTresponse time</p>\n<ul>\n<li>reservoir samplingRTP99P90</li>\n<li>P99P90QPSTCPQPSP99P90QPS</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Header</li>\n</ul>\n<h2 id=\"-degradation\"><a href=\"#-degradation\" class=\"headerlink\" title=\" degradation\"></a> degradation</h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>cache aside<a href=\"https://coolshell.cn/articles/17416.html\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>case</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/72056536-c4565000-3307-11ea-93bb-c1b6f88e4361.png\" alt=\"image\"><br>replica4</p>\n<ul>\n<li>nginxhaproxy</li>\n<li>ZuulAPIConsulZookeeper</li>\n<li>kubernates</li>\n</ul>\n<p>SpringAkkaStreams</p>\n<ul>\n<li>bulkheads</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>++</li>\n<li>+</li>\n<li>+</li>\n<li></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"-bulkheads\"><a href=\"#-bulkheads\" class=\"headerlink\" title=\" bulkheads\"></a> bulkheads</h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-asynchronous\"><a href=\"#-asynchronous\" class=\"headerlink\" title=\" asynchronous\"></a> asynchronous</h2><p></p>\n<ul>\n<li>ABBCcontext</li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>senderreceiverreceiversenderreceiversendercallbackreceivercallbacksenderreceiver</li>\n<li>senderpublisherreceiversubscribersubscriberpublisher30publishersubscriberACKsubscribersubscriberpublisher</li>\n<li>sender =&gt; broker =&gt; receiverbrokersenderreceiversenderbrokerreceiverbrokercontextreturnsenderbrokerevent driven architecturebrokersendereventdata -&gt; broker_a =&gt;  =&gt; broker_b =&gt; </li>\n</ul>\n<p>broker</p>\n<ul>\n<li>broker</li>\n<li></li>\n<li>adapteradapter</li>\n<li>block</li>\n<li></li>\n</ul>\n<p>broker</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>broker</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-idempotency\"><a href=\"#-idempotency\" class=\"headerlink\" title=\" idempotency\"></a> idempotency</h2><p>y = f(x)xyabs(x)APItimeout</p>\n<ul>\n<li></li>\n<li>timeout</li>\n</ul>\n<p>ididTwittersnowflakeworkerid</p>\n<p>APIididNoSQLMongoDB</p>\n<h2 id=\"-state\"><a href=\"#-state\" class=\"headerlink\" title=\" state\"></a> state</h2><p></p>\n<ul>\n<li></li>\n<li>ID</li>\n<li>session</li>\n</ul>\n<p>stateless</p>\n<ul>\n<li></li>\n<li>Redis/MySQL/ZooKeeper</li>\n<li></li>\n</ul>\n<p>stateful</p>\n<ul>\n<li>data locality</li>\n<li>sticky connectionback pressure</li>\n<li></li>\n<li>gossip</li>\n<li>replica</li>\n</ul>\n<h2 id=\"-compensating-transaction\"><a href=\"#-compensating-transaction\" class=\"headerlink\" title=\" compensating transaction\"></a> compensating transaction</h2><p>ACIDBASEACID</p>\n<ul>\n<li>basic availability</li>\n<li>soft-state</li>\n<li>eventually consistency</li>\n</ul>\n<p>BASEBASE</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-retry\"><a href=\"#-retry\" class=\"headerlink\" title=\" retry\"></a> retry</h2><ul>\n<li>when: </li>\n<li>how: fail fast/exponential backoff</li>\n<li>service meshspringannotation</li>\n</ul>\n<h2 id=\"-circuit-breaker\"><a href=\"#-circuit-breaker\" class=\"headerlink\" title=\" circuit breaker\"></a> circuit breaker</h2><p><img src=\"https://user-images.githubusercontent.com/4915189/71655359-517e2f80-2d71-11ea-82a2-3489c1d0ea2e.png\" alt=\"image\"></p>\n<p></p>\n<ul>\n<li>closed</li>\n<li>openclosed</li>\n<li>half-openopenclosedopen</li>\n</ul>\n<p></p>\n<ul>\n<li>crashopen</li>\n<li>half-open</li>\n<li>admin</li>\n<li></li>\n</ul>\n<h2 id=\"-throttle\"><a href=\"#-throttle\" class=\"headerlink\" title=\" throttle\"></a> throttle</h2><p>4</p>\n<ul>\n<li>SLART</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>TOP5</li>\n</ul>\n<p></p>\n<ul>\n<li>+1-1MN</li>\n<li>processor<br><img src=\"https://user-images.githubusercontent.com/4915189/71948706-d5219b80-320b-11ea-887e-055f03e117d0.png\" alt=\"image\"></li>\n<li>processor<br><img src=\"https://user-images.githubusercontent.com/4915189/71948724-eb2f5c00-320b-11ea-8b45-456a4325b7ff.png\" alt=\"image\"></li>\n<li>processorQPS<br><img src=\"https://user-images.githubusercontent.com/4915189/71948727-f08ca680-320b-11ea-8152-9260165cdafd.png\" alt=\"image\"></li>\n</ul>\n<p>RTresponse time</p>\n<ul>\n<li>reservoir samplingRTP99P90</li>\n<li>P99P90QPSTCPQPSP99P90QPS</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Header</li>\n</ul>\n<h2 id=\"-degradation\"><a href=\"#-degradation\" class=\"headerlink\" title=\" degradation\"></a> degradation</h2><p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>cache aside<a href=\"https://coolshell.cn/articles/17416.html\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>case</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://user-images.githubusercontent.com/4915189/72056536-c4565000-3307-11ea-93bb-c1b6f88e4361.png\" alt=\"image\"><br>replica4</p>\n<ul>\n<li>nginxhaproxy</li>\n<li>ZuulAPIConsulZookeeper</li>\n<li>kubernates</li>\n</ul>\n<p>SpringAkkaStreams</p>\n<ul>\n<li>bulkheads</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ul>\n<li>++</li>\n<li>+</li>\n<li>+</li>\n<li></li>\n</ul>"},{"title":"","date":"2020-01-15T03:03:25.000Z","comments":1,"_content":"\n\n\n<!--more-->\n\n##  distributed lock\n\nMartin Kleppmann[How to do distributed locking](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)\n- Efficiency\n- Correctness\n\n\n- /\n- \n- \n\n1RedisRedLock[Distributed locks with Redis](https://redis.io/topics/distlock)\n- 5[redisredlock](https://zhangjunjia.github.io/2019/08/21/redlock-algorithm/)\n- RedisNXTTL\n    - `SET resource_name my_random_value NX PX 30000`\n    - `NX`Redis\n    - `PX 30000`keytimeouttimeout\n    - `my_random_value`Check And Setlua\n- Martin Kleppmann[How to do distributed locking](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)Redisantirez[Is Redlock safe?](http://antirez.com/news/101)\n    - Martin Kleppmannversion\n    - \n\n2zookeeper[ZooKeeper](https://juejin.im/post/5c01532ef265da61362232ed)\n- [Apache Curator](https://curator.apache.org/)ZooKeeper\n- ZooKeeperwatch\n    - sessionTimeout\n    - znode\n    - watch\n\n\n3fencingMartin KleppmanndStop The World\n\n![image](https://user-images.githubusercontent.com/4915189/72590334-6b566f80-3938-11ea-9ea4-941ff10507cb.png)\n\nfencingversionversion\n\n![image](https://user-images.githubusercontent.com/4915189/72600359-6d2b2d80-394e-11ea-8128-f62d79847adc.png)\n\n4versionversion\n\n- update`\nUPDATE table_name SET xxx = #{xxx}, version=version+1 where version =#{version};`\n- CAS`\nSELECT stock FROM tb_product where product_id=#{product_id}; UPDATE tb_product SET stock=stock-#{num} WHERE product_id=#{product_id} AND stock=#{stock};`\n\n\n\n![image](https://user-images.githubusercontent.com/4915189/72600725-27bb3000-394f-11ea-9f68-6c96b340c900.png)\n\ntrade-offRedLockZooKeeperfencingversion\n\n##  Configuration Management\n\n\n- \n- RedisURL\n- IaaSPaaSSaaS\n\n\n- \n- namaspace\n- key/value\n- key/value\n\n\n\n![image](https://user-images.githubusercontent.com/4915189/72601496-7ddca300-3950-11ea-8134-c643112e15d8.png)\n\n[Apollo](https://github.com/ctripcorp/apollo)\n\n##  sidecar\n\nLib/SDKSidecar\n\nLib/SDK\n- \n- Lib/SDK\n- Lib/SDK\n\nsidecar\n- \n- dockerkubernates\n\nsidecarsidecarsidecar\n- sidecar\n- sidecar\n- sidecarsidecar\n- sidecar\n\n![image](https://user-images.githubusercontent.com/4915189/74081465-54fc8900-4a8a-11ea-8838-f642af9be652.png)\n\nsidecar\n- servicesidecar127.0.0.1\n- servicesidecarservicesidecarsidecar\n- sidecar\n- dockerkubernates\n- sidecar\n- sidecarhttpsidecarsidecarhttp\n\nsidecar\n- \n- \n- sidecar\n- \n\nsidecar\n- nginxhaproxy\n- \n- \n\n##  service mesh\n\nlinkerd[Whats a service mesh? And why do I need one? ](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)service mesh\n \n> A service mesh is a dedicated infrastructure layer for handling service-to-service communication. Its responsible for the reliable delivery of requests through the complex topology of services that comprise a modern, cloud native application. In practice, the service mesh is typically implemented as an array of lightweight network proxies that are deployed alongside application code, without the application needing to be aware.\n\n\n- service mesh\n- service mesh\n- service mesh\n- service mesh\n\nservice meshsidecar[Pattern: Service Mesh](https://philcalcado.com/2017/08/03/pattern_service_mesh.html)\n- \n- \n- \n- \n- Lib/SDK\n- Lib/SDKsidecar\n- sidecarservice mesh\n\n![image](https://user-images.githubusercontent.com/4915189/74098340-0f0af800-4b52-11ea-9e13-e5718f806d88.png)\nservice meshlinkerdscalagorustconduitistioistio\n\n![image](https://user-images.githubusercontent.com/4915189/74098316-ceab7a00-4b51-11ea-9d63-20d7bdf82969.png)\n\n\n- envoysidecar\n- mixerenvoymetricspilotauth\n\nservice mesh\n- sidecarsidecar\n- sidecargateway\n- kubernates\n\n##  gateway\n\nservice meshgateway\n\n![image](https://user-images.githubusercontent.com/4915189/74099636-d292c880-4b60-11ea-8fc8-088a51734e4d.png)\n\ngatewaygateway\n- \n- \n- \n- \n- SSLsession\n- \n- API\n- APIapi\n\n\n- \n- reload+AdminAPI\n- nginxmodule\n\n","source":"_posts/2020-01-15-chenhao-manage-design.md","raw":"---\ntitle: \ndate: 2020-01-15 11:03:25\ntags: ['']\ncomments: true\ncategories: ['']\n---\n\n\n\n<!--more-->\n\n##  distributed lock\n\nMartin Kleppmann[How to do distributed locking](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)\n- Efficiency\n- Correctness\n\n\n- /\n- \n- \n\n1RedisRedLock[Distributed locks with Redis](https://redis.io/topics/distlock)\n- 5[redisredlock](https://zhangjunjia.github.io/2019/08/21/redlock-algorithm/)\n- RedisNXTTL\n    - `SET resource_name my_random_value NX PX 30000`\n    - `NX`Redis\n    - `PX 30000`keytimeouttimeout\n    - `my_random_value`Check And Setlua\n- Martin Kleppmann[How to do distributed locking](https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html)Redisantirez[Is Redlock safe?](http://antirez.com/news/101)\n    - Martin Kleppmannversion\n    - \n\n2zookeeper[ZooKeeper](https://juejin.im/post/5c01532ef265da61362232ed)\n- [Apache Curator](https://curator.apache.org/)ZooKeeper\n- ZooKeeperwatch\n    - sessionTimeout\n    - znode\n    - watch\n\n\n3fencingMartin KleppmanndStop The World\n\n![image](https://user-images.githubusercontent.com/4915189/72590334-6b566f80-3938-11ea-9ea4-941ff10507cb.png)\n\nfencingversionversion\n\n![image](https://user-images.githubusercontent.com/4915189/72600359-6d2b2d80-394e-11ea-8128-f62d79847adc.png)\n\n4versionversion\n\n- update`\nUPDATE table_name SET xxx = #{xxx}, version=version+1 where version =#{version};`\n- CAS`\nSELECT stock FROM tb_product where product_id=#{product_id}; UPDATE tb_product SET stock=stock-#{num} WHERE product_id=#{product_id} AND stock=#{stock};`\n\n\n\n![image](https://user-images.githubusercontent.com/4915189/72600725-27bb3000-394f-11ea-9f68-6c96b340c900.png)\n\ntrade-offRedLockZooKeeperfencingversion\n\n##  Configuration Management\n\n\n- \n- RedisURL\n- IaaSPaaSSaaS\n\n\n- \n- namaspace\n- key/value\n- key/value\n\n\n\n![image](https://user-images.githubusercontent.com/4915189/72601496-7ddca300-3950-11ea-8134-c643112e15d8.png)\n\n[Apollo](https://github.com/ctripcorp/apollo)\n\n##  sidecar\n\nLib/SDKSidecar\n\nLib/SDK\n- \n- Lib/SDK\n- Lib/SDK\n\nsidecar\n- \n- dockerkubernates\n\nsidecarsidecarsidecar\n- sidecar\n- sidecar\n- sidecarsidecar\n- sidecar\n\n![image](https://user-images.githubusercontent.com/4915189/74081465-54fc8900-4a8a-11ea-8838-f642af9be652.png)\n\nsidecar\n- servicesidecar127.0.0.1\n- servicesidecarservicesidecarsidecar\n- sidecar\n- dockerkubernates\n- sidecar\n- sidecarhttpsidecarsidecarhttp\n\nsidecar\n- \n- \n- sidecar\n- \n\nsidecar\n- nginxhaproxy\n- \n- \n\n##  service mesh\n\nlinkerd[Whats a service mesh? And why do I need one? ](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)service mesh\n \n> A service mesh is a dedicated infrastructure layer for handling service-to-service communication. Its responsible for the reliable delivery of requests through the complex topology of services that comprise a modern, cloud native application. In practice, the service mesh is typically implemented as an array of lightweight network proxies that are deployed alongside application code, without the application needing to be aware.\n\n\n- service mesh\n- service mesh\n- service mesh\n- service mesh\n\nservice meshsidecar[Pattern: Service Mesh](https://philcalcado.com/2017/08/03/pattern_service_mesh.html)\n- \n- \n- \n- \n- Lib/SDK\n- Lib/SDKsidecar\n- sidecarservice mesh\n\n![image](https://user-images.githubusercontent.com/4915189/74098340-0f0af800-4b52-11ea-9e13-e5718f806d88.png)\nservice meshlinkerdscalagorustconduitistioistio\n\n![image](https://user-images.githubusercontent.com/4915189/74098316-ceab7a00-4b51-11ea-9d63-20d7bdf82969.png)\n\n\n- envoysidecar\n- mixerenvoymetricspilotauth\n\nservice mesh\n- sidecarsidecar\n- sidecargateway\n- kubernates\n\n##  gateway\n\nservice meshgateway\n\n![image](https://user-images.githubusercontent.com/4915189/74099636-d292c880-4b60-11ea-8fc8-088a51734e4d.png)\n\ngatewaygateway\n- \n- \n- \n- \n- SSLsession\n- \n- API\n- APIapi\n\n\n- \n- reload+AdminAPI\n- nginxmodule\n\n","slug":"chenhao-manage-design","published":1,"updated":"2020-04-12T03:50:53.809Z","_id":"ck8wh7ld4003t4supe9wvyqjc","layout":"post","photos":[],"link":"","content":"<p></p>\n<a id=\"more\"></a>\n<h2 id=\"-distributed-lock\"><a href=\"#-distributed-lock\" class=\"headerlink\" title=\" distributed lock\"></a> distributed lock</h2><p>Martin Kleppmann<a href=\"https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\" target=\"_blank\" rel=\"noopener\">How to do distributed locking</a></p>\n<ul>\n<li>Efficiency</li>\n<li>Correctness</li>\n</ul>\n<p></p>\n<ul>\n<li>/</li>\n<li></li>\n<li></li>\n</ul>\n<p>1RedisRedLock<a href=\"https://redis.io/topics/distlock\" target=\"_blank\" rel=\"noopener\">Distributed locks with Redis</a></p>\n<ul>\n<li>5<a href=\"https://zhangjunjia.github.io/2019/08/21/redlock-algorithm/\">redisredlock</a></li>\n<li>RedisNXTTL<ul>\n<li><code>SET resource_name my_random_value NX PX 30000</code></li>\n<li><code>NX</code>Redis</li>\n<li><code>PX 30000</code>keytimeouttimeout</li>\n<li><code>my_random_value</code>Check And Setlua</li>\n</ul>\n</li>\n<li>Martin Kleppmann<a href=\"https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\" target=\"_blank\" rel=\"noopener\">How to do distributed locking</a>Redisantirez<a href=\"http://antirez.com/news/101\" target=\"_blank\" rel=\"noopener\">Is Redlock safe?</a><ul>\n<li>Martin Kleppmannversion</li>\n<li></li>\n</ul>\n</li>\n</ul>\n<p>2zookeeper<a href=\"https://juejin.im/post/5c01532ef265da61362232ed\" target=\"_blank\" rel=\"noopener\">ZooKeeper</a></p>\n<ul>\n<li><a href=\"https://curator.apache.org/\" target=\"_blank\" rel=\"noopener\">Apache Curator</a>ZooKeeper</li>\n<li>ZooKeeperwatch<ul>\n<li>sessionTimeout</li>\n<li>znode</li>\n<li>watch</li>\n</ul>\n</li>\n</ul>\n<p>3fencingMartin KleppmanndStop The World</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72590334-6b566f80-3938-11ea-9ea4-941ff10507cb.png\" alt=\"image\"></p>\n<p>fencingversionversion</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72600359-6d2b2d80-394e-11ea-8128-f62d79847adc.png\" alt=\"image\"></p>\n<p>4versionversion</p>\n<ul>\n<li>update<code>UPDATE table_name SET xxx = #{xxx}, version=version+1 where version =#{version};</code></li>\n<li>CAS<code>SELECT stock FROM tb_product where product_id=#{product_id}; UPDATE tb_product SET stock=stock-#{num} WHERE product_id=#{product_id} AND stock=#{stock};</code></li>\n</ul>\n<p></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72600725-27bb3000-394f-11ea-9f68-6c96b340c900.png\" alt=\"image\"></p>\n<p>trade-offRedLockZooKeeperfencingversion</p>\n<h2 id=\"-Configuration-Management\"><a href=\"#-Configuration-Management\" class=\"headerlink\" title=\" Configuration Management\"></a> Configuration Management</h2><p></p>\n<ul>\n<li></li>\n<li>RedisURL</li>\n<li>IaaSPaaSSaaS</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>namaspace</li>\n<li>key/value</li>\n<li>key/value</li>\n</ul>\n<p></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72601496-7ddca300-3950-11ea-8134-c643112e15d8.png\" alt=\"image\"></p>\n<p><a href=\"https://github.com/ctripcorp/apollo\" target=\"_blank\" rel=\"noopener\">Apollo</a></p>\n<h2 id=\"-sidecar\"><a href=\"#-sidecar\" class=\"headerlink\" title=\" sidecar\"></a> sidecar</h2><p>Lib/SDKSidecar</p>\n<p>Lib/SDK</p>\n<ul>\n<li></li>\n<li>Lib/SDK</li>\n<li>Lib/SDK</li>\n</ul>\n<p>sidecar</p>\n<ul>\n<li></li>\n<li>dockerkubernates</li>\n</ul>\n<p>sidecarsidecarsidecar</p>\n<ul>\n<li>sidecar</li>\n<li>sidecar</li>\n<li>sidecarsidecar</li>\n<li>sidecar</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74081465-54fc8900-4a8a-11ea-8838-f642af9be652.png\" alt=\"image\"></p>\n<p>sidecar</p>\n<ul>\n<li>servicesidecar127.0.0.1</li>\n<li>servicesidecarservicesidecarsidecar</li>\n<li>sidecar</li>\n<li>dockerkubernates</li>\n<li>sidecar</li>\n<li>sidecarhttpsidecarsidecarhttp</li>\n</ul>\n<p>sidecar</p>\n<ul>\n<li></li>\n<li></li>\n<li>sidecar</li>\n<li></li>\n</ul>\n<p>sidecar</p>\n<ul>\n<li>nginxhaproxy</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-service-mesh\"><a href=\"#-service-mesh\" class=\"headerlink\" title=\" service mesh\"></a> service mesh</h2><p>linkerd<a href=\"https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/\" target=\"_blank\" rel=\"noopener\">Whats a service mesh? And why do I need one? </a>service mesh</p>\n<blockquote>\n<p>A service mesh is a dedicated infrastructure layer for handling service-to-service communication. Its responsible for the reliable delivery of requests through the complex topology of services that comprise a modern, cloud native application. In practice, the service mesh is typically implemented as an array of lightweight network proxies that are deployed alongside application code, without the application needing to be aware.</p>\n</blockquote>\n<p></p>\n<ul>\n<li>service mesh</li>\n<li>service mesh</li>\n<li>service mesh</li>\n<li>service mesh</li>\n</ul>\n<p>service meshsidecar<a href=\"https://philcalcado.com/2017/08/03/pattern_service_mesh.html\" target=\"_blank\" rel=\"noopener\">Pattern: Service Mesh</a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Lib/SDK</li>\n<li>Lib/SDKsidecar</li>\n<li>sidecarservice mesh</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74098340-0f0af800-4b52-11ea-9e13-e5718f806d88.png\" alt=\"image\"><br>service meshlinkerdscalagorustconduitistioistio</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74098316-ceab7a00-4b51-11ea-9d63-20d7bdf82969.png\" alt=\"image\"></p>\n<p></p>\n<ul>\n<li>envoysidecar</li>\n<li>mixerenvoymetricspilotauth</li>\n</ul>\n<p>service mesh</p>\n<ul>\n<li>sidecarsidecar</li>\n<li>sidecargateway</li>\n<li>kubernates</li>\n</ul>\n<h2 id=\"-gateway\"><a href=\"#-gateway\" class=\"headerlink\" title=\" gateway\"></a> gateway</h2><p>service meshgateway</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74099636-d292c880-4b60-11ea-8fc8-088a51734e4d.png\" alt=\"image\"></p>\n<p>gatewaygateway</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>SSLsession</li>\n<li></li>\n<li>API</li>\n<li>APIapi</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>reload+AdminAPI</li>\n<li>nginxmodule</li>\n</ul>\n<p></p>\n","site":{"data":{}},"excerpt":"<p></p>","more":"<h2 id=\"-distributed-lock\"><a href=\"#-distributed-lock\" class=\"headerlink\" title=\" distributed lock\"></a> distributed lock</h2><p>Martin Kleppmann<a href=\"https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\" target=\"_blank\" rel=\"noopener\">How to do distributed locking</a></p>\n<ul>\n<li>Efficiency</li>\n<li>Correctness</li>\n</ul>\n<p></p>\n<ul>\n<li>/</li>\n<li></li>\n<li></li>\n</ul>\n<p>1RedisRedLock<a href=\"https://redis.io/topics/distlock\" target=\"_blank\" rel=\"noopener\">Distributed locks with Redis</a></p>\n<ul>\n<li>5<a href=\"https://zhangjunjia.github.io/2019/08/21/redlock-algorithm/\">redisredlock</a></li>\n<li>RedisNXTTL<ul>\n<li><code>SET resource_name my_random_value NX PX 30000</code></li>\n<li><code>NX</code>Redis</li>\n<li><code>PX 30000</code>keytimeouttimeout</li>\n<li><code>my_random_value</code>Check And Setlua</li>\n</ul>\n</li>\n<li>Martin Kleppmann<a href=\"https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html\" target=\"_blank\" rel=\"noopener\">How to do distributed locking</a>Redisantirez<a href=\"http://antirez.com/news/101\" target=\"_blank\" rel=\"noopener\">Is Redlock safe?</a><ul>\n<li>Martin Kleppmannversion</li>\n<li></li>\n</ul>\n</li>\n</ul>\n<p>2zookeeper<a href=\"https://juejin.im/post/5c01532ef265da61362232ed\" target=\"_blank\" rel=\"noopener\">ZooKeeper</a></p>\n<ul>\n<li><a href=\"https://curator.apache.org/\" target=\"_blank\" rel=\"noopener\">Apache Curator</a>ZooKeeper</li>\n<li>ZooKeeperwatch<ul>\n<li>sessionTimeout</li>\n<li>znode</li>\n<li>watch</li>\n</ul>\n</li>\n</ul>\n<p>3fencingMartin KleppmanndStop The World</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72590334-6b566f80-3938-11ea-9ea4-941ff10507cb.png\" alt=\"image\"></p>\n<p>fencingversionversion</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72600359-6d2b2d80-394e-11ea-8128-f62d79847adc.png\" alt=\"image\"></p>\n<p>4versionversion</p>\n<ul>\n<li>update<code>UPDATE table_name SET xxx = #{xxx}, version=version+1 where version =#{version};</code></li>\n<li>CAS<code>SELECT stock FROM tb_product where product_id=#{product_id}; UPDATE tb_product SET stock=stock-#{num} WHERE product_id=#{product_id} AND stock=#{stock};</code></li>\n</ul>\n<p></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72600725-27bb3000-394f-11ea-9f68-6c96b340c900.png\" alt=\"image\"></p>\n<p>trade-offRedLockZooKeeperfencingversion</p>\n<h2 id=\"-Configuration-Management\"><a href=\"#-Configuration-Management\" class=\"headerlink\" title=\" Configuration Management\"></a> Configuration Management</h2><p></p>\n<ul>\n<li></li>\n<li>RedisURL</li>\n<li>IaaSPaaSSaaS</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>namaspace</li>\n<li>key/value</li>\n<li>key/value</li>\n</ul>\n<p></p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/72601496-7ddca300-3950-11ea-8134-c643112e15d8.png\" alt=\"image\"></p>\n<p><a href=\"https://github.com/ctripcorp/apollo\" target=\"_blank\" rel=\"noopener\">Apollo</a></p>\n<h2 id=\"-sidecar\"><a href=\"#-sidecar\" class=\"headerlink\" title=\" sidecar\"></a> sidecar</h2><p>Lib/SDKSidecar</p>\n<p>Lib/SDK</p>\n<ul>\n<li></li>\n<li>Lib/SDK</li>\n<li>Lib/SDK</li>\n</ul>\n<p>sidecar</p>\n<ul>\n<li></li>\n<li>dockerkubernates</li>\n</ul>\n<p>sidecarsidecarsidecar</p>\n<ul>\n<li>sidecar</li>\n<li>sidecar</li>\n<li>sidecarsidecar</li>\n<li>sidecar</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74081465-54fc8900-4a8a-11ea-8838-f642af9be652.png\" alt=\"image\"></p>\n<p>sidecar</p>\n<ul>\n<li>servicesidecar127.0.0.1</li>\n<li>servicesidecarservicesidecarsidecar</li>\n<li>sidecar</li>\n<li>dockerkubernates</li>\n<li>sidecar</li>\n<li>sidecarhttpsidecarsidecarhttp</li>\n</ul>\n<p>sidecar</p>\n<ul>\n<li></li>\n<li></li>\n<li>sidecar</li>\n<li></li>\n</ul>\n<p>sidecar</p>\n<ul>\n<li>nginxhaproxy</li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"-service-mesh\"><a href=\"#-service-mesh\" class=\"headerlink\" title=\" service mesh\"></a> service mesh</h2><p>linkerd<a href=\"https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/\" target=\"_blank\" rel=\"noopener\">Whats a service mesh? And why do I need one? </a>service mesh</p>\n<blockquote>\n<p>A service mesh is a dedicated infrastructure layer for handling service-to-service communication. Its responsible for the reliable delivery of requests through the complex topology of services that comprise a modern, cloud native application. In practice, the service mesh is typically implemented as an array of lightweight network proxies that are deployed alongside application code, without the application needing to be aware.</p>\n</blockquote>\n<p></p>\n<ul>\n<li>service mesh</li>\n<li>service mesh</li>\n<li>service mesh</li>\n<li>service mesh</li>\n</ul>\n<p>service meshsidecar<a href=\"https://philcalcado.com/2017/08/03/pattern_service_mesh.html\" target=\"_blank\" rel=\"noopener\">Pattern: Service Mesh</a></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Lib/SDK</li>\n<li>Lib/SDKsidecar</li>\n<li>sidecarservice mesh</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74098340-0f0af800-4b52-11ea-9e13-e5718f806d88.png\" alt=\"image\"><br>service meshlinkerdscalagorustconduitistioistio</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74098316-ceab7a00-4b51-11ea-9d63-20d7bdf82969.png\" alt=\"image\"></p>\n<p></p>\n<ul>\n<li>envoysidecar</li>\n<li>mixerenvoymetricspilotauth</li>\n</ul>\n<p>service mesh</p>\n<ul>\n<li>sidecarsidecar</li>\n<li>sidecargateway</li>\n<li>kubernates</li>\n</ul>\n<h2 id=\"-gateway\"><a href=\"#-gateway\" class=\"headerlink\" title=\" gateway\"></a> gateway</h2><p>service meshgateway</p>\n<p><img src=\"https://user-images.githubusercontent.com/4915189/74099636-d292c880-4b60-11ea-8fc8-088a51734e4d.png\" alt=\"image\"></p>\n<p>gatewaygateway</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>SSLsession</li>\n<li></li>\n<li>API</li>\n<li>APIapi</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>reload+AdminAPI</li>\n<li>nginxmodule</li>\n</ul>\n<p></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"ck8wh7l8k00014sup1fdkr6ob","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wh7l8y00094suptipot9ad"},{"post_id":"ck8wh7lai000p4supi3xipv7b","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wh7lar000v4supl0beshga"},{"post_id":"ck8wh7lau00104suph5zdd0zf","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wh7lb4001b4supkunkbkhg"},{"post_id":"ck8wh7lb6001e4sup4ty6c2u9","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wh7lbc001m4sup198cbpsy"},{"post_id":"ck8wh7lbj001y4sup5kumcmu1","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wh7lbu002d4supl14gfv4w"},{"post_id":"ck8wh7lbm00224suprulezlpd","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wh7lbw002g4supdlmeorm1"},{"post_id":"ck8wh7lbt002c4sup7e4whxez","category_id":"ck8wh7lbx002i4suppjh7cr6k","_id":"ck8wh7lc8002x4supbwbloh2d"},{"post_id":"ck8wh7l8v00064supsicyiief","category_id":"ck8wifbts0000qcupycxu1yt7","_id":"ck8wifbu90003qcupg78km51e"},{"post_id":"ck8wh7l8t00054supfgacn3am","category_id":"ck8wifbuy0004qcup0n4xs2f7","_id":"ck8wifbv40006qcupg2c66b3b"},{"post_id":"ck8wh7laq000u4sup6xk2xh6k","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbv90009qcupz3c5kyqd"},{"post_id":"ck8wh7lad000n4supo8nco089","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbva000aqcup3103et97"},{"post_id":"ck8wh7las000y4supbnriy8vk","category_id":"ck8wifbuy0004qcup0n4xs2f7","_id":"ck8wifbvc000cqcupeplb8flz"},{"post_id":"ck8wh7lb8001h4supix1a2v5o","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbvd000dqcup1z10mhhe"},{"post_id":"ck8wh7lal000r4suphu18c8ux","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbvg000fqcup22sby4bx"},{"post_id":"ck8wh7lay00134suptvy9rap1","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbvi000gqcup429bqzb5"},{"post_id":"ck8wh7lan000s4supmof0gqy5","category_id":"ck8wifbv80008qcupqbw0ztms","_id":"ck8wifbvm000hqcup239w8qt7"},{"post_id":"ck8wh7lb3001a4supncpj6tf6","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbvn000iqcup86xfrb7x"},{"post_id":"ck8wh7lbe001p4supvnu98y17","category_id":"ck8wifbuy0004qcup0n4xs2f7","_id":"ck8wifbvq000kqcup5n44n9ww"},{"post_id":"ck8wh7lb000164supneus443e","category_id":"ck8wifbvc000bqcupyntp5ae5","_id":"ck8wifbvz000lqcupy1m6cpox"},{"post_id":"ck8wh7lbb001l4supte5g7gr5","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbw1000mqcupx5nq3ytt"},{"post_id":"ck8wh7lbf001r4supvf4ccuuz","category_id":"ck8wifbts0000qcupycxu1yt7","_id":"ck8wifbw3000nqcupilchq1dh"},{"post_id":"ck8wh7lbp00254supfh39yip9","category_id":"ck8wifbuy0004qcup0n4xs2f7","_id":"ck8wifbw6000pqcup0e2azx1s"},{"post_id":"ck8wh7lb9001j4supfi56j0uq","category_id":"ck8wifbvf000eqcups4r15ax8","_id":"ck8wifbw8000rqcup9qm2rg0q"},{"post_id":"ck8wh7lbh001v4supmidp0y7j","category_id":"ck8wifbv10005qcupvn97iwcz","_id":"ck8wifbw9000sqcupv1myexyd"},{"post_id":"ck8wh7lbq00294supphh8aq3n","category_id":"ck8wifbuy0004qcup0n4xs2f7","_id":"ck8wifbwb000uqcupnsz043x8"},{"post_id":"ck8wh7lby002k4supub0stv3o","category_id":"ck8wifbuy0004qcup0n4xs2f7","_id":"ck8wifbwe000wqcup18vual08"},{"post_id":"ck8wh7lbv002f4supp65j5wty","category_id":"ck8wh7lbx002i4suppjh7cr6k","_id":"ck8wifbwh000zqcupe664bmui"},{"post_id":"ck8wh7lc0002n4supuounr58c","category_id":"ck8wifbvf000eqcups4r15ax8","_id":"ck8wifbwi0010qcup9ptywo4d"},{"post_id":"ck8wh7lc3002r4supghsejtop","category_id":"ck8wifbts0000qcupycxu1yt7","_id":"ck8wifbwk0014qcupsdbzmp0k"},{"post_id":"ck8wh7lcb00324supmuqbfn53","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wifbwm0016qcupnj1kwbob"},{"post_id":"ck8wh7lc4002t4supqtuxty5g","category_id":"ck8wh7l8r00034sup3j18khbd","_id":"ck8wifbwn0018qcupgzdpef7z"},{"post_id":"ck8wh7lc9002z4sup7zpwmd7q","category_id":"ck8wifbvf000eqcups4r15ax8","_id":"ck8wifbwn001aqcupsafnc2zk"},{"post_id":"ck8wh7lc6002w4supokmz9upn","category_id":"ck8wifbw3000oqcup8wz14f1g","_id":"ck8wifbwo001bqcup15c3wck4"},{"post_id":"ck8wh7lcl003c4supmznxrki1","category_id":"ck8wh7lbx002i4suppjh7cr6k","_id":"ck8wifbwo001cqcupkaa7ur5c"},{"post_id":"ck8wh7lcd00344sup5bherglm","category_id":"ck8wifbw3000oqcup8wz14f1g","_id":"ck8wifbwo001dqcupadnkiu5o"},{"post_id":"ck8wh7lci00394sup01hvb122","category_id":"ck8wifbwa000tqcupxbo8ylor","_id":"ck8wifbwp001eqcupjsq7cc41"},{"post_id":"ck8wh7lcn003e4sup60jghpr5","category_id":"ck8wifbuy0004qcup0n4xs2f7","_id":"ck8wifbwp001fqcupdpofzy2g"},{"post_id":"ck8wh7lcw003m4supayvyuguz","category_id":"ck8wh7lbx002i4suppjh7cr6k","_id":"ck8wifbwp001gqcupyg2wd2ki"},{"post_id":"ck8wh7lcr003h4sup9avpb1ji","category_id":"ck8wifbwd000vqcupbfxgg1hn","_id":"ck8wifbwp001hqcupasrsyh10"},{"post_id":"ck8wh7lcz003o4sup80n69fab","category_id":"ck8wifbwa000tqcupxbo8ylor","_id":"ck8wifbwq001iqcupsvc0rmwb"},{"post_id":"ck8wh7ld1003q4supjpgv7b5g","category_id":"ck8wifbwd000vqcupbfxgg1hn","_id":"ck8wifbwq001jqcup3jgkm4oq"},{"post_id":"ck8wh7lcg00374suptgycc5f4","category_id":"ck8wifbwd000vqcupbfxgg1hn","_id":"ck8wifbwq001kqcup78vzzlvw"},{"post_id":"ck8wh7ld4003t4supe9wvyqjc","category_id":"ck8wifbwd000vqcupbfxgg1hn","_id":"ck8wifbwr001lqcupauzruipi"},{"post_id":"ck8wh7lct003j4supzavyq6be","category_id":"ck8wifbwj0012qcuparm9n2fb","_id":"ck8wifbwr001mqcupa7kcipkw"}],"PostTag":[{"post_id":"ck8wh7l8k00014sup1fdkr6ob","tag_id":"ck8wh7l8s00044supo99wwic1","_id":"ck8wh7l8z000c4supoqg275wm"},{"post_id":"ck8wh7l8k00014sup1fdkr6ob","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7l90000d4supdvf18woh"},{"post_id":"ck8wh7l8t00054supfgacn3am","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7l95000k4supmtv985fr"},{"post_id":"ck8wh7lad000n4supo8nco089","tag_id":"ck8wh7lal000q4supqwr7fi9j","_id":"ck8wh7las000x4supy04ffggq"},{"post_id":"ck8wh7lai000p4supi3xipv7b","tag_id":"ck8wh7lar000w4supsfqrzk6h","_id":"ck8wh7laz00154suphwmhtkqo"},{"post_id":"ck8wh7lay00134suptvy9rap1","tag_id":"ck8wh7law00124supljtp6asp","_id":"ck8wh7lb300194sup1qwewrqt"},{"post_id":"ck8wh7lal000r4suphu18c8ux","tag_id":"ck8wh7law00124supljtp6asp","_id":"ck8wh7lb5001d4supfrc70jm3"},{"post_id":"ck8wh7lan000s4supmof0gqy5","tag_id":"ck8wh7lb300184supfv3tifki","_id":"ck8wh7lb8001i4sup98xwy8j2"},{"post_id":"ck8wh7laq000u4sup6xk2xh6k","tag_id":"ck8wh7lb7001g4sup3zwauu24","_id":"ck8wh7lbe001o4supidrat0c2"},{"post_id":"ck8wh7lbe001p4supvnu98y17","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7lbh001u4supnkyl4vd2"},{"post_id":"ck8wh7las000y4supbnriy8vk","tag_id":"ck8wh7lbc001n4suptwta6y8n","_id":"ck8wh7lbj001x4sup03fr19y8"},{"post_id":"ck8wh7las000y4supbnriy8vk","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7lbl00214sup2tnpvy3e"},{"post_id":"ck8wh7lau00104suph5zdd0zf","tag_id":"ck8wh7l8s00044supo99wwic1","_id":"ck8wh7lbn00244supdgsle4lj"},{"post_id":"ck8wh7lau00104suph5zdd0zf","tag_id":"ck8wh7lbg001t4sup7liil322","_id":"ck8wh7lbq00274supmyilvgeg"},{"post_id":"ck8wh7lbm00224suprulezlpd","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7lbs002b4suppdq34ece"},{"post_id":"ck8wh7lbm00224suprulezlpd","tag_id":"ck8wh7lbc001n4suptwta6y8n","_id":"ck8wh7lbv002e4supd665lgs7"},{"post_id":"ck8wh7lb000164supneus443e","tag_id":"ck8wh7lbl00204suplj943xoc","_id":"ck8wh7lby002j4supb655iosb"},{"post_id":"ck8wh7lbp00254supfh39yip9","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7lc0002m4supxgs0brhu"},{"post_id":"ck8wh7lbq00294supphh8aq3n","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7lc2002q4suplxrie4ue"},{"post_id":"ck8wh7lb3001a4supncpj6tf6","tag_id":"ck8wh7lbq00284supvs2y8inq","_id":"ck8wh7lc4002s4supjpxv4wn6"},{"post_id":"ck8wh7lby002k4supub0stv3o","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7lc6002v4supzkxuyln3"},{"post_id":"ck8wh7lb6001e4sup4ty6c2u9","tag_id":"ck8wh7lbc001n4suptwta6y8n","_id":"ck8wh7lc8002y4supuohb7qkf"},{"post_id":"ck8wh7lc3002r4supghsejtop","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7lcb00314supju1d7m5r"},{"post_id":"ck8wh7lc4002t4supqtuxty5g","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7lcc00334supv5a7al5x"},{"post_id":"ck8wh7lb8001h4supix1a2v5o","tag_id":"ck8wh7lbc001n4suptwta6y8n","_id":"ck8wh7lcf00364supo0rnmgbh"},{"post_id":"ck8wh7lb8001h4supix1a2v5o","tag_id":"ck8wh7lc5002u4supu9hnjur8","_id":"ck8wh7lch00384sup2vl9woev"},{"post_id":"ck8wh7lcb00324supmuqbfn53","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7lck003b4sup4828sbwu"},{"post_id":"ck8wh7lb9001j4supfi56j0uq","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7lcn003d4supkxvlce80"},{"post_id":"ck8wh7lb9001j4supfi56j0uq","tag_id":"ck8wh7lbc001n4suptwta6y8n","_id":"ck8wh7lcq003g4supk3d45qoo"},{"post_id":"ck8wh7lb9001j4supfi56j0uq","tag_id":"ck8wh7lc5002u4supu9hnjur8","_id":"ck8wh7lct003i4supf73g2wyc"},{"post_id":"ck8wh7lcl003c4supmznxrki1","tag_id":"ck8wh7l8y000b4supz7vlapub","_id":"ck8wh7lcv003k4supco8e4cxx"},{"post_id":"ck8wh7lbb001l4supte5g7gr5","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7lcy003n4supxz9zdi34"},{"post_id":"ck8wh7lbb001l4supte5g7gr5","tag_id":"ck8wh7lcj003a4sup506q5x23","_id":"ck8wh7ld1003p4supo4g5kn2l"},{"post_id":"ck8wh7lcn003e4sup60jghpr5","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7ld4003s4sup7i7sc1zy"},{"post_id":"ck8wh7lbf001r4supvf4ccuuz","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wh7ld6003u4supppgpgj84"},{"post_id":"ck8wh7lbf001r4supvf4ccuuz","tag_id":"ck8wh7lco003f4suprq6c8twe","_id":"ck8wh7ld8003w4sup5wsmhvo8"},{"post_id":"ck8wh7lbf001r4supvf4ccuuz","tag_id":"ck8wh7lbc001n4suptwta6y8n","_id":"ck8wh7ld8003x4supxgvj68d6"},{"post_id":"ck8wh7lbh001v4supmidp0y7j","tag_id":"ck8wh7lcw003l4supbd7hmr0i","_id":"ck8wh7ld9003z4supsg911h5c"},{"post_id":"ck8wh7lbj001y4sup5kumcmu1","tag_id":"ck8wh7ld3003r4supu9vfx0aa","_id":"ck8wh7lda00404supyjgqix4c"},{"post_id":"ck8wh7lbt002c4sup7e4whxez","tag_id":"ck8wh7ld7003v4sup55kg5k07","_id":"ck8wh7lda00414sup58rfxuwc"},{"post_id":"ck8wh7lc0002n4supuounr58c","tag_id":"ck8wh7l8x00084supwpbg3piw","_id":"ck8wh7ldc00444supp5psn3rs"},{"post_id":"ck8wh7lc0002n4supuounr58c","tag_id":"ck8wh7ld9003y4suplyrgnvjk","_id":"ck8wh7ldd00454supx7str5xw"},{"post_id":"ck8wh7lc0002n4supuounr58c","tag_id":"ck8wh7lco003f4suprq6c8twe","_id":"ck8wh7lde00474sup455o2mxh"},{"post_id":"ck8wh7lc6002w4supokmz9upn","tag_id":"ck8wh7ldb00434supptyyrqo3","_id":"ck8wh7lde00484sup9qf02vc9"},{"post_id":"ck8wh7lc9002z4sup7zpwmd7q","tag_id":"ck8wh7lco003f4suprq6c8twe","_id":"ck8wh7ldg004a4supx857e7h7"},{"post_id":"ck8wh7lcd00344sup5bherglm","tag_id":"ck8wh7ldb00434supptyyrqo3","_id":"ck8wh7ldh004c4supvzhb10rf"},{"post_id":"ck8wh7lcg00374suptgycc5f4","tag_id":"ck8wh7ldg004b4sup7slyamvf","_id":"ck8wh7ldl004h4supt5wexfhd"},{"post_id":"ck8wh7lcg00374suptgycc5f4","tag_id":"ck8wh7ldb00434supptyyrqo3","_id":"ck8wh7ldm004i4sup2clpoqf4"},{"post_id":"ck8wh7lcg00374suptgycc5f4","tag_id":"ck8wh7ldj004e4sup21a3b5n9","_id":"ck8wh7ldn004k4supqwgvh5bj"},{"post_id":"ck8wh7lcg00374suptgycc5f4","tag_id":"ck8wh7ldk004f4supyr2tt83i","_id":"ck8wh7ldn004l4sup3pzlwqpg"},{"post_id":"ck8wh7lci00394sup01hvb122","tag_id":"ck8wh7ldj004e4sup21a3b5n9","_id":"ck8wh7ldp004n4sup93cwftwe"},{"post_id":"ck8wh7lcr003h4sup9avpb1ji","tag_id":"ck8wh7ldb00434supptyyrqo3","_id":"ck8wh7ldq004p4sup8hi7gi1v"},{"post_id":"ck8wh7lcr003h4sup9avpb1ji","tag_id":"ck8wh7ldg004b4sup7slyamvf","_id":"ck8wh7ldq004q4suph6n02yc9"},{"post_id":"ck8wh7lcw003m4supayvyuguz","tag_id":"ck8wh7l8y000b4supz7vlapub","_id":"ck8wh7ldr004s4supscsfnbpu"},{"post_id":"ck8wh7lcw003m4supayvyuguz","tag_id":"ck8wh7ld7003v4sup55kg5k07","_id":"ck8wh7lds004t4supp6qle1v1"},{"post_id":"ck8wh7lcz003o4sup80n69fab","tag_id":"ck8wh7ldr004r4sup8w5nbv8y","_id":"ck8wh7ldt004v4supi7zphufy"},{"post_id":"ck8wh7l8v00064supsicyiief","tag_id":"ck8wifbu60001qcupy691zydl","_id":"ck8wifbu80002qcupbl4l0ula"},{"post_id":"ck8wh7lbv002f4supp65j5wty","tag_id":"ck8wh7l92000g4supepyqun82","_id":"ck8wifbvo000jqcupd4quy4fz"},{"post_id":"ck8wh7lct003j4supzavyq6be","tag_id":"ck8wifbwe000xqcuppb0ajuzk","_id":"ck8wifbwi0011qcupo04420ue"},{"post_id":"ck8wh7ld1003q4supjpgv7b5g","tag_id":"ck8wifbwk0013qcup5gdysj7h","_id":"ck8wifbwm0017qcupt6c0tjwd"},{"post_id":"ck8wh7ld4003t4supe9wvyqjc","tag_id":"ck8wifbwk0013qcup5gdysj7h","_id":"ck8wifbwn0019qcupp5v7ty6w"}],"Tag":[{"name":"HBase","_id":"ck8wh7l8s00044supo99wwic1"},{"name":"Java","_id":"ck8wh7l8x00084supwpbg3piw"},{"name":"Algorithm","_id":"ck8wh7l8y000b4supz7vlapub"},{"name":"C/C++","_id":"ck8wh7l92000g4supepyqun82"},{"name":"","_id":"ck8wh7l95000j4supkn9hvqd9"},{"name":"Maven","_id":"ck8wh7lal000q4supqwr7fi9j"},{"name":"Spring","_id":"ck8wh7lar000w4supsfqrzk6h"},{"name":"SVN","_id":"ck8wh7law00124supljtp6asp"},{"name":"","_id":"ck8wh7lb300184supfv3tifki"},{"name":"LVM","_id":"ck8wh7lb7001g4sup3zwauu24"},{"name":"Linux","_id":"ck8wh7lbc001n4suptwta6y8n"},{"name":"Hadoop","_id":"ck8wh7lbg001t4sup7liil322"},{"name":"","_id":"ck8wh7lbl00204suplj943xoc"},{"name":"Docker","_id":"ck8wh7lbq00284supvs2y8inq"},{"name":"Network","_id":"ck8wh7lc5002u4supu9hnjur8"},{"name":"Eclipse","_id":"ck8wh7lcj003a4sup506q5x23"},{"name":"TCP/IP","_id":"ck8wh7lco003f4suprq6c8twe"},{"name":"Tomcat","_id":"ck8wh7lcw003l4supbd7hmr0i"},{"name":"Beaglebone","_id":"ck8wh7ld3003r4supu9vfx0aa"},{"name":"","_id":"ck8wh7ld7003v4sup55kg5k07"},{"name":"Mina","_id":"ck8wh7ld9003y4suplyrgnvjk"},{"name":"MySQL","_id":"ck8wh7ldb00434supptyyrqo3"},{"name":"","_id":"ck8wh7ldg004b4sup7slyamvf"},{"name":"Redis","_id":"ck8wh7ldj004e4sup21a3b5n9"},{"name":"HDFS","_id":"ck8wh7ldk004f4supyr2tt83i"},{"name":"Kafka","_id":"ck8wh7ldr004r4sup8w5nbv8y"},{"name":"Design","_id":"ck8wh7lds004u4supmu1hw71g"},{"name":"","_id":"ck8wifbu60001qcupy691zydl"},{"name":"B-Tree","_id":"ck8wifbwe000xqcuppb0ajuzk"},{"name":"","_id":"ck8wifbwk0013qcup5gdysj7h"}]}}